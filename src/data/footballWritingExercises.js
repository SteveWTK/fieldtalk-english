// src/data/footballWritingExercises.js
// Football-specific writing exercises for Brazilian players learning English

export const BEGINNER_EXERCISES = [
  {
    id: "first_training",
    level: "A1-A2",
    category: "daily_life",
    title: "First Day at Training",
    prompt: "Write about your first day at training with your new UK club. Describe how you felt, what happened, and your first impressions of the facilities and teammates.",
    minWords: 30,
    maxWords: 50,
    keywords: ["arrived", "met", "trained", "nervous", "excited", "facilities", "teammates"],
    grammarFocus: ["Simple Past", "Past Continuous", "Feelings vocabulary"],
    sampleAnswer: "Yesterday was my first day at Manchester United's training ground. I felt very nervous but excited. The facilities were amazing - much bigger than in Brazil! I met my new teammates and they were very friendly. We trained for two hours. The weather was cold and rainy, very different from home. The coach spoke slowly to help me understand. I think I will be happy here.",
    culturalNotes: [
      "Always arrive 15 minutes early for training in the UK",
      "British people talk about weather a lot - it's a good conversation starter",
      "Shake hands firmly when meeting new teammates"
    ]
  },
  {
    id: "position_style",
    level: "A2",
    category: "football_specific",
    title: "Your Position & Playing Style",
    prompt: "Describe your position on the field and your playing style. What are your strengths? What makes you unique as a player?",
    minWords: 40,
    maxWords: 60,
    keywords: ["position", "midfielder", "striker", "defender", "pace", "vision", "technical", "strong"],
    grammarFocus: ["Present Simple", "Adjectives", "Football vocabulary"],
    sampleAnswer: "I am a central midfielder who likes to control the game. My main strength is my passing ability - I can find teammates with through balls. I have good vision and always look for the best option. I am also strong in tackles and win many balls. I need to improve my shooting from outside the box. My style is similar to Casemiro but with more attacking runs.",
    culturalNotes: [
      "Be confident but humble when describing your abilities",
      "British culture values team players over individual stars",
      "Mention areas for improvement shows good attitude"
    ]
  },
  {
    id: "teammate_email",
    level: "A2-B1",
    category: "communication",
    title: "Email to New Teammates",
    prompt: "Write an email to your new teammates introducing yourself. Include where you're from, your football background, and express excitement about joining the team.",
    minWords: 50,
    maxWords: 80,
    keywords: ["introduce", "Brazil", "played for", "excited", "looking forward", "learn", "help", "win"],
    grammarFocus: ["Email format", "Present Perfect", "Future forms"],
    sampleAnswer: "Hi everyone,\n\nMy name is João Silva and I've just joined the team from Santos FC in Brazil. I've played professional football for 5 years and I'm really excited to start this new chapter in England. I know the Premier League is very competitive and I'm looking forward to helping the team win trophies. My English is still improving, so please be patient with me! I hope we can be not just teammates but also friends.\n\nSee you at training!\nJoão",
    culturalNotes: [
      "Keep emails friendly but professional",
      "Mentioning you're learning English shows humility",
      "Offering friendship is appreciated in British team culture"
    ]
  }
];

export const INTERMEDIATE_EXERCISES = [
  {
    id: "injury_report",
    level: "B1",
    category: "medical",
    title: "Reporting an Injury",
    prompt: "Write a message to the medical staff explaining an injury you felt during training. Describe when it happened, where it hurts, and how severe you think it is.",
    minWords: 60,
    maxWords: 80,
    keywords: ["felt", "pain", "muscle", "knee", "ankle", "sharp", "during", "exercise", "worried"],
    grammarFocus: ["Past tenses", "Body parts", "Medical vocabulary"],
    sampleAnswer: "Hi Doc,\n\nI need to report an injury from today's training. During the sprint drills, about 30 minutes into the session, I felt a sharp pain in my left hamstring. It happened when I was accelerating to chase a through ball. The pain is in the back of my thigh, and it feels tight when I walk. On a scale of 1-10, I'd say it's about a 6. I'm worried it might affect me for Saturday's match. Could you please check it when possible?\n\nThanks,\nPedro",
    culturalNotes: [
      "Report injuries immediately - don't try to 'play through pain'",
      "Be specific about location and type of pain",
      "British medical staff appreciate honest communication"
    ]
  },
  {
    id: "press_interview",
    level: "B1-B2",
    category: "media",
    title: "Post-Match Interview",
    prompt: "You scored your first goal for the club. Write what you would say in a short post-match interview. Thank your teammates, describe the goal, and share your feelings.",
    minWords: 70,
    maxWords: 100,
    keywords: ["delighted", "teammates", "assist", "support", "fans", "dream", "worked hard", "team effort"],
    grammarFocus: ["Present Perfect", "Expressing emotions", "Formal speech"],
    sampleAnswer: "I'm absolutely delighted to score my first goal for this amazing club. It's been a dream of mine since I was young to play in the Premier League. The goal came from great team play - Marcus made a perfect assist and I just had to finish it. I want to thank all my teammates for their support, the coaching staff for believing in me, and especially the fans who have been incredible since day one. We worked hard for this win and it's a team effort. I hope this is the first of many goals. Come on United!",
    culturalNotes: [
      "Always credit teammates and team effort",
      "Thank the fans - they're crucial in British football",
      "Keep answers positive even after difficult matches"
    ]
  },
  {
    id: "tactical_discussion",
    level: "B2",
    category: "tactical",
    title: "Discussing Tactics with Coach",
    prompt: "Write a conversation where you suggest a tactical change to your coach. Explain why you think it would help the team and how it fits your playing style.",
    minWords: 80,
    maxWords: 120,
    keywords: ["suggest", "formation", "create space", "overlap", "press", "defensive line", "counter-attack"],
    grammarFocus: ["Modal verbs", "Conditionals", "Football tactics vocabulary"],
    sampleAnswer: "Coach, could I share an idea about our formation? I've noticed that when we play 4-3-3, the opposition often crowds the midfield, making it difficult for us to build up play. What if we tried switching to a 4-2-3-1 in the second half? This would give me more freedom as the number 10 to find pockets of space between their lines. We could also use the wide players to stretch their defense. When we lose the ball, I could drop back quickly to form a block of four in midfield. I think this could help us control the game better, especially when we're leading. What do you think?",
    culturalNotes: [
      "Frame suggestions as questions, not demands",
      "British coaches appreciate tactical awareness",
      "Show you're thinking about the team, not just yourself"
    ]
  }
];

export const ADVANCED_EXERCISES = [
  {
    id: "contract_meeting",
    level: "B2-C1",
    category: "professional",
    title: "Contract Discussion Notes",
    prompt: "Write notes preparing for a contract renewal meeting. Include your achievements, future goals, and why you deserve improved terms.",
    minWords: 100,
    maxWords: 150,
    keywords: ["achievements", "statistics", "contribution", "market value", "commitment", "objectives", "negotiate"],
    grammarFocus: ["Present Perfect", "Future forms", "Formal vocabulary"],
    sampleAnswer: "Contract Renewal Meeting Points:\n\n1. Achievements this season:\n- Played 28 matches, scoring 12 goals and 8 assists\n- Helped team qualify for Champions League\n- Named Player of the Month twice\n- Maintained 87% pass completion rate\n\n2. Market context:\n- Similar players at rival clubs earning 20-30% more\n- Recent transfer offers from European clubs show my value\n- Still 3 years until peak age\n\n3. Future commitment:\n- Want to be part of long-term project\n- Willing to take leadership role with younger players\n- Goal to help win Premier League within 2 years\n\n4. Proposal:\n- 3-year extension with performance bonuses\n- Recognition of increased responsibility\n- Investment in my continued development\n\nI believe this reflects my value to the team and my commitment to our shared success.",
    culturalNotes: [
      "Be professional and fact-based in negotiations",
      "British business culture values preparation and data",
      "Show long-term commitment, not just money focus"
    ]
  }
];

// Exercise progression path
export const EXERCISE_PROGRESSION = {
  beginner: {
    exercises: BEGINNER_EXERCISES,
    completionCriteria: {
      minScore: 6,
      exercisesToComplete: 3
    },
    nextLevel: "intermediate"
  },
  intermediate: {
    exercises: INTERMEDIATE_EXERCISES,
    completionCriteria: {
      minScore: 7,
      exercisesToComplete: 3
    },
    nextLevel: "advanced"
  },
  advanced: {
    exercises: ADVANCED_EXERCISES,
    completionCriteria: {
      minScore: 8,
      exercisesToComplete: 2
    },
    nextLevel: null
  }
};

// Helper function to get exercise by ID
export function getExerciseById(exerciseId) {
  const allExercises = [
    ...BEGINNER_EXERCISES,
    ...INTERMEDIATE_EXERCISES,
    ...ADVANCED_EXERCISES
  ];
  return allExercises.find(ex => ex.id === exerciseId);
}

// Helper function to get exercises by level
export function getExercisesByLevel(level) {
  switch(level.toLowerCase()) {
    case 'beginner':
    case 'a1':
    case 'a2':
      return BEGINNER_EXERCISES;
    case 'intermediate':
    case 'b1':
    case 'b2':
      return INTERMEDIATE_EXERCISES;
    case 'advanced':
    case 'c1':
    case 'c2':
      return ADVANCED_EXERCISES;
    default:
      return BEGINNER_EXERCISES;
  }
}

// Helper function to get next exercise
export function getNextExercise(currentExerciseId, completedExercises = []) {
  const allExercises = [
    ...BEGINNER_EXERCISES,
    ...INTERMEDIATE_EXERCISES,
    ...ADVANCED_EXERCISES
  ];
  
  const currentIndex = allExercises.findIndex(ex => ex.id === currentExerciseId);
  const availableExercises = allExercises.filter(ex => !completedExercises.includes(ex.id));
  
  if (availableExercises.length === 0) {
    return null; // All exercises completed
  }
  
  // Try to get next exercise in sequence
  if (currentIndex !== -1 && currentIndex < allExercises.length - 1) {
    const nextExercise = allExercises[currentIndex + 1];
    if (!completedExercises.includes(nextExercise.id)) {
      return nextExercise;
    }
  }
  
  // Otherwise return first available exercise
  return availableExercises[0];
}
try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="0cb946fe-4fe6-413f-9daa-451861633da9",e._sentryDebugIdIdentifier="sentry-dbid-0cb946fe-4fe6-413f-9daa-451861633da9")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3653,6266],{2857:(e,t,s)=>{"use strict";s.d(t,{c:()=>r});var a=s(52445);function r(){let{data:e}=(0,a.s)();return e?{plan:null==e?void 0:e.plan,usageBillingEnabled:null==e?void 0:e.usage_billing_enabled,isLoading:!1,isSuccess:!0}:{plan:null,usageBillingEnabled:null,isLoading:!0,isSuccess:!1}}},3336:(e,t,s)=>{"use strict";s.d(t,{EV:()=>c,NY:()=>u,QW:()=>d,cO:()=>l,ig:()=>m,s3:()=>i,xm:()=>o});var a=s(53434),r=s.n(a),n=s(58004);let l=2;var i=function(e){return e.LAST_10_MINUTES="Last 10 minutes",e.LAST_30_MINUTES="Last 30 minutes",e.LAST_60_MINUTES="Last 60 minutes",e.LAST_3_HOURS="Last 3 hours",e.LAST_24_HOURS="Last 24 hours",e.LAST_7_DAYS="Last 7 days",e.LAST_14_DAYS="Last 14 days",e.LAST_28_DAYS="Last 28 days",e}({});let o=[{text:"Last 10 minutes",calcFrom:()=>r()().subtract(10,"minute").toISOString(),calcTo:()=>r()().toISOString(),availableIn:["free","pro","team","enterprise"]},{text:"Last 30 minutes",calcFrom:()=>r()().subtract(30,"minute").toISOString(),calcTo:()=>r()().toISOString(),availableIn:["free","pro","team","enterprise"]},{text:"Last 60 minutes",calcFrom:()=>r()().subtract(1,"hour").toISOString(),calcTo:()=>r()().toISOString(),default:!0,availableIn:["free","pro","team","enterprise"]},{text:"Last 3 hours",calcFrom:()=>r()().subtract(3,"hour").toISOString(),calcTo:()=>r()().toISOString(),availableIn:["free","pro","team","enterprise"]},{text:"Last 24 hours",calcFrom:()=>r()().subtract(1,"day").toISOString(),calcTo:()=>r()().toISOString(),availableIn:["free","pro","team","enterprise"]},{text:"Last 7 days",calcFrom:()=>r()().subtract(7,"day").toISOString(),calcTo:()=>r()().toISOString(),availableIn:["pro","team","enterprise"]},{text:"Last 14 days",calcFrom:()=>r()().subtract(14,"day").toISOString(),calcTo:()=>r()().toISOString(),availableIn:["team","enterprise"]},{text:"Last 28 days",calcFrom:()=>r()().subtract(28,"day").toISOString(),calcTo:()=>r()().toISOString(),availableIn:["team","enterprise"]}],c={iso_timestamp_start:o[0].calcFrom(),iso_timestamp_end:o[0].calcTo()},d=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(0===e.length)return"";let s=e.map(e=>{let t=e.key.split("."),s=[t[t.length-2],t[t.length-1]].join("."),a=e.key.includes(".")?s:e.key;switch(e.compare){case"matches":return"REGEXP_CONTAINS(".concat(a,", '").concat(e.value,"')");case"is":default:return"".concat(a," = ").concat(e.value);case"!=":return"".concat(a," != ").concat(e.value);case">=":return"".concat(a," >= ").concat(e.value);case"<=":return"".concat(a," <= ").concat(e.value);case">":return"".concat(a," > ").concat(e.value);case"<":return"".concat(a," < ").concat(e.value)}}).filter(Boolean).join(" AND ");return""===s?"":t?"WHERE "+s:"AND "+s},u={[n.N.API]:{title:"API",queries:{totalRequests:{queryType:"logs",sql:e=>"\n        -- reports-api-total-requests\n        select\n          cast(timestamp_trunc(t.timestamp, hour) as datetime) as timestamp,\n          count(t.id) as count\n        FROM edge_logs t\n          cross join unnest(metadata) as m\n          cross join unnest(m.response) as response\n          cross join unnest(m.request) as request\n          cross join unnest(request.headers) as headers\n          ".concat(d(e),"\n        GROUP BY\n          timestamp\n        ORDER BY\n          timestamp ASC")},topRoutes:{queryType:"logs",sql:e=>"\n        -- reports-api-top-routes\n        select\n          request.path as path,\n          request.method as method,\n          request.search as search,\n          response.status_code as status_code,\n          count(t.id) as count\n        from edge_logs t\n          cross join unnest(metadata) as m\n          cross join unnest(m.response) as response\n          cross join unnest(m.request) as request\n          cross join unnest(request.headers) as headers\n          ".concat(d(e),"\n        group by\n          request.path, request.method, request.search, response.status_code\n        order by\n          count desc\n        limit 10\n        ")},errorCounts:{queryType:"logs",sql:e=>"\n        -- reports-api-error-counts\n        select\n          cast(timestamp_trunc(t.timestamp, hour) as datetime) as timestamp,\n          count(t.id) as count\n        FROM edge_logs t\n          cross join unnest(metadata) as m\n          cross join unnest(m.response) as response\n          cross join unnest(m.request) as request\n          cross join unnest(request.headers) as headers\n        WHERE\n          response.status_code >= 400\n        ".concat(d(e,!1),"\n        GROUP BY\n          timestamp\n        ORDER BY\n          timestamp ASC\n        ")},topErrorRoutes:{queryType:"logs",sql:e=>"\n        -- reports-api-top-error-routes\n        select\n          request.path as path,\n          request.method as method,\n          request.search as search,\n          response.status_code as status_code,\n          count(t.id) as count\n        from edge_logs t\n          cross join unnest(metadata) as m\n          cross join unnest(m.response) as response\n          cross join unnest(m.request) as request\n          cross join unnest(request.headers) as headers\n        where\n          response.status_code >= 400\n        ".concat(d(e,!1),"\n        group by\n          request.path, request.method, request.search, response.status_code\n        order by\n          count desc\n        limit 10\n        ")},responseSpeed:{queryType:"logs",sql:e=>"\n        -- reports-api-response-speed\n        select\n          cast(timestamp_trunc(t.timestamp, hour) as datetime) as timestamp,\n          avg(response.origin_time) as avg\n        FROM\n          edge_logs t\n          cross join unnest(metadata) as m\n          cross join unnest(m.response) as response\n          cross join unnest(m.request) as request\n          cross join unnest(request.headers) as headers\n          ".concat(d(e),"\n        GROUP BY\n          timestamp\n        ORDER BY\n          timestamp ASC\n      ")},topSlowRoutes:{queryType:"logs",sql:e=>"\n        -- reports-api-top-slow-routes\n        select\n          request.path as path,\n          request.method as method,\n          request.search as search,\n          response.status_code as status_code,\n          count(t.id) as count,\n          avg(response.origin_time) as avg\n        from edge_logs t\n          cross join unnest(metadata) as m\n          cross join unnest(m.response) as response\n          cross join unnest(m.request) as request\n          cross join unnest(request.headers) as headers\n        ".concat(d(e),"\n        group by\n          request.path, request.method, request.search, response.status_code\n        order by\n          avg desc\n        limit 10\n        ")},networkTraffic:{queryType:"logs",sql:e=>'\n        -- reports-api-network-traffic\n        select\n          cast(timestamp_trunc(t.timestamp, hour) as datetime) as timestamp,\n          coalesce(\n            safe_divide(\n              sum(\n                cast(coalesce(headers.content_length, "0") as int64)\n              ),\n              1000000\n            ),\n            0\n          ) as ingress_mb,\n          coalesce(\n            safe_divide(\n              sum(\n                cast(coalesce(resp_headers.content_length, "0") as int64)\n              ),\n              1000000\n            ),\n            0\n          ) as egress_mb,\n        FROM\n          edge_logs t\n          cross join unnest(metadata) as m\n          cross join unnest(m.response) as response\n          cross join unnest(m.request) as request\n          cross join unnest(request.headers) as headers\n          cross join unnest(response.headers) as resp_headers\n          '.concat(d(e),"\n        GROUP BY\n          timestamp\n        ORDER BY\n          timestamp ASC\n        ")}}},[n.N.AUTH]:{title:"",queries:{}},[n.N.STORAGE]:{title:"Storage",queries:{cacheHitRate:{queryType:"logs",sql:e=>"\n        -- reports-storage-cache-hit-rate\nSELECT\n  timestamp_trunc(timestamp, hour) as timestamp,\n  countif( h.cf_cache_status in ('HIT', 'STALE', 'REVALIDATED', 'UPDATING') ) as hit_count,\n  countif( h.cf_cache_status in ('MISS', 'NONE/UNKNOWN', 'EXPIRED', 'BYPASS', 'DYNAMIC') ) as miss_count\nfrom edge_logs f\n  cross join unnest(f.metadata) as m\n  cross join unnest(m.request) as r\n  cross join unnest(m.response) as res\n  cross join unnest(res.headers) as h\nwhere starts_with(r.path, '/storage/v1/object') and r.method = 'GET'\n  ".concat(d(e,!1),"\ngroup by timestamp\norder by timestamp desc\n")},topCacheMisses:{queryType:"logs",sql:e=>"\n        -- reports-storage-top-cache-misses\nSELECT\n  r.path as path,\n  r.search as search,\n  count(id) as count\nfrom edge_logs f\n  cross join unnest(f.metadata) as m\n  cross join unnest(m.request) as r\n  cross join unnest(m.response) as res\n  cross join unnest(res.headers) as h\nwhere starts_with(r.path, '/storage/v1/object')\n  and r.method = 'GET'\n  and h.cf_cache_status in ('MISS', 'NONE/UNKNOWN', 'EXPIRED', 'BYPASS', 'DYNAMIC')\n  ".concat(d(e,!1),"\ngroup by path, search\norder by count desc\nlimit 12\n    ")}}},[n.N.QUERY_PERFORMANCE]:{title:"Query performance",queries:{mostFrequentlyInvoked:{queryType:"db",sql:function(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return"\n        -- reports-query-performance-most-frequently-invoked\nset search_path to public, extensions;\n\nselect\n    auth.rolname,\n    statements.query,\n    statements.calls,\n    -- -- Postgres 13, 14, 15\n    statements.total_exec_time + statements.total_plan_time as total_time,\n    statements.min_exec_time + statements.min_plan_time as min_time,\n    statements.max_exec_time + statements.max_plan_time as max_time,\n    statements.mean_exec_time + statements.mean_plan_time as mean_time,\n    -- -- Postgres <= 12\n    -- total_time,\n    -- min_time,\n    -- max_time,\n    -- mean_time,\n    statements.rows / statements.calls as avg_rows".concat(a?",\n    case\n      when (lower(statements.query) like 'select%' or lower(statements.query) like 'with pgrst%')\n      then (\n        select json_build_object(\n          'has_suggestion', array_length(index_statements, 1) > 0,\n          'startup_cost_before', startup_cost_before,\n          'startup_cost_after', startup_cost_after,\n          'total_cost_before', total_cost_before,\n          'total_cost_after', total_cost_after,\n          'index_statements', index_statements\n        )\n        from index_advisor(statements.query)\n      )\n      else null\n    end as index_advisor_result":"","\n  from pg_stat_statements as statements\n    inner join pg_authid as auth on statements.userid = auth.oid\n  ").concat(t||"","\n  ").concat(s||"order by statements.calls desc","\n  limit 20")}},mostTimeConsuming:{queryType:"db",sql:function(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return"\n        -- reports-query-performance-most-time-consuming\nset search_path to public, extensions;\n\nselect\n    auth.rolname,\n    statements.query,\n    statements.calls,\n    statements.total_exec_time + statements.total_plan_time as total_time,\n    to_char(((statements.total_exec_time + statements.total_plan_time)/sum(statements.total_exec_time + statements.total_plan_time) OVER()) * 100, 'FM90D0') || '%'  AS prop_total_time".concat(a?",\n    case\n      when (lower(statements.query) like 'select%' or lower(statements.query) like 'with pgrst%')\n      then (\n        select json_build_object(\n          'has_suggestion', array_length(index_statements, 1) > 0,\n          'startup_cost_before', startup_cost_before,\n          'startup_cost_after', startup_cost_after,\n          'total_cost_before', total_cost_before,\n          'total_cost_after', total_cost_after,\n          'index_statements', index_statements\n        )\n        from index_advisor(statements.query)\n      )\n      else null\n    end as index_advisor_result":"","\n  from pg_stat_statements as statements\n    inner join pg_authid as auth on statements.userid = auth.oid\n  ").concat(t||"","\n  ").concat(s||"order by total_time desc","\n  limit 20")}},slowestExecutionTime:{queryType:"db",sql:function(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return"\n        -- reports-query-performance-slowest-execution-time\nset search_path to public, extensions;\n\nselect\n    auth.rolname,\n    statements.query,\n    statements.calls,\n    -- -- Postgres 13, 14, 15\n    statements.total_exec_time + statements.total_plan_time as total_time,\n    statements.min_exec_time + statements.min_plan_time as min_time,\n    statements.max_exec_time + statements.max_plan_time as max_time,\n    statements.mean_exec_time + statements.mean_plan_time as mean_time,\n    -- -- Postgres <= 12\n    -- total_time,\n    -- min_time,\n    -- max_time,\n    -- mean_time,\n    statements.rows / statements.calls as avg_rows".concat(a?",\n    case\n      when (lower(statements.query) like 'select%' or lower(statements.query) like 'with pgrst%')\n      then (\n        select json_build_object(\n          'has_suggestion', array_length(index_statements, 1) > 0,\n          'startup_cost_before', startup_cost_before,\n          'startup_cost_after', startup_cost_after,\n          'total_cost_before', total_cost_before,\n          'total_cost_after', total_cost_after,\n          'index_statements', index_statements\n        )\n        from index_advisor(statements.query)\n      )\n      else null\n    end as index_advisor_result":"","\n  from pg_stat_statements as statements\n    inner join pg_authid as auth on statements.userid = auth.oid\n  ").concat(t||"","\n  ").concat(s||"order by max_time desc","\n  limit 20")}},queryHitRate:{queryType:"db",sql:e=>"-- reports-query-performance-cache-and-index-hit-rate\nselect\n    'index hit rate' as name,\n    (sum(idx_blks_hit)) / nullif(sum(idx_blks_hit + idx_blks_read),0) as ratio\n  from pg_statio_user_indexes\n  union all\n  select\n    'table hit rate' as name,\n    sum(heap_blks_hit) / nullif(sum(heap_blks_hit) + sum(heap_blks_read),0) as ratio\n  from pg_statio_user_tables;"}}},[n.N.DATABASE]:{title:"database",queries:{largeObjects:{queryType:"db",sql:e=>"-- reports-database-large-objects\nSELECT\n        SCHEMA_NAME,\n        relname,\n        table_size\n      FROM\n        (SELECT\n          pg_catalog.pg_namespace.nspname AS SCHEMA_NAME,\n          relname,\n          pg_total_relation_size(pg_catalog.pg_class.oid) AS table_size\n        FROM pg_catalog.pg_class\n        JOIN pg_catalog.pg_namespace ON relnamespace = pg_catalog.pg_namespace.oid\n        ) t\n      WHERE SCHEMA_NAME NOT LIKE 'pg_%'\n      ORDER BY table_size DESC\n      LIMIT 5;"}}}},m=["total_realtime_ingress","total_rest_options_requests","total_auth_ingress","total_auth_get_requests","total_auth_post_requests","total_auth_patch_requests","total_auth_options_requests","total_storage_options_requests","total_storage_patch_requests","total_options_requests"]},7598:(e,t,s)=>{"use strict";s.d(t,{g:()=>r});var a=s(74144);function r(e){switch(e){case a.xq.AWS.id:return"ARM";case a.xq.FLY.id:return"x86 64-bit";default:return""}}},10208:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(81915).A)("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]])},10540:(e,t,s)=>{"use strict";s.d(t,{A:()=>m});var a=s(80263),r=s(10166),n=s(51968),l=s(63121),i=s(93749),o=s.n(i),c=s(53239),d=s(22554);let u=(0,c.forwardRef)((e,t)=>{let{icon:s,title:i,description:u,url:m,urlLabel:x="Read more",defaultVisibility:p=!1,hideCollapse:h=!1,button:f,className:g="",block:j=!1}=e,[y,v]=(0,c.useState)(p);return(0,a.jsx)("div",{ref:t,role:"alert",className:"".concat(j?"block w-full":"","\n      block w-full rounded-md border bg-surface-300/25 py-3 ").concat(g),children:(0,a.jsxs)("div",{className:"flex flex-col px-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex w-full space-x-3 items-center",children:[s&&(0,a.jsx)("span",{className:"text-foreground-lighter",children:s}),(0,a.jsx)("div",{className:"flex-grow",children:(0,a.jsx)("h5",{className:"text-foreground",children:i})})]}),u&&!h?(0,a.jsx)("div",{className:"cursor-pointer text-foreground-lighter",onClick:()=>v(!y),children:y?(0,a.jsx)(r.A,{size:14,strokeWidth:1.5}):(0,a.jsx)(n.A,{size:14,strokeWidth:1.5})}):null]}),(u||m||f)&&(0,a.jsxs)("div",{className:"flex flex-col space-y-3 overflow-hidden transition-all ".concat(y?"mt-3":""),style:{maxHeight:500*!!y},children:[(0,a.jsx)("div",{className:"text-foreground-light text-sm",children:u}),m&&(0,a.jsx)("div",{children:(0,a.jsx)(d.$,{asChild:!0,type:"default",icon:(0,a.jsx)(l.A,{}),children:(0,a.jsx)(o(),{href:m,target:"_blank",rel:"noreferrer",children:x})})}),f&&(0,a.jsx)("div",{children:f})]})]})})});u.displayName="InformationBox";let m=u},10564:(e,t,s)=>{"use strict";s.d(t,{A:()=>j});var a=s(80263),r=s(35741),n=s(22554),l=s(80797),i=s(94976),o=s(81146),c=s(94858),d=s(93749),u=s.n(d),m=s(53239),x=s(53434),p=s.n(x),h=s(46895),f=s(15815),g=s(45231);let j=e=>{let{format:t,highlightedValue:s,highlightedLabel:d,hideHighlightedValue:x=!1,title:j,minimalHeader:y=!1,hideChartType:v=!1,chartStyle:_="bar",onChartStyleChange:b,showMaxValue:N=!1,setShowMaxValue:A,docsUrl:w,syncId:k,data:S,xAxisKey:C,yAxisKey:R,xAxisIsDate:E=!0,displayDateInUtc:T,customDateFormat:I,valuePrecision:L=2,shouldFormatBytes:q=!1,isNetworkChart:P=!1,attributes:U}=e,{state:H}=(0,f.h)(k),[O,M]=(0,m.useState)(s),[W,z]=(0,m.useState)(d);(0,m.useEffect)(()=>{if(k&&null!==H.activeIndex&&S&&C&&R){let s=S[H.activeIndex];if(s){let a=s[R];if(U&&U.length>1){var e,t;let r=null!=(t=null==U||null==(e=U.filter(e=>e.omitFromTotal||e.isMaxValue||"reference-line"===e.provider))?void 0:e.map(e=>e.attribute))?t:[];a=Object.entries(s).filter(e=>{let[t,s]=e;return"number"==typeof s&&"timestamp"!==t&&"period_start"!==t&&!r.includes(t)&&U.some(e=>e.attribute===t&&!1!==e.enabled)}).reduce((e,t)=>{let[s,a]=t;return e+a},0)}M(a);let r=d;E&&s[C]?r=(e=>T?p()(e).utc():p()(e))(s[C]).format(I||"YYYY-MM-DD HH:mm:ss"):s[C]&&(r=s[C]),z(r)}}else M(s),z(d)},[H,k,S,C,R,E,T,I,s,d,U]);let D=(0,a.jsxs)("div",{className:"flex flex-row items-center gap-x-2",children:[(0,a.jsx)("h3",{className:"text-foreground-lighter "+(y?"text-xs":"text-sm"),children:j}),w&&(0,a.jsxs)(r.m_,{children:[(0,a.jsx)(r.k$,{asChild:!0,children:(0,a.jsx)(u(),{href:w,target:"_blank",className:"text-foreground-lighter hover:text-foreground-light",children:(0,a.jsx)(l.A,{className:"w-3 h-3"})})}),(0,a.jsx)(r.ZI,{side:"top",align:"center",children:"Read docs"})]})]}),B=(0,a.jsxs)("h4",{className:"text-foreground text-xl font-normal ".concat(y?"text-base":"text-2xl"),children:[void 0!==O&&(e=>{if("number"!=typeof e)return e;if(q){let t=P?Math.abs(e):e;return(0,h.z3)(t,L)}return(0,g.Eg)(e,L)})(O),"seconds"===t?" ":"",(0,a.jsx)("span",{className:"text-lg",children:"function"==typeof t?t(O):t})]}),F=(0,a.jsx)("h4",{className:"text-foreground-lighter text-xs",children:W});if(y)return(0,a.jsxs)("div",{className:"flex flex-row items-center gap-x-4",style:{minHeight:"1.8rem"},children:[j&&D,(0,a.jsxs)("div",{className:"flex flex-row items-baseline gap-x-2",children:[void 0!==s&&!x&&B,F]})]});let Y=void 0!==s&&!x;return(0,a.jsxs)("div",{className:"flex-grow flex justify-between items-start min-h-16","data-sentry-component":"ChartHeader","data-sentry-source-file":"ChartHeader.tsx",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[j&&D,(0,a.jsxs)("div",{className:"h-4",children:[Y&&B,F]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[!v&&b&&(0,a.jsxs)(r.m_,{children:[(0,a.jsx)(r.k$,{asChild:!0,children:(0,a.jsx)(n.$,{type:"default",className:"px-1.5",icon:"bar"===_?(0,a.jsx)(i.A,{}):(0,a.jsx)(o.A,{}),onClick:()=>b("bar"===_?"line":"bar")})}),(0,a.jsxs)(r.ZI,{side:"top",align:"center",children:["View as ","bar"===_?"line chart":"bar chart"]})]}),A&&(0,a.jsxs)(r.m_,{children:[(0,a.jsx)(r.k$,{asChild:!0,children:(0,a.jsx)(n.$,{type:N?"default":"dashed",className:"px-1.5",icon:(0,a.jsx)(c.A,{className:N?"text-foreground-light":"text-foreground-lighter"}),onClick:()=>A(!N)})}),(0,a.jsxs)(r.ZI,{side:"top",align:"center",children:[N?"Hide":"Show"," limit"]})]})]})]})}},11094:(e,t,s)=>{"use strict";s.d(t,{A0:()=>i,BF:()=>o,Gg:()=>c,Hj:()=>d,XI:()=>l,nA:()=>m,nd:()=>u,r6:()=>x});var a=s(80263),r=s(53239),n=s(80127);let l=r.forwardRef((e,t)=>{let{className:s,containerProps:r,...l}=e;return(0,a.jsx)("div",{className:(0,n.cn)("w-full overflow-auto"),...r,children:(0,a.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",s),...l})})});l.displayName="Table";let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b [&>tr]:bg-200",s),...r})});i.displayName="TableHeader";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",s),...r})});o.displayName="TableBody";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,n.cn)("bg-primary font-medium text-primary-foreground",s),...r})});c.displayName="TableFooter";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tr",{ref:t,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...r})});d.displayName="TableRow";let u=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("th",{ref:t,className:(0,n.cn)("h-10 px-4 text-left align-middle heading-meta text-foreground-lighter [&:has([role=checkbox])]:pr-0",s),...r})});u.displayName="TableHead";let m=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("td",{ref:t,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...r})});m.displayName="TableCell";let x=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("caption",{ref:t,className:(0,n.cn)("mt-4 text-sm text-foreground-muted",s),...r})});x.displayName="TableCaption"},11247:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var a=s(80263),r=s(13290),n=s(80127),l=s(10564),i=s(45231);let o=e=>{let{attribute:t,message:s="No data to show",description:o,format:c,className:d="",size:u}=e,{minHeight:m}=(0,i.dQ)(u);return(0,a.jsxs)("div",{"data-sentry-component":"NoDataPlaceholder","data-sentry-source-file":"NoDataPlaceholder.tsx",children:[void 0!==t&&(0,a.jsx)(l.A,{title:t,format:c,highlightedValue:0}),(0,a.jsxs)("div",{className:(0,n.cn)("border-control flex flex-grow w-full flex-col items-center justify-center space-y-2 border border-dashed text-center",d),style:{minHeight:m+20},children:[(0,a.jsx)(r.A,{size:20,className:"text-border-stronger","data-sentry-element":"BarChart2","data-sentry-source-file":"NoDataPlaceholder.tsx"}),(0,a.jsxs)("div",{className:"px-1",children:[(0,a.jsx)("p",{className:"text-foreground-light text-xs",children:s}),o&&(0,a.jsx)("p",{className:"text-foreground-lighter text-xs",children:o})]})]})]})}},13322:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(81915).A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},15815:(e,t,s)=>{"use strict";s.d(t,{h:()=>i});var a=s(53239);let r=new Map,n=new Map,l=()=>({activeIndex:null,activePayload:null,activeLabel:null,isHovering:!1});function i(e){let[t,s]=(0,a.useState)(l()),i=(0,a.useRef)(!1);(0,a.useEffect)(()=>{e&&(r.has(e)||r.set(e,l()),n.has(e)||n.set(e,new Set),s(r.get(e)||l()),i.current=!0)},[e]),(0,a.useEffect)(()=>{if(!e||!i.current)return;let t=n.get(e),a=e=>{s(e)};return t.add(a),()=>{t.delete(a)}},[e]);let o=(0,a.useCallback)(t=>{if(!e)return;let s={...r.get(e)||l(),...t};r.set(e,s);let a=n.get(e);a&&a.forEach(e=>e(s))},[e]),c=(0,a.useCallback)(()=>{if(!e)return;let t=l();r.set(e,t);let s=n.get(e);s&&s.forEach(e=>e(t))},[e]),d=(0,a.useCallback)(t=>{if(!e)return()=>{};let s=n.get(e);return s.add(t),()=>{s.delete(t)}},[e]);return{syncId:e||"",state:t,updateState:o,clearState:c,subscribe:d}}},18345:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(81915).A)("TextSearch",[["path",{d:"M21 6H3",key:"1jwq7v"}],["path",{d:"M10 12H3",key:"1ulcyk"}],["path",{d:"M10 18H3",key:"13769t"}],["circle",{cx:"17",cy:"15",r:"3",key:"1upz2a"}],["path",{d:"m21 19-1.9-1.9",key:"dwi7p8"}]])},19722:(e,t,s)=>{"use strict";s.d(t,{R:()=>a,T:()=>r});var a=function(e){return e.ERROR="ERROR",e.WARN="WARN",e.INFO="INFO",e}({});let r=[{id:"ERROR",label:"Errors",description:"You should consider these issues urgent and fix them as soon as you can.",descriptionShort:"Require immediate attention"},{id:"WARN",label:"Warnings",description:"You should try and read through these issues and fix them if necessary.",descriptionShort:"To resolve only if necessary"},{id:"INFO",label:"Info",description:"You should read through these suggestions and consider implementing them.",descriptionShort:"For consideration to implement"}]},20835:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(81915).A)("OctagonAlert",[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]])},24213:(e,t,s)=>{"use strict";s.d(t,{R:()=>l});var a=s(80263),r=s(34531),n=s(80127);function l(e){let{infraComputeSize:t,className:s,...l}=e,i=(null==t?void 0:t.toLocaleLowerCase())==="micro"||(null==t?void 0:t.toLocaleLowerCase())==="nano";return(0,a.jsx)(r.E,{className:(0,n.cn)("rounded-md text-center flex justify-center font-mono uppercase","group-data-[state=open]:bg-opacity-20 group-data-[state=open]:ring-2 group-data-[state=open]:ring-opacity-20","transition-all",i?"group-data-[state=open]:ring-foreground-muted bg-opacity-50 group-data-[state=open]:bg-opacity-75":"group-data-[state=open]:ring-brand",s),variant:t?i?"default":"brand":"default",...l,"data-sentry-element":"Badge","data-sentry-component":"ComputeBadge","data-sentry-source-file":"index.tsx",children:t})}},27034:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]",function(){return s(98730)}])},27503:(e,t,s)=>{var a=s(85892),r=s(60152);e.exports=function(e,t){return e&&e.length?r(e,a(t,2)):0}},36152:(e,t,s)=>{"use strict";s.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>o,Zp:()=>l,aR:()=>i,wL:()=>u});var a=s(80263),r=s(53239),n=s(80127);let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("overflow-hidden rounded-lg border bg-surface-100 text-card-foreground shadow-sm",s),...r})});l.displayName="Card";let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 py-4 px-6 border-b",s),...r})});i.displayName="CardHeader";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h3",{ref:t,className:(0,n.cn)("text-xs font-mono uppercase",s),...r})});o.displayName="CardTitle";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-foreground-muted",s),...r})});c.displayName="CardDescription";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("py-4 px-6 border-b last:border-none",s),...r})});d.displayName="CardContent";let u=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)(" flex items-center py-4 px-6",s),...r})});u.displayName="CardFooter"},41336:(e,t,s)=>{"use strict";s.d(t,{F:()=>m});var a=s(80263),r=s(53239),n=s(92413),l=s(20835),i=s(80551),o=s(92818),c=s(80797),d=s(36839);let u={danger:(0,a.jsx)(l.A,{strokeWidth:1.5,size:18}),success:(0,a.jsx)(i.A,{strokeWidth:1.5,size:18}),warning:(0,a.jsx)(o.A,{strokeWidth:1.5,size:18}),info:(0,a.jsx)(c.A,{strokeWidth:1.5,size:18}),neutral:(0,a.jsx)(a.Fragment,{})};function m(e){let{variant:t="neutral",className:s,title:l,withIcon:i,closable:o,children:c,icon:m,actions:x}=e,p=(0,n.A)("alert"),[h,f]=(0,r.useState)(!0),g=[p.base];g.push(p.variant[t].base),s&&g.push(s);let j=[p.description,p.variant[t].description],y=[p.close];return(0,a.jsx)(a.Fragment,{children:h&&(0,a.jsxs)("div",{className:g.join(" "),children:[i?(0,a.jsx)("div",{className:p.variant[t].icon,children:i&&u[t]}):null,m&&m,(0,a.jsxs)("div",{className:"flex flex-1 items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:[p.variant[t].header,p.header].join(" "),children:l}),(0,a.jsx)("div",{className:j.join(" "),children:c})]}),x]}),o&&(0,a.jsx)("button",{"aria-label":"Close alert",onClick:()=>f(!1),className:y.join(" "),children:(0,a.jsx)(d.A,{strokeWidth:2,size:16})})]})})}},45231:(e,t,s)=>{"use strict";s.d(t,{BY:()=>f,Eg:()=>u,XO:()=>x,bk:()=>p,dQ:()=>h});var a=s(80263),r=s(53434),n=s.n(r),l=s(37361),i=s.n(l),o=s(53239),c=s(60620),d=s(18006);n().extend(i());let u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return m(e)?x(e,t):e.toLocaleString()},m=e=>String(e).includes("."),x=(e,t)=>{if(0===t)return String(Math.round(e));if(!m(e))return e.toLocaleString()+"."+"0".repeat(t);{let[s,a]=String(e).split(".");return Number(s).toLocaleString()+"."+a.slice(0,t)}},p=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.C_.FULL,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return s?n().utc(e).format(t):n()(e).format(t)},h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"normal",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{tiny:76,small:96,normal:160,large:280},s=t[e];return{Container:(0,o.useMemo)(()=>e=>{let{className:t,children:r}=e;return(0,a.jsx)(c.u,{className:t,height:s,minHeight:s,width:"100%",children:r})},[e]),minHeight:s}},f=e=>{let{data:t,xAxisKey:s,yAxisKey:a,stackKey:r,variant:n="values"}=e,l=(0,o.useMemo)(()=>t?Object.entries(t.reduce((e,t)=>{let n=t[s],l=t[a],i=t[r];return e[n]||(e[n]={}),e[n][i]=l,e},{})).map(e=>{let[t,a]=e;return{...a,[s]:Number.isNaN(Number(t))?t:Number(t)}}):[],[JSON.stringify(t)]),i=(0,o.useMemo)(()=>Object.keys(l[0]||{}).filter(e=>e!==s&&e!==a).sort(),[JSON.stringify(l[0]||{})]),c=(0,o.useMemo)(()=>{if("percentages"===n)return l.map(e=>{let t=Object.entries(e),s=t.filter(e=>{let[t,s]=e;return i.includes(t)}).reduce((e,t)=>{let[s,a]=t;return e+a},0);return t.reduce((e,t)=>{let[a,r]=t;return i.includes(a)?{...e,[a]:0!==r?r/s:0}:{...e,[a]:r}},{})})},[JSON.stringify(l)]);return{dataKeys:i,stackedData:l,percentagesStackedData:c}}},51502:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(81915).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},53116:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var a=s(56947),r=s(3336),n=s(52280),l=s(20305),i=s(16703),o=s(38534);let c=e=>{var t;let{sql:s,params:c=r.EV,where:d,orderBy:u}=e,{data:m}=(0,i.YA)(),x=(0,o.RE)(),{data:p}=(0,n.Vh)({projectRef:null==m?void 0:m.ref}),h=null==(t=(p||[]).find(e=>e.identifier===x.selectedDatabaseId))?void 0:t.connectionString,f=x.selectedDatabaseId,g="function"==typeof s?s([]):s,{data:j,error:y,isLoading:v,isRefetching:_,refetch:b}=(0,a.I)(["projects",null==m?void 0:m.ref,"db",{...c,sql:g,identifier:f},d,u],e=>{let{signal:t}=e;return(0,l.E)({projectRef:null==m?void 0:m.ref,connectionString:h||(null==m?void 0:m.connectionString),sql:g},t).then(e=>e.result)},{enabled:!!g,refetchOnWindowFocus:!1,refetchOnReconnect:!1});return{error:y||("object"==typeof j?null==j?void 0:j.error:""),data:j,isLoading:v,isRefetching:_,params:c,runQuery:b,resolvedSql:g}}},53428:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(81915).A)("Table2",[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]])},58004:(e,t,s)=>{"use strict";s.d(t,{N:()=>a});var a=function(e){return e.API="api",e.STORAGE="storage",e.AUTH="auth",e.QUERY_PERFORMANCE="query_performance",e.DATABASE="database",e}({})},60152:e=>{e.exports=function(e,t){for(var s,a=-1,r=e.length;++a<r;){var n=t(e[a]);void 0!==n&&(s=void 0===s?n:s+n)}return s}},63491:(e,t,s)=>{"use strict";s.d(t,{L:()=>v,W7:()=>y,pr:()=>b,VL:()=>_,_N:()=>N,ah:()=>j});var a=s(80263),r=s(53428),n=s(13322),l=s(10426),i=s(88853),o=s(80173);let c=(0,s(81915).A)("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);var d=s(51502),u=s(40882),m=s(18345),x=s(93749),p=s.n(x),h=s(19722),f=s(22554),g=s(34531);let j=[{name:"unindexed_foreign_keys",title:"Unindexed foreign keys",icon:(0,a.jsx)(r.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t,metadata:s}=e;return"/project/".concat(t,"/database/indexes?schema=").concat(null==s?void 0:s.schema)},linkText:"Create an index",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0001_unindexed_foreign_keys",category:"performance"},{name:"auth_users_exposed",title:"Exposed Auth Users",icon:(0,a.jsx)(n.A,{className:"text-foreground-muted",size:15,strokeWidth:1.5}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/editor")},linkText:"View table",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0002_auth_users_exposed",category:"security"},{name:"auth_rls_initplan",title:"Auth RLS Initialization Plan",icon:(0,a.jsx)(r.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/auth/policies")},linkText:"View policies",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0003_auth_rls_initplan",category:"performance"},{name:"no_primary_key",title:"No Primary Key",icon:(0,a.jsx)(r.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/editor")},linkText:"View table",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0004_no_primary_key",category:"performance"},{name:"unused_index",title:"Unused Index",icon:(0,a.jsx)(r.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t,metadata:s}=e;return"/project/".concat(t,"/database/indexes?schema=").concat(null==s?void 0:s.schema,"&table=").concat(null==s?void 0:s.name)},linkText:"View index",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0005_unused_index",category:"performance"},{name:"multiple_permissive_policies",title:"Multiple Permissive Policies",icon:(0,a.jsx)(r.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t,metadata:s}=e;return"/project/".concat(t,"/auth/policies?schema=").concat(null==s?void 0:s.schema,"&search=").concat(null==s?void 0:s.name)},linkText:"View policies",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0006_multiple_permissive_policies",category:"performance"},{name:"policy_exists_rls_disabled",title:"Policy Exists RLS Disabled",icon:(0,a.jsx)(r.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t,metadata:s}=e;return"/project/".concat(t,"/auth/policies?schema=").concat(null==s?void 0:s.schema,"&search=").concat(null==s?void 0:s.name)},linkText:"View policies",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0007_policy_exists_rls_disabled",category:"security"},{name:"rls_enabled_no_policy",title:"RLS Enabled No Policy",icon:(0,a.jsx)(r.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t,metadata:s}=e;return"/project/".concat(t,"/auth/policies?schema=").concat(null==s?void 0:s.schema,"&search=").concat(null==s?void 0:s.name)},linkText:"View table",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0008_rls_enabled_no_policy",category:"security"},{name:"duplicate_index",title:"Duplicate Index",icon:(0,a.jsx)(r.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t,metadata:s}=e;return"/project/".concat(t,"/database/indexes?schema=").concat(null==s?void 0:s.schema,"&table=").concat(null==s?void 0:s.name)},linkText:"View index",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0009_duplicate_index",category:"performance"},{name:"security_definer_view",title:"Security Definer View",icon:(0,a.jsx)(l.A,{className:"text-foreground-muted",size:15,strokeWidth:1.5}),link:()=>"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0010_security_definer_view",linkText:"View docs",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0010_security_definer_view",category:"security"},{name:"function_search_path_mutable",title:"Function Search Path Mutable",icon:(0,a.jsx)(r.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t,metadata:s}=e;return"/project/".concat(t,"/database/functions?schema=").concat(null==s?void 0:s.schema,"&search=").concat(null==s?void 0:s.name)},linkText:"View functions",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0011_function_search_path_mutable",category:"security"},{name:"rls_disabled_in_public",title:"RLS Disabled in Public",icon:(0,a.jsx)(r.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t,metadata:s}=e;return"/project/".concat(t,"/auth/policies?schema=").concat(null==s?void 0:s.schema,"&search=").concat(null==s?void 0:s.name)},linkText:"View policies",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0013_rls_disabled_in_public",category:"security"},{name:"extension_in_public",title:"Extension in Public",icon:(0,a.jsx)(i.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t,metadata:s}=e;return"/project/".concat(t,"/database/extensions?filter=").concat(null==s?void 0:s.name)},linkText:"View extension",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0014_extension_in_public",category:"security"},{name:"auth_otp_long_expiry",title:"Auth OTP Long Expiry",icon:(0,a.jsx)(o.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/auth/providers")},linkText:"View settings",docsLink:"https://supabase.com/docs/guides/platform/going-into-prod#security",category:"security"},{name:"auth_otp_short_length",title:"Auth OTP Short Length",icon:(0,a.jsx)(c,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/auth/providers")},linkText:"View settings",docsLink:"https://supabase.com/docs/guides/platform/going-into-prod#security",category:"security"},{name:"rls_references_user_metadata",title:"RLS references user metadata",icon:(0,a.jsx)(d.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/auth/policies")},linkText:"View policies",docsLink:"https://supabase.com/docs/guides/database/database-linter?queryGroups=lint&lint=0015_rls_references_user_metadata",category:"security"},{name:"materialized_view_in_api",title:"Materialized View in API",icon:(0,a.jsx)(l.A,{className:"text-foreground-muted",size:15,strokeWidth:1.5}),link:()=>"https://supabase.com/docs/guides/database/database-advisors?lint=0016_materialized_view_in_api",linkText:"View docs",docsLink:"https://supabase.com/docs/guides/database/database-advisors?lint=0016_materialized_view_in_api",category:"security"},{name:"foreign_table_in_api",title:"Foreign Table in API",icon:(0,a.jsx)(r.A,{className:"text-foreground-muted",size:15,strokeWidth:1.5}),link:()=>"https://supabase.com/docs/guides/database/database-linter?lint=0017_foreign_table_in_api",linkText:"View docs",docsLink:"https://supabase.com/docs/guides/database/database-linter?lint=0017_foreign_table_in_api",category:"security"},{name:"unsupported_reg_types",title:"Unsupported reg types",icon:(0,a.jsx)(r.A,{className:"text-foreground-muted",size:15,strokeWidth:1.5}),link:()=>"https://supabase.com/docs/guides/database/database-advisors?lint=0018_unsupported_reg_types&queryGroups=lint",linkText:"View docs",docsLink:"https://supabase.com/docs/guides/database/database-advisors?lint=0018_unsupported_reg_types&queryGroups=lint",category:"security"},{name:"ssl_not_enforced",title:"SSL not enforced",icon:(0,a.jsx)(c,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/database/settings")},linkText:"View settings",docsLink:"https://supabase.com/docs/guides/platform/ssl-enforcement",category:"security"},{name:"network_restrictions_not_set",title:"No network restrictions",icon:(0,a.jsx)(c,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/database/settings")},linkText:"View settings",docsLink:"https://supabase.com/docs/guides/platform/network-restrictions",category:"security"},{name:"password_requirements_min_length",title:"Minimum password length not set or inadequate",icon:(0,a.jsx)(c,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/auth/providers?provider=Email")},linkText:"View settings",docsLink:"https://supabase.com/docs/guides/platform/going-into-prod#security",category:"security"},{name:"pitr_not_enabled",title:"PITR not enabled",icon:(0,a.jsx)(c,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/database/backups/pitr")},linkText:"View settings",docsLink:"https://supabase.com/docs/guides/platform/backups#point-in-time-recovery",category:"security"},{name:"auth_leaked_password_protection",title:"Leaked Password Protection Disabled",icon:(0,a.jsx)(n.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/auth/providers?provider=Email")},linkText:"View settings",docsLink:"https://supabase.com/docs/guides/auth/password-security#password-strength-and-leaked-password-protection",category:"security"},{name:"auth_insufficient_mfa_options",title:"Insufficient MFA Options",icon:(0,a.jsx)(n.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/auth/mfa")},linkText:"View settings",docsLink:"https://supabase.com/docs/guides/auth/auth-mfa",category:"security"},{name:"auth_password_policy_missing",title:"Password Policy Missing",icon:(0,a.jsx)(n.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/auth/providers?provider=Email")},linkText:"View settings",docsLink:"https://supabase.com/docs/guides/auth/password-security",category:"security"},{name:"leaked_service_key",title:"Leaked Service Key Detected",icon:(0,a.jsx)(n.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/settings/api")},linkText:"View settings",docsLink:"https://supabase.com/docs/guides/api/api-keys#the-servicerole-key",category:"security"},{name:"no_backup_admin",title:"No Backup Admin Detected",icon:(0,a.jsx)(n.A,{className:"text-foreground-muted",size:15,strokeWidth:1}),link:e=>{let{projectRef:t}=e;return"/project/".concat(t,"/auth/mfa")},linkText:"View settings",docsLink:"https://supabase.com/docs/guides/auth/auth-mfa",category:"security"}],y=e=>{let{title:t,projectRef:s,metadata:r}=e,n=j.find(e=>e.name===t);if(!n)return null;let l=n.link({projectRef:s,metadata:r}),i=n.linkText;return(0,a.jsx)(f.$,{asChild:!0,type:"default","data-sentry-element":"Button","data-sentry-component":"LintCTA","data-sentry-source-file":"Linter.utils.tsx",children:(0,a.jsx)(p(),{href:l,target:"_blank",rel:"noreferrer",className:"no-underline","data-sentry-element":"Link","data-sentry-source-file":"Linter.utils.tsx",children:i})})},v=e=>{let{type:t}=e;switch(t){case"table":return(0,a.jsx)(r.A,{className:"text-foreground-muted",size:15,strokeWidth:1});case"view":return(0,a.jsx)(l.A,{className:"text-foreground-muted",size:15,strokeWidth:1.5});case"auth":return(0,a.jsx)(n.A,{className:"text-foreground-muted",size:15,strokeWidth:1.5});default:return(0,a.jsx)(u.A,{className:"text-foreground-muted",size:15,strokeWidth:1.5})}},_=e=>{var t;let{metadata:s}=e;return null!=(t=s&&(s.entity||s.schema&&s.name&&"".concat(s.schema,".").concat(s.name)))?t:void 0},b=e=>{let{category:t}=e;return(0,a.jsx)(g.E,{variant:"SECURITY"===t?"destructive":"warning",className:"capitalize","data-sentry-element":"Badge","data-sentry-component":"LintCategoryBadge","data-sentry-source-file":"Linter.utils.tsx",children:t.toLowerCase()})},N=e=>{let{level:t}=e,s=t===h.R.ERROR?"errors":"warnings";return(0,a.jsxs)("div",{className:"absolute top-28 px-6 flex flex-col items-center justify-center w-full gap-y-2","data-sentry-component":"NoIssuesFound","data-sentry-source-file":"Linter.utils.tsx",children:[(0,a.jsx)(m.A,{className:"text-foreground-muted",strokeWidth:1,"data-sentry-element":"TextSearch","data-sentry-source-file":"Linter.utils.tsx"}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("p",{className:"text-foreground",children:["No ",s," detected"]}),(0,a.jsxs)("p",{className:"text-foreground-light",children:["Congrats! There are no ",s," detected for this database"]})]})]})}},74776:(e,t,s)=>{"use strict";s.d(t,{A:()=>v});var a=s(80263),r=s(53239),n=s(53434),l=s.n(n),i=s(15815),o=s(34957),c=s(49237),d=s(66694),u=s(84338),m=s(10349),x=s(88365),p=s(77438),h=s(85259),f=s(18006),g=s(10564),j=s(45231),y=s(11247);let v=e=>{var t,s,n;let{data:v,yAxisKey:_,xAxisKey:b,format:N,customDateFormat:A=f.C_.FULL,title:w,highlightedValue:k,highlightedLabel:S,displayDateInUtc:C,minimalHeader:R,valuePrecision:E,className:T="",size:I="normal",emptyStateMessage:L,onBarClick:q,showLegend:P=!1,xAxisIsDate:U=!0,XAxisProps:H,YAxisProps:O,showGrid:M=!1,syncId:W}=e,{Container:z}=(0,j.dQ)(I),{state:D,updateState:B,clearState:F}=(0,i.h)(W),[Y,V]=(0,r.useState)(null),G=(0,r.useMemo)(()=>v.map(e=>({...e,[_]:"string"==typeof e[_]?Number(e[_]):e[_]})),[v,_]),K=H||{interval:v.length-2,angle:0,tick:!1},$=O||{tickFormatter:e=>(0,j.Eg)(e,E),tick:!1,width:0},X=e=>C?l()(e).utc():l()(e),J=function(){if(!U){var e;return Y?null==(e=v[Y])?void 0:e[b]:S}return null!==Y&&v&&void 0!==v[Y]&&X(v[Y][b]).format(A)||S}(),Q=null!==Y?null==(t=v[Y])?void 0:t[_]:k;return 0===v.length?(0,a.jsx)(y.A,{message:L,description:"It may take up to 24 hours for data to refresh",size:I,className:T,attribute:w,format:N}):(0,a.jsxs)("div",{className:["flex flex-col gap-y-3",T].join(" "),"data-sentry-component":"BarChart","data-sentry-source-file":"BarChart.tsx",children:[(0,a.jsx)(g.A,{title:w,format:N,customDateFormat:A,highlightedValue:"number"==typeof Q?(0,j.Eg)(Q,E):Q,highlightedLabel:J,minimalHeader:R,syncId:W,data:v,xAxisKey:b,yAxisKey:_,xAxisIsDate:U,displayDateInUtc:C,valuePrecision:E,attributes:[],"data-sentry-element":"ChartHeader","data-sentry-source-file":"BarChart.tsx"}),(0,a.jsx)(z,{"data-sentry-element":"Container","data-sentry-source-file":"BarChart.tsx",children:(0,a.jsxs)(o.E,{data:G,className:"overflow-visible",onMouseMove:e=>{e.activeTooltipIndex!==Y&&V(e.activeTooltipIndex),W&&B({activeIndex:e.activeTooltipIndex,activePayload:e.activePayload,activeLabel:e.activeLabel,isHovering:!0})},onMouseLeave:()=>{V(null),W&&F()},onClick:e=>{var t,s;let a=null==e||null==(s=e.activePayload)||null==(t=s[0])?void 0:t.payload;q&&q(a,e)},"data-sentry-element":"RechartBarChart","data-sentry-source-file":"BarChart.tsx",children:[P&&(0,a.jsx)(c.s,{}),M&&(0,a.jsx)(d.d,{stroke:f.OK.AXIS}),(0,r.createElement)(u.h,{...$,axisLine:{stroke:f.OK.AXIS},tickLine:{stroke:f.OK.AXIS},key:_,"data-sentry-element":"YAxis","data-sentry-source-file":"BarChart.tsx"}),(0,r.createElement)(m.W,{...K,axisLine:{stroke:f.OK.AXIS},tickLine:{stroke:f.OK.AXIS},key:b,"data-sentry-element":"XAxis","data-sentry-source-file":"BarChart.tsx"}),(0,a.jsx)(x.m,{content:e=>{var t,s;return W&&D.isHovering&&null!==D.activeIndex?(0,a.jsxs)("div",{className:"bg-black/90 text-white p-2 rounded text-xs",children:[(0,a.jsx)("div",{className:"font-medium",children:l()(null==(t=v[D.activeIndex])?void 0:t[b]).format(A)}),(0,a.jsxs)("div",{children:[(0,j.Eg)(Number(null==(s=v[D.activeIndex])?void 0:s[_])||0,E),"string"==typeof N?N:""]})]}):null},"data-sentry-element":"Tooltip","data-sentry-source-file":"BarChart.tsx"}),(0,a.jsx)(p.y,{dataKey:_,fill:f.OK.GREEN_1,animationDuration:300,maxBarSize:48,"data-sentry-element":"Bar","data-sentry-source-file":"BarChart.tsx",children:null==v?void 0:v.map((e,t)=>(0,a.jsx)(h.f,{className:"transition-all duration-300 ".concat(q?"cursor-pointer":""),fill:Y===t||null===Y?f.OK.GREEN_1:f.OK.GREEN_2,enableBackground:12},"cell-".concat(t)))})]})}),v&&(0,a.jsxs)("div",{className:"text-foreground-lighter -mt-9 flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{children:U?X(v[0][b]).format(A):v[0][b]}),(0,a.jsx)("span",{children:U?X(null==(s=v[(null==v?void 0:v.length)-1])?void 0:s[b]).format(A):null==(n=v[(null==v?void 0:v.length)-1])?void 0:n[b]})]})]})}},77690:(e,t,s)=>{"use strict";s.d(t,{K:()=>j});var a=s(80263),r=s(93749),n=s.n(r),l=s(53239),i=s(58444),o=s(56885),c=s(32930),d=s(7598),u=s(74144),m=s(58103),x=s(39119),p=s(22554),h=s(24213),f=s(14132);let g=e=>{let{label:t,stat:s}=e;return(0,a.jsxs)("div",{className:"flex flex-row gap-2","data-sentry-component":"Row","data-sentry-source-file":"ComputeBadgeWrapper.tsx",children:[(0,a.jsx)("span",{className:"text-sm text-foreground-light w-16",children:t}),(0,a.jsx)("span",{className:"text-sm",children:s})]})},j=e=>{var t,s,r,j,y;let{project:v}=e,[_,b]=(0,l.useState)(!1),N=(0,d.g)(v.cloud_provider),{data:A,isLoading:w}=(0,c.Q)({projectRef:v.ref},{enabled:_}),k=null!=(r=null==A?void 0:A.selected_addons)?r:[],{computeInstance:S}=(0,i.EN)(k),C=null==S||null==(t=S.variant)?void 0:t.meta,R=void 0===C&&"micro"===v.infra_compute_size?u.Mc:C,E=null==A||null==(s=A.available_addons.find(e=>"Compute Instance"===e.name))?void 0:s.variants,T=null==E?void 0:E[E.length-1].identifier,I=(null==v?void 0:v.infra_compute_size)===(null==T?void 0:T.replace("ci_","")),{data:L,isLoading:q}=(0,o.j5)({orgSlug:null==v?void 0:v.organization_slug},{enabled:_}),P=(null==L?void 0:L.plan.id)!=="free"&&(null==v?void 0:v.infra_compute_size)==="nano";return(null==v?void 0:v.infra_compute_size)?(0,a.jsxs)(m.jc,{onOpenChange:()=>b(!_),openDelay:280,"data-sentry-element":"HoverCard","data-sentry-component":"ComputeBadgeWrapper","data-sentry-source-file":"ComputeBadgeWrapper.tsx",children:[(0,a.jsx)(m.d0,{asChild:!0,className:"group",onClick:e=>e.stopPropagation(),"data-sentry-element":"HoverCardTrigger","data-sentry-source-file":"ComputeBadgeWrapper.tsx",children:(0,a.jsx)("div",{children:(0,a.jsx)(h.R,{infraComputeSize:v.infra_compute_size,"data-sentry-element":"ComputeBadge","data-sentry-source-file":"ComputeBadgeWrapper.tsx"})})}),(0,a.jsxs)(m.Et,{side:"bottom",align:"start",className:"p-0 overflow-hidden w-96",onClick:e=>e.stopPropagation(),"data-sentry-element":"HoverCardContent","data-sentry-source-file":"ComputeBadgeWrapper.tsx",children:[(0,a.jsx)("div",{className:"p-2 px-5 text-xs text-foreground-lighter",children:"Compute size"}),(0,a.jsx)(x.w,{"data-sentry-element":"Separator","data-sentry-source-file":"ComputeBadgeWrapper.tsx"}),(0,a.jsxs)("div",{className:"p-3 px-5 flex flex-row gap-4",children:[(0,a.jsx)("div",{children:(0,a.jsx)(h.R,{infraComputeSize:null==v?void 0:v.infra_compute_size,"data-sentry-element":"ComputeBadge","data-sentry-source-file":"ComputeBadgeWrapper.tsx"})}),(0,a.jsx)("div",{className:"flex flex-col gap-4",children:w||q?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)(f.A,{className:"h-[20px] py-0 w-32"}),(0,a.jsx)(f.A,{className:"h-[20px] py-0 w-32"})]})}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"flex flex-col gap-1",children:void 0!==R?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g,{label:"CPU",stat:"".concat(null!=(j=R.cpu_cores)?j:"?","-core ").concat(N," ").concat(R.cpu_dedicated?"(Dedicated)":"(Shared)")}),(0,a.jsx)(g,{label:"Memory",stat:"".concat(null!=(y=R.memory_gb)?y:"-"," GB")})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g,{label:"CPU",stat:"Shared"}),(0,a.jsx)(g,{label:"Memory",stat:"Up to 0.5 GB"})]})})})})]}),(!I||P)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.w,{}),(0,a.jsxs)("div",{className:"p-3 px-5 text-sm flex flex-col gap-2 bg-studio",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-0",children:[(0,a.jsx)("p",{className:"text-foreground",children:P?"Free upgrade to Micro available":"Unlock more compute"}),(0,a.jsx)("p",{className:"text-foreground-light",children:P?"Paid plans include a free upgrade to Micro compute.":"Scale your project up to 64 cores and 256 GB RAM."})]}),(0,a.jsx)("div",{children:(0,a.jsx)(p.$,{asChild:!0,type:"default",htmlType:"button",role:"button",children:(0,a.jsx)(n(),{href:"/project/".concat(null==v?void 0:v.ref,"/settings/compute-and-disk"),children:"Upgrade compute"})})})]})]})]})]}):null}},81146:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(81915).A)("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]])},85436:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(81915).A)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},86337:(e,t,s)=>{"use strict";s.d(t,{m:()=>n});var a=s(37578),r=s(53239);let n=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.useMemo)(()=>{var e;let[s,r]=t;if(!(null==(e=s[0])?void 0:e[r]))return{data:s,error:void 0,isError:!1};try{return{data:(0,a.mu)(...t).sort((e,s)=>new Date(e[t[1]])-new Date(s[t[1]])),error:void 0,isError:!1}}catch(e){return{data:[],error:e,isError:!0}}},[JSON.stringify(t[0]),...t])}},88574:(e,t,s)=>{"use strict";s.d(t,{P:()=>a});let a={functionsInvStats:(e,t)=>{let{interval:s,functionId:a}=t;return["projects",e,"functions-inv-stats",{interval:s,functionId:a}]},functionsReqStats:(e,t)=>{let{interval:s,functionId:a}=t;return["projects",e,"functions-req-stats",{interval:s,functionId:a}]},functionsResourceUsage:(e,t)=>{let{interval:s,functionId:a}=t;return["projects",e,"functions-resource-usage",{interval:s,functionId:a}]},orgDailyComputeStats:(e,t)=>{let{startDate:s,endDate:a,projectRef:n}=t;return["organizations",e,"daily-stats-compute",{startDate:r(s),endDate:r(a),projectRef:n}]},orgDailyStats:(e,t)=>{let{metric:s,startDate:a,endDate:n,interval:l,projectRef:i}=t;return["organizations",e,"daily-stats",{metric:s,startDate:r(a),endDate:r(n),interval:l,projectRef:i}]},infraMonitoring:(e,t)=>{let{attribute:s,startDate:a,endDate:r,interval:n,databaseIdentifier:l}=t;return["projects",e,"infra-monitoring",{attribute:s,startDate:a,endDate:r,interval:n,databaseIdentifier:l}]},usageApiCounts:(e,t)=>["projects",e,"usage.api-counts",t],usageApiRequestsCount:e=>["projects",e,"usage.api-requests-count"]};function r(e){return e?e.split("T")[0]:e}},88853:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(81915).A)("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]])},89445:(e,t,s)=>{"use strict";s.d(t,{a:()=>l});var a=s(53116),r=s(3336),n=s(58004);let l=e=>{let{preset:t,orderBy:s,searchQuery:l="",roles:i,runIndexAdvisor:o=!1}=e,c=r.NY[n.N.QUERY_PERFORMANCE].queries[t],d=[void 0!==i&&i.length>0?"auth.rolname in (".concat(i.map(e=>"'".concat(e,"'")).join(", "),")"):"",l.length>0?"statements.query ~ '".concat(l,"'"):""].filter(e=>e.length>0).join(" AND "),u=s&&"ORDER BY ".concat(s.column," ").concat(s.order),m=c.sql([],d.length>0?"WHERE ".concat(d):void 0,u,o);return(0,a.A)({sql:m,params:void 0,where:d,orderBy:u})}},94858:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(81915).A)("GitCommitHorizontal",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]])},98730:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>e9});var a=s(80263),r=s(53434),n=s.n(r),l=s(93749),i=s.n(l),o=s(53239),c=s(46491),d=s(49381),u=s(80592),m=s(63121),x=s(94976),p=s(19722),h=s(63491),f=s(89445),g=s(84558),j=s(91675),y=s(66936),v=s(15742),_=s(36152),b=s(47134),N=s(11094),A=s(96827);let w=()=>{let e,{ref:t}=(0,c.g)(),[s,r]=(0,o.useState)("security"),{data:n,isLoading:l}=(0,j.b)({projectRef:t}),{data:d,isLoading:w}=(0,f.a)({preset:"slowestExecutionTime"}),k=(0,y.xd)(),S=(0,o.useMemo)(()=>(null!=n?n:[]).filter(e=>e.categories.includes("SECURITY")),[n]),C=(0,o.useMemo)(()=>(null!=n?n:[]).filter(e=>e.categories.includes("PERFORMANCE")),[n]),R=S.filter(e=>e.level===p.R.ERROR).length,E=S.filter(e=>e.level===p.R.WARN).length,T=C.filter(e=>e.level===p.R.ERROR).length,I=C.filter(e=>e.level===p.R.WARN).length,L=(0,o.useMemo)(()=>(null!=d?d:[]).slice(0,5),[d]),q=R+E+T+I,P=R>0||T>0,U=E>0||I>0;if(0===q)e=(0,a.jsx)("h2",{children:"No issues available"});else{let t=1===q?"issue":"issues",s=q.toString(),r="";P?r="text-destructive":U&&(r="text-warning"),e=(0,a.jsxs)("h2",{children:[s," ",t," need",1===q?"s":""," ",(0,a.jsx)("span",{className:r,children:"attention"})]})}let H=(e,s,r,n,l)=>{let o=s.filter(e=>e.level===p.R.ERROR||e.level===p.R.WARN).sort((e,t)=>e.level===p.R.ERROR?-1:1);return(0,a.jsxs)("div",{className:"h-full","data-sentry-component":"renderLintTabContent","data-sentry-source-file":"AdvisorWidget.tsx",children:[l&&(0,a.jsxs)("div",{className:"flex flex-col p-4 gap-2",children:[(0,a.jsx)(A.A,{}),(0,a.jsx)(A.A,{className:"w-3/4"}),(0,a.jsx)(A.A,{className:"w-1/2"})]}),!l&&(r>0||n>0)&&(0,a.jsx)("ul",{children:o.map(s=>{var r;let n=s.detail?s.detail:s.title;return(0,a.jsx)("li",{className:"text-sm w-full border-b my-0 last:border-b-0 group px-4 ",children:(0,a.jsxs)("div",{className:"flex items-center justify-between w-full group",children:[(0,a.jsxs)(i(),{href:"/project/".concat(t,"/advisors/").concat(e.toLowerCase(),"?id=").concat(s.cache_key,"&preset=").concat(s.level),className:"flex items-center gap-2 transition truncate flex-1 min-w-0 py-3",children:[(0,a.jsx)(h.L,{type:null==(r=s.metadata)?void 0:r.type}),(0,a.jsx)("p",{className:"flex-1 font-mono text-xs leading-6 text-xs text-foreground-light group-hover:text-foreground truncate",children:n.replace(/\\`/g,"`")})]}),(0,a.jsx)(g.G,{type:"text",className:"px-1 opacity-0 group-hover:opacity-100 w-7",icon:(0,a.jsx)(v.M,{size:16}),onClick:e=>{var t,a,r,n,l;e.stopPropagation(),e.preventDefault(),k.newChat({name:"Summarize lint",open:!0,initialInput:"Summarize the issue and suggest fixes for the following lint item:\n  Title: ".concat(null!=(r=null==(t=h.ah.find(e=>e.name===s.name))?void 0:t.title)?r:s.title,"\n  Entity: ").concat(null!=(n=s.metadata&&(s.metadata.entity||s.metadata.schema&&s.metadata.name&&"".concat(s.metadata.schema,".").concat(s.metadata.name)))?n:"N/A","\n  Schema: ").concat(null!=(l=null==(a=s.metadata)?void 0:a.schema)?l:"N/A","\n  Issue Details: ").concat(s.detail?s.detail.replace(/\`/g,"`"):"N/A","\n  Description: ").concat(s.description?s.description.replace(/\`/g,"`"):"N/A")})},tooltip:{content:{side:"bottom",text:"What is this issue?"}}})]})},s.cache_key)})}),!l&&0===r&&0===n&&(0,a.jsxs)("div",{className:"flex-1 flex flex-col h-full items-center justify-center gap-2",children:[(0,a.jsx)(u.A,{size:20,strokeWidth:1.5,className:"text-foreground-muted"}),(0,a.jsxs)("p",{className:"text-sm text-foreground-light",children:["No ",e.toLowerCase()," issues found"]})]})]})};return(0,a.jsxs)("div",{"data-sentry-component":"AdvisorWidget","data-sentry-source-file":"AdvisorWidget.tsx",children:[l?(0,a.jsx)(A.A,{className:"w-96 mb-6"}):(0,a.jsx)("div",{className:"flex justify-between items-center mb-6",children:e}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(_.Zp,{className:"h-80","data-sentry-element":"Card","data-sentry-source-file":"AdvisorWidget.tsx",children:(0,a.jsxs)(b.tU,{value:s,className:"h-full flex flex-col","data-sentry-element":"Tabs","data-sentry-source-file":"AdvisorWidget.tsx",children:[(0,a.jsxs)(_.aR,{className:"h-10 py-0 pl-4 pr-2 flex flex-row items-center justify-between flex-0","data-sentry-element":"CardHeader","data-sentry-source-file":"AdvisorWidget.tsx",children:[(0,a.jsxs)(b.j7,{className:"flex justify-start rounded-none gap-x-4 border-b-0 !mt-0 pt-0","data-sentry-element":"TabsList","data-sentry-source-file":"AdvisorWidget.tsx",children:[(0,a.jsxs)(b.Xi,{value:"security",onClick:()=>r("security"),className:"flex items-center gap-2 text-xs py-3 border-b-[1px] font-mono uppercase","data-sentry-element":"TabsTrigger","data-sentry-source-file":"AdvisorWidget.tsx",children:["Security"," ",R+E>0&&(0,a.jsx)("div",{className:"rounded bg-warning text-warning-100 px-1",children:R+E})]}),(0,a.jsxs)(b.Xi,{value:"performance",onClick:()=>r("performance"),className:"flex items-center gap-2 text-xs py-3 border-b-[1px] font-mono uppercase","data-sentry-element":"TabsTrigger","data-sentry-source-file":"AdvisorWidget.tsx",children:["Performance"," ",T+I>0&&(0,a.jsx)("div",{className:"rounded bg-warning text-warning-100 px-1",children:T+I})]})]}),(0,a.jsx)(g.G,{asChild:!0,type:"text",className:"!mt-0 w-7",icon:(0,a.jsx)(m.A,{}),tooltip:{content:{side:"bottom",text:"Open ".concat(s," Advisor"),className:"capitalize"}},"data-sentry-element":"ButtonTooltip","data-sentry-source-file":"AdvisorWidget.tsx",children:(0,a.jsx)(i(),{href:"/project/".concat(t,"/advisors/").concat(s),"data-sentry-element":"Link","data-sentry-source-file":"AdvisorWidget.tsx"})})]}),(0,a.jsxs)(_.Wu,{className:"!p-0 mt-0 flex-1 overflow-y-auto","data-sentry-element":"CardContent","data-sentry-source-file":"AdvisorWidget.tsx",children:[(0,a.jsx)(b.av,{value:"security",className:"p-0 mt-0 h-full","data-sentry-element":"TabsContent","data-sentry-source-file":"AdvisorWidget.tsx",children:H("Security",S,R,E,l)}),(0,a.jsx)(b.av,{value:"performance",className:"p-0 mt-0 h-full","data-sentry-element":"TabsContent","data-sentry-source-file":"AdvisorWidget.tsx",children:H("Performance",C,T,I,l)})]})]})}),(0,a.jsxs)(_.Zp,{className:"h-80 flex flex-col","data-sentry-element":"Card","data-sentry-source-file":"AdvisorWidget.tsx",children:[(0,a.jsxs)(_.aR,{className:"h-10 flex-row items-center justify-between py-0 pl-4 pr-2","data-sentry-element":"CardHeader","data-sentry-source-file":"AdvisorWidget.tsx",children:[(0,a.jsx)(_.ZB,{"data-sentry-element":"CardTitle","data-sentry-source-file":"AdvisorWidget.tsx",children:"Slow Queries"}),(0,a.jsx)(g.G,{asChild:!0,type:"text",className:"!mt-0 w-7",icon:(0,a.jsx)(m.A,{}),tooltip:{content:{side:"bottom",text:"Open Query Performance Advisor"}},"data-sentry-element":"ButtonTooltip","data-sentry-source-file":"AdvisorWidget.tsx",children:(0,a.jsx)(i(),{href:"/project/".concat(t,"/advisors/query-performance"),"data-sentry-element":"Link","data-sentry-source-file":"AdvisorWidget.tsx"})})]}),(0,a.jsx)(_.Wu,{className:"!p-0 flex-1 overflow-y-auto","data-sentry-element":"CardContent","data-sentry-source-file":"AdvisorWidget.tsx",children:w?(0,a.jsxs)("div",{className:"space-y-2 p-4",children:[(0,a.jsx)(A.A,{}),(0,a.jsx)(A.A,{className:"w-3/4"}),(0,a.jsx)(A.A,{className:"w-1/2"}),(0,a.jsx)(A.A,{className:"w-3/4"}),(0,a.jsx)(A.A,{className:"w-1/2"})]}):0===L.length?(0,a.jsxs)("div",{className:"flex-1 flex flex-col h-full items-center justify-center gap-2",children:[(0,a.jsx)(x.A,{strokeWidth:1.5,size:20,className:"text-foreground-muted"}),(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"No slow queries found in the selected period"})]}):(0,a.jsxs)(N.XI,{className:"text-xs font-mono max-w-full",children:[(0,a.jsx)(N.A0,{children:(0,a.jsxs)(N.Hj,{children:[(0,a.jsx)(N.nd,{className:"text-foreground-lighter truncate py-2 h-auto",children:"Query"}),(0,a.jsx)(N.nd,{className:"text-foreground-lighter truncate py-2 h-auto",children:"Avg time"}),(0,a.jsx)(N.nd,{className:"text-foreground-lighter truncate py-2 h-auto",children:"Calls"})]})}),(0,a.jsx)(N.BF,{children:L.map((e,t)=>(0,a.jsxs)(N.Hj,{className:"py-2",children:[(0,a.jsx)(N.nA,{className:"font-mono truncate max-w-xs",children:e.query}),(0,a.jsx)(N.nA,{className:"font-mono truncate max-w-xs",children:"number"==typeof e.mean_time?"".concat((e.mean_time/1e3).toFixed(2),"s"):"N/A"}),(0,a.jsx)(N.nA,{className:"font-mono truncate max-w-xs",children:e.calls})]},t))})]})})]})]})]})};var k=s(43824),S=s(28992),C=s(91437),R=s(5667),E=s(64084),T=s(91418),I=s(22554),L=s(60045),q=s(53337),P=s(37838),U=s(96334),H=s(72135),O=s(55069),M=s(38651),W=s(75831),z=s(48192),D=s(98050);let B=e=>({js:"\nimport { createClient } from '@supabase/supabase-js'\n\nconst supabaseUrl = '".concat(e,"'\nconst supabaseKey = process.env.SUPABASE_KEY\nconst supabase = createClient(supabaseUrl, supabaseKey)"),dart:"\nconst supabaseUrl = '".concat(e,"';\nconst supabaseKey = String.fromEnvironment('SUPABASE_KEY');\n\nFuture<void> main() async {\n  await Supabase.initialize(url: supabaseUrl, anonKey: supabaseKey);\n  runApp(MyApp());\n}")}),F=()=>{var e,t,s;let{ref:r}=(0,c.g)(),{projectConnectionJavascriptExample:n,projectConnectionDartExample:l}=(0,E.x)(["project_connection:javascript_example","project_connection:dart_example"]),d=[{name:n?"Javascript":"Typescript",key:"js"},...l?[{name:"Dart",key:"dart"}]:[]],[u,m]=(0,o.useState)(d[0]),{data:x,isError:p,isLoading:h}=(0,M.G)({projectRef:r}),{data:f}=(0,H.I)({projectRef:r}),{anonKey:g,serviceKey:j}=(0,H.x)(f),y=!g&&!j,{data:v,isError:_,isLoading:b}=(0,O.l)({projectRef:r},{enabled:!h&&y}),N=b&&!h&&y,A=null==v?void 0:v.jwtSecretUpdateStatus,{can:w}=(0,W.hl)(L.aG.READ,"service_api_keys"),k=void 0===A||A===q.bh.Updated,S=null!=(s=null==x||null==(e=x.app_config)?void 0:e.protocol)?s:"https",R=null==x||null==(t=x.app_config)?void 0:t.endpoint,T="".concat(S,"://").concat(null!=R?R:"-"),I=B(T),F=u?I[u.key]:"No snippet available";return(0,a.jsx)(C.A,{title:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h5",{className:"text-base",children:"Project API"}),(0,a.jsxs)("p",{className:"text-sm text-foreground-light",children:["Your API is secured behind an API gateway which requires an API Key for every request.",(0,a.jsx)("br",{}),"You can use the parameters below to use Supabase client libraries."]})]}),"data-sentry-element":"Panel","data-sentry-component":"APIKeys","data-sentry-source-file":"APIKeys.tsx",children:p||_?(0,a.jsxs)("div",{className:"flex items-center justify-center py-8 space-x-2",children:[(0,a.jsx)(P.A,{size:16,strokeWidth:1.5}),(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:p?"Failed to retrieve API keys":"Failed to update JWT secret"})]}):h||y?(0,a.jsxs)("div",{className:"flex items-center justify-center py-8 space-x-2",children:[(0,a.jsx)(U.A,{className:"animate-spin",size:16,strokeWidth:1.5}),(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"Retrieving API keys"})]}):N?(0,a.jsxs)("div",{className:"flex items-center justify-center py-8 space-x-2",children:[(0,a.jsx)(U.A,{className:"animate-spin",size:16,strokeWidth:1.5}),(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"JWT secret is being updated"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C.A.Content,{children:(0,a.jsx)(z.A,{label:"Project URL",readOnly:!0,copy:!0,disabled:!0,className:"input-mono",value:T,descriptionText:"A RESTful endpoint for querying and managing your database.",layout:"horizontal"})}),(0,a.jsx)(C.A.Content,{className:"border-t border-panel-border-interior-light dark:border-panel-border-interior-dark",children:(0,a.jsx)(z.A,{readOnly:!0,disabled:!0,layout:"horizontal",className:"input-mono",label:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-sm",children:"API Key"}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 -ml-1",children:[(0,a.jsx)("code",{className:"text-xs",children:null==g?void 0:g.name}),(0,a.jsx)("code",{className:"text-xs",children:"public"})]})]}),copy:w&&k,reveal:(null==g?void 0:g.name)!=="anon"&&w&&k,value:w?A===q.bh.Failed?"JWT secret update failed, new API key may have issues":A===q.bh.Updating?"Updating JWT secret...":null==g?void 0:g.api_key:"You need additional permissions to view API keys",onChange:()=>{},descriptionText:(0,a.jsxs)("p",{children:["This key is safe to use in a browser if you have enabled Row Level Security (RLS) for your tables and configured policies. You may also use the service key which can be found"," ",(0,a.jsx)(i(),{href:"/project/".concat(r,"/settings/api"),className:"transition text-brand hover:text-brand-600",children:"here"})," ","to bypass RLS."]})})}),d.length>0&&(0,a.jsxs)("div",{className:"border-t border-panel-border-interior-light dark:border-panel-border-interior-dark",children:[(0,a.jsx)("div",{className:"flex items-center bg-studio",children:d.map(e=>{let t=u.key===e.key;return(0,a.jsx)("div",{className:["px-3 py-1 text-sm cursor-pointer transition","".concat(!t?"bg-studio text-foreground-light":"bg-surface-100")].join(" "),onClick:()=>m(e),children:e.name},e.key)})}),(0,a.jsx)("div",{className:"bg-surface-100 px-4 py-6 min-h-[200px]",children:(0,a.jsx)(D.X,{className:u.key,children:F})})]})]})})};var Y=s(80127);let V=()=>(0,a.jsx)("div",{className:"w-[10%] h-full flex items-center border-r border-default px-2","data-sentry-component":"Checkbox","data-sentry-source-file":"GetStartedHero.tsx",children:(0,a.jsx)("div",{className:"w-3 h-3 rounded border border-control"})}),G=e=>{let{className:t,col1:s,col2:r,col3:n}=e;return(0,a.jsxs)("div",{className:(0,Y.cn)("h-[30px] flex items-center bg-studio border-b border-default",t),"data-sentry-component":"Row","data-sentry-source-file":"GetStartedHero.tsx",children:[(0,a.jsx)(V,{"data-sentry-element":"Checkbox","data-sentry-source-file":"GetStartedHero.tsx"}),(0,a.jsx)("div",{className:"w-[15%] h-full flex items-center border-r border-default px-2",children:(0,a.jsx)("p",{className:"text-xs",children:s})}),(0,a.jsx)("div",{className:"w-[45%] h-full flex items-center border-r border-default px-2",children:(0,a.jsx)("p",{className:"text-xs",children:r})}),(0,a.jsx)("div",{className:"w-[30%] h-full flex items-center px-2",children:(0,a.jsx)("p",{className:"text-xs",children:n})})]})},K=()=>(0,a.jsxs)("div",{className:"w-full max-w-[500px] h-full pb-10 lg:pb-0 relative pointer-events-none","data-sentry-component":"GetStartedHero","data-sentry-source-file":"GetStartedHero.tsx",children:[(0,a.jsxs)("div",{className:(0,Y.cn)("w-[290px] lg:w-[400px] h-[180px] bg-alternative border border-default","rounded-t px-4 py-3 space-y-1 overflow-hidden"),children:[(0,a.jsxs)("div",{className:"text-xs font-mono space-x-4 flex items-center",children:[(0,a.jsx)("span",{className:"text-foreground-light",children:"1"}),(0,a.jsxs)("p",{className:"text-blue-900",children:["create table ",(0,a.jsxs)("span",{className:"text-foreground",children:["todos ","("]})]})]}),(0,a.jsxs)("div",{className:"text-xs font-mono space-x-8 flex items-center",children:[(0,a.jsx)("span",{className:"text-foreground-light",children:"2"}),(0,a.jsxs)("p",{className:"text-foreground",children:["id ",(0,a.jsx)("span",{className:"text-blue-900",children:"bigint generated by default"}),","]})]}),(0,a.jsxs)("div",{className:"text-xs font-mono space-x-8 flex items-center",children:[(0,a.jsx)("span",{className:"text-foreground-light",children:"3"}),(0,a.jsxs)("p",{className:"text-foreground",children:["task ",(0,a.jsx)("span",{className:"text-blue-900",children:"text"}),","]})]}),(0,a.jsxs)("div",{className:"text-xs font-mono space-x-8 flex items-center",children:[(0,a.jsx)("span",{className:"text-foreground-light",children:"4"}),(0,a.jsxs)("p",{className:"text-foreground",children:["status ",(0,a.jsx)("span",{className:"text-blue-900",children:"status default 'Not Started'"}),","]})]}),(0,a.jsxs)("div",{className:"text-xs font-mono space-x-8 flex items-center",children:[(0,a.jsx)("span",{className:"text-foreground-light",children:"5"}),(0,a.jsxs)("p",{className:"text-foreground",children:["user_id ",(0,a.jsx)("span",{className:"text-blue-900",children:"uuid references auth.users not null"}),","]})]}),(0,a.jsxs)("div",{className:"text-xs font-mono space-x-8 flex items-center",children:[(0,a.jsx)("span",{className:"text-foreground-light",children:"6"}),(0,a.jsxs)("p",{className:"text-foreground",children:["inserted_at ",(0,a.jsx)("span",{className:"text-blue-900",children:"timestamp with time zone"}),","]})]}),(0,a.jsxs)("div",{className:"text-xs font-mono space-x-8 flex items-center",children:[(0,a.jsx)("span",{className:"text-foreground-light",children:"7"}),(0,a.jsxs)("p",{className:"text-foreground",children:["updated_at ",(0,a.jsx)("span",{className:"text-blue-900",children:"timestamp with time zone"}),","]})]}),(0,a.jsxs)("div",{className:"text-xs font-mono space-x-4 flex items-center",children:[(0,a.jsx)("span",{className:"text-foreground-light",children:"8"}),(0,a.jsx)("p",{className:"text-blue-900",children:");"})]})]}),(0,a.jsxs)("div",{className:(0,Y.cn)("w-[260px] lg:w-[320px] h-[160px] lg:h-[220px] bg-surface-100 border border-default","absolute right-0 top-[50px] lg:-top-[40px] rounded-t overflow-y-hidden"),children:[(0,a.jsx)(G,{col1:"id",col2:"task",col3:"status",className:"h-[24px] bg-surface-100","data-sentry-element":"Row","data-sentry-source-file":"GetStartedHero.tsx"}),(0,a.jsx)(G,{col1:"1",col2:"Create a project",col3:"Complete","data-sentry-element":"Row","data-sentry-source-file":"GetStartedHero.tsx"}),(0,a.jsx)(G,{col1:"2",col2:"Read documentation",col3:"Complete","data-sentry-element":"Row","data-sentry-source-file":"GetStartedHero.tsx"}),(0,a.jsx)(G,{col1:"3",col2:"Build application",col3:"In progress","data-sentry-element":"Row","data-sentry-source-file":"GetStartedHero.tsx"}),(0,a.jsx)(G,{col1:"4",col2:"Connect Supabase",col3:"In progress","data-sentry-element":"Row","data-sentry-source-file":"GetStartedHero.tsx"}),(0,a.jsx)(G,{col1:"5",col2:"Deploy project",col3:"Not started","data-sentry-element":"Row","data-sentry-source-file":"GetStartedHero.tsx"}),(0,a.jsx)(G,{col1:"6",col2:"Get users",col3:"Not started","data-sentry-element":"Row","data-sentry-source-file":"GetStartedHero.tsx"}),(0,a.jsx)(G,{col1:"7",col2:"Upgrade to Pro",col3:"Not started","data-sentry-element":"Row","data-sentry-source-file":"GetStartedHero.tsx"})]})]}),$=()=>{let{ref:e}=(0,c.g)(),{projectAuthAll:t,projectEdgeFunctionAll:s,projectStorageAll:r}=(0,E.x)(["project_auth:all","project_edge_function:all","project_storage:all"]);return(0,a.jsxs)("div",{className:"grid grid-cols-12 gap-4 lg:gap-20","data-sentry-component":"NewProjectPanel","data-sentry-source-file":"NewProjectPanel.tsx",children:[(0,a.jsx)("div",{className:"col-span-12",children:(0,a.jsxs)("div",{className:"flex flex-col space-y-12 md:space-y-20",children:[(0,a.jsx)("div",{className:"flex h-full flex-col justify-between",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h2",{children:"Welcome to your new project"}),(0,a.jsx)("p",{className:"text-base text-foreground-light",children:"Your project has been deployed on its own instance, with its own API all set up and ready to use."})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-12 gap-4",children:[(0,a.jsxs)("div",{className:"col-span-12 flex flex-col justify-center space-y-8 lg:col-span-7",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h2",{children:"Get started by building out your database"}),(0,a.jsx)("p",{className:"text-base text-foreground-light",children:"Start building your app by creating tables and inserting data. Our Table Editor makes Postgres as easy to use as a spreadsheet, but there's also our SQL Editor if you need something more."})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,a.jsx)(I.$,{asChild:!0,type:"default",icon:(0,a.jsx)(T.Ue,{strokeWidth:1.5}),"data-sentry-element":"Button","data-sentry-source-file":"NewProjectPanel.tsx",children:(0,a.jsx)(R.h,{projectRef:e,"data-sentry-element":"EditorIndexPageLink","data-sentry-source-file":"NewProjectPanel.tsx",children:"Table Editor"})}),(0,a.jsx)(I.$,{asChild:!0,type:"default",icon:(0,a.jsx)(T.mx,{strokeWidth:1.5}),"data-sentry-element":"Button","data-sentry-source-file":"NewProjectPanel.tsx",children:(0,a.jsx)(i(),{href:"/project/".concat(e,"/sql/new"),"data-sentry-element":"Link","data-sentry-source-file":"NewProjectPanel.tsx",children:"SQL Editor"})}),(0,a.jsx)(I.$,{asChild:!0,type:"default",icon:(0,a.jsx)(m.A,{}),"data-sentry-element":"Button","data-sentry-source-file":"NewProjectPanel.tsx",children:(0,a.jsx)(i(),{href:"https://supabase.com/docs/guides/database",target:"_blank",rel:"noreferrer","data-sentry-element":"Link","data-sentry-source-file":"NewProjectPanel.tsx",children:"About Database"})})]})]}),(0,a.jsx)("div",{className:"col-span-12 lg:col-span-5",children:(0,a.jsx)(K,{"data-sentry-element":"GetStartedHero","data-sentry-source-file":"NewProjectPanel.tsx"})})]}),t&&s&&r&&(0,a.jsxs)("div",{className:"flex h-full flex-col justify-between space-y-6",children:[(0,a.jsxs)("div",{className:"max-w-2xl space-y-2",children:[(0,a.jsx)("h2",{children:"Explore our other products"}),(0,a.jsx)("p",{className:"text-base text-foreground-light",children:"Supabase provides all the backend features you need to build a product. You can use it completely, or just the features you need."})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-4 md:gap-y-0 xl:grid-cols-4",children:[(0,a.jsx)(C.A,{children:(0,a.jsxs)(C.A.Content,{className:"flex flex-col space-y-4 md:px-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"rounded bg-surface-300 p-1.5 text-foreground-light shadow-sm",children:(0,a.jsx)(T.Nj,{size:16,strokeWidth:1.5})}),(0,a.jsx)("h5",{children:"Authentication"})]}),(0,a.jsx)("div",{className:"flex flex-grow md:min-h-[50px] xl:min-h-[75px]",children:(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"A complete user management system that works without any additional tools."})}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(I.$,{type:"default",asChild:!0,children:(0,a.jsx)(i(),{href:"/project/".concat(e,"/auth/users"),children:"Explore Auth"})}),(0,a.jsx)(I.$,{className:"translate-y-[1px]",icon:(0,a.jsx)(m.A,{}),type:"default",asChild:!0,children:(0,a.jsx)(i(),{href:"https://supabase.com/docs/guides/auth",target:"_blank",rel:"noreferrer",children:"About Auth"})})]})]})}),(0,a.jsx)(C.A,{children:(0,a.jsxs)(C.A.Content,{className:"flex flex-col space-y-4 md:px-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"rounded bg-surface-300 p-1.5 text-foreground-light shadow-sm",children:(0,a.jsx)(T.wc,{size:16,strokeWidth:1.5})}),(0,a.jsx)("h5",{children:"Storage"})]}),(0,a.jsx)("div",{className:"flex md:min-h-[50px] xl:min-h-[75px]",children:(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"Store, organize, and serve any file types of any size from multiple buckets."})}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(I.$,{type:"default",asChild:!0,children:(0,a.jsx)(i(),{href:"/project/".concat(e,"/storage/buckets"),children:"Explore Storage"})}),(0,a.jsx)(I.$,{className:"translate-y-[1px]",icon:(0,a.jsx)(m.A,{}),type:"default",asChild:!0,children:(0,a.jsx)(i(),{href:"https://supabase.com/docs/guides/storage",target:"_blank",rel:"noreferrer",children:"About Storage"})})]})]})}),(0,a.jsx)(C.A,{children:(0,a.jsxs)(C.A.Content,{className:"flex flex-col space-y-4 md:px-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"rounded bg-surface-300 p-1.5 text-foreground-light shadow-sm",children:(0,a.jsx)(T.n7,{size:16,strokeWidth:1.5})}),(0,a.jsx)("h5",{children:"Edge Functions"})]}),(0,a.jsx)("div",{className:"flex md:min-h-[50px] xl:min-h-[75px]",children:(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"Write custom code without deploying or scaling servers, with fast deploy times and low latency."})}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(I.$,{type:"default",asChild:!0,children:(0,a.jsx)(i(),{href:"/project/".concat(e,"/functions"),children:"Explore Functions"})}),(0,a.jsx)(I.$,{className:"translate-y-[1px]",icon:(0,a.jsx)(m.A,{}),type:"default",asChild:!0,children:(0,a.jsx)(i(),{href:"https://supabase.com/docs/guides/functions",target:"_blank",rel:"noreferrer",children:"About Functions"})})]})]})}),(0,a.jsx)(C.A,{children:(0,a.jsxs)(C.A.Content,{className:"flex flex-col space-y-4 md:px-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"rounded bg-surface-300 p-1.5 text-foreground-light shadow-sm",children:(0,a.jsx)(T.Se,{size:16,strokeWidth:1.5})}),(0,a.jsx)("h5",{children:"Realtime"})]}),(0,a.jsx)("div",{className:"flex md:min-h-[50px] xl:min-h-[75px]",children:(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"Listen to your PostgreSQL database in realtime via websockets."})}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(I.$,{type:"default",asChild:!0,children:(0,a.jsx)(i(),{href:"/project/".concat(e,"/realtime/inspector"),children:"Explore Realtime"})}),(0,a.jsx)(I.$,{className:"translate-y-[1px]",icon:(0,a.jsx)(m.A,{}),type:"default",asChild:!0,children:(0,a.jsx)(i(),{href:"https://supabase.com/docs/guides/realtime",target:"_blank",rel:"noreferrer",children:"About Realtime"})})]})]})})]})]})]})}),(0,a.jsx)("div",{className:"col-span-12 lg:col-span-4",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h2",{children:"Connecting to your new project"}),(0,a.jsxs)("p",{className:"text-base text-foreground-light lg:max-w-sm",children:["Interact with your database through the"," ",(0,a.jsx)(i(),{href:"https://supabase.com/docs/reference",className:"text-brand","data-sentry-element":"Link","data-sentry-source-file":"NewProjectPanel.tsx",children:"Supabase client libraries"})," ","with your API keys."]}),(0,a.jsx)("p",{className:"text-base text-foreground-light lg:max-w-sm",children:"More information about your project's keys can be found in your project's API settings."})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(I.$,{asChild:!0,type:"default","data-sentry-element":"Button","data-sentry-source-file":"NewProjectPanel.tsx",children:(0,a.jsx)(i(),{href:"/project/".concat(e,"/settings/api"),"data-sentry-element":"Link","data-sentry-source-file":"NewProjectPanel.tsx",children:"View API settings"})}),(0,a.jsx)(I.$,{asChild:!0,className:"translate-y-[1px]",type:"default",icon:(0,a.jsx)(m.A,{}),"data-sentry-element":"Button","data-sentry-source-file":"NewProjectPanel.tsx",children:(0,a.jsx)(i(),{href:"https://supabase.com/docs/guides/database/api",target:"_blank",rel:"noreferrer","data-sentry-element":"Link","data-sentry-source-file":"NewProjectPanel.tsx",children:"About APIs"})})]})]})}),(0,a.jsx)("div",{className:"col-span-12 lg:col-span-8",children:(0,a.jsx)(F,{"data-sentry-element":"APIKeys","data-sentry-source-file":"NewProjectPanel.tsx"})})]})};var X=s(89171),J=s(10540),Q=s(56947),Z=s(70938),ee=s(88574);async function et(e,t){let{projectRef:s}=e;if(!s)throw Error("projectRef is required");let{data:a,error:r}=await (0,Z.Jt)("/platform/projects/{ref}/analytics/endpoints/usage.api-requests-count",{params:{path:{ref:s}},signal:t});return r&&(0,Z.H4)(r),a}let es=function(e){let{projectRef:t}=e,{enabled:s=!0,...a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,Q.I)(ee.P.usageApiRequestsCount(t),e=>{let{signal:s}=e;return et({projectRef:t},s)},{enabled:s&&void 0!==t,...a})};async function ea(e,t){let{projectRef:s,interval:a}=e;if(!s)throw Error("projectRef is required");if(!a)throw Error("interval is required");let{data:r,error:n}=await (0,Z.Jt)("/platform/projects/{ref}/analytics/endpoints/usage.api-counts",{params:{path:{ref:s},query:{interval:a}},signal:t});return n&&(0,Z.H4)(n),r}let er=function(e){let{projectRef:t,interval:s}=e,{enabled:a=!0,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,Q.I)(ee.P.usageApiCounts(t,s),e=>{let{signal:a}=e;return ea({projectRef:t,interval:s},a)},{enabled:a&&void 0!==t&&void 0!==s,...r})};var en=s(16703),el=s(27503),ei=s.n(el),eo=s(83759),ec=s(85436),ed=s(10208),eu=s(57793);let em=(0,s(81915).A)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var ex=s(67908),ep=s(74776),eh=s(89422),ef=s(86337),eg=s(2857),ej=s(52445),ey=s(64495),ev=s(35741),e_=s(98484);let eb={free:1,pro:7,team:28,enterprise:90},eN=[{key:"1hr",label:"Last 60 minutes",startValue:1,startUnit:"hour",format:"MMM D, h:mma",availableIn:["free","pro","team","enterprise"]},{key:"1day",label:"Last 24 hours",startValue:24,startUnit:"hour",format:"MMM D, ha",availableIn:["free","pro","team","enterprise"]},{key:"7day",label:"Last 7 days",startValue:7,startUnit:"day",format:"MMM D",availableIn:["pro","team","enterprise"]}],eA=()=>{let e=(0,ex.useRouter)(),{ref:t}=(0,c.g)(),{data:s}=(0,ej.s)(),{projectAuthAll:r,projectStorageAll:l}=(0,E.x)(["project_auth:all","project_storage:all"]),{plan:i}=(0,eg.c)(),d=(null==i?void 0:i.id)==="free"?"1hr":"1day",[u,m]=(0,o.useState)(d),{data:x,isLoading:p}=er({projectRef:t,interval:u}),h=eN.find(e=>e.key===u)||eN[1],f=n()().subtract(h.startValue,h.startUnit),g=n()(),{data:j}=(0,ef.m)((null==x?void 0:x.result)||[],"timestamp",["total_auth_requests","total_rest_requests","total_storage_requests","total_realtime_requests"],0,f.toISOString(),g.toISOString(),5),y=h.format||"MMM D, ha",v=(s,a)=>{let r=h.startUnit,l=n()(null==s?void 0:s.timestamp),i=l.add(1,r);if("rest"===a)return void e.push("/project/".concat(t,"/logs/edge-logs?its=").concat(l.toISOString(),"&ite=").concat(i.toISOString()));e.push("/project/".concat(t,"/logs/edge-logs?its=").concat(l.toISOString(),"&ite=").concat(i.toISOString(),"&f=").concat(JSON.stringify({product:{[a]:!0}})))};return(0,a.jsxs)("div",{className:"space-y-6","data-sentry-component":"ProjectUsage","data-sentry-source-file":"ProjectUsage.tsx",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center gap-x-2",children:[(0,a.jsxs)(ey.rI,{"data-sentry-element":"DropdownMenu","data-sentry-source-file":"ProjectUsage.tsx",children:[(0,a.jsx)(ey.ty,{asChild:!0,"data-sentry-element":"DropdownMenuTrigger","data-sentry-source-file":"ProjectUsage.tsx",children:(0,a.jsx)(I.$,{type:"default",iconRight:(0,a.jsx)(eo.A,{size:14}),"data-sentry-element":"Button","data-sentry-source-file":"ProjectUsage.tsx",children:(0,a.jsx)("span",{children:h.label})})}),(0,a.jsx)(ey.SQ,{side:"bottom",align:"start",className:"w-40","data-sentry-element":"DropdownMenuContent","data-sentry-source-file":"ProjectUsage.tsx",children:(0,a.jsx)(ey.Hr,{value:u,onValueChange:e=>m(e),"data-sentry-element":"DropdownMenuRadioGroup","data-sentry-source-file":"ProjectUsage.tsx",children:eN.map(e=>{var t,r;if(null==(t=e.availableIn)?void 0:t.includes((null==i?void 0:i.id)||"free"))return(0,a.jsx)(ey.Ht,{value:e.key,children:e.label},e.key);{let t=eb[null!=(r=null==i?void 0:i.id)?r:"free"];return(0,a.jsxs)(ev.m_,{children:[(0,a.jsx)(ev.k$,{asChild:!0,children:(0,a.jsx)(ey.Ht,{disabled:!0,value:e.key,className:"!pointer-events-auto",children:e.label})}),(0,a.jsxs)(ev.ZI,{side:"right",children:[(0,a.jsxs)("p",{children:[null==i?void 0:i.name," plan only includes up to ",t," day",t>1?"s":""," of log retention"]}),(0,a.jsxs)("p",{className:"text-foreground-light",children:[(0,a.jsx)(eh.g,{className:"text-foreground-light hover:text-foreground",href:"/org/".concat(null==s?void 0:s.slug,"/billing?panel=subscriptionPlan"),children:"Upgrade your plan"})," ","to increase log retention and view statistics for the"," ",e.label.toLowerCase()]})]})]},e.key)}})})})]}),(0,a.jsxs)("span",{className:"text-xs text-foreground-light",children:["Statistics for ",h.label.toLowerCase()]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-4 lg:grid-cols-4",children:[(0,a.jsx)(C.A,{className:"mb-0 md:mb-0","data-sentry-element":"Panel","data-sentry-source-file":"ProjectUsage.tsx",children:(0,a.jsxs)(C.A.Content,{className:"space-y-4","data-sentry-element":"Panel.Content","data-sentry-source-file":"ProjectUsage.tsx",children:[(0,a.jsx)(ew,{icon:(0,a.jsx)("div",{className:"rounded bg-surface-300 p-1.5 text-foreground-light shadow-sm",children:(0,a.jsx)(ec.A,{strokeWidth:2,size:16})}),title:"Database",href:"/project/".concat(t,"/editor"),"data-sentry-element":"PanelHeader","data-sentry-source-file":"ProjectUsage.tsx"}),(0,a.jsx)(e_.A,{active:p,"data-sentry-element":"Loading","data-sentry-source-file":"ProjectUsage.tsx",children:(0,a.jsx)(ep.A,{title:"REST Requests",data:j,xAxisKey:"timestamp",yAxisKey:"total_rest_requests",onBarClick:e=>v(e,"rest"),customDateFormat:y,highlightedValue:ei()(j,"total_rest_requests"),"data-sentry-element":"BarChart","data-sentry-source-file":"ProjectUsage.tsx"})})]})}),r&&(0,a.jsx)(C.A,{className:"mb-0 md:mb-0",children:(0,a.jsxs)(C.A.Content,{className:"space-y-4",children:[(0,a.jsx)(ew,{icon:(0,a.jsx)("div",{className:"rounded bg-surface-300 p-1.5 text-foreground-light shadow-sm",children:(0,a.jsx)(ed.A,{strokeWidth:2,size:16})}),title:"Auth",href:"/project/".concat(t,"/auth/users")}),(0,a.jsx)(e_.A,{active:p,children:(0,a.jsx)(ep.A,{title:"Auth Requests",data:j,xAxisKey:"timestamp",yAxisKey:"total_auth_requests",onBarClick:e=>v(e,"auth"),customDateFormat:y,highlightedValue:ei()(j||[],"total_auth_requests")})})]})}),l&&(0,a.jsx)(C.A,{className:"mb-0 md:mb-0",children:(0,a.jsxs)(C.A.Content,{className:"space-y-4",children:[(0,a.jsx)(ew,{icon:(0,a.jsx)("div",{className:"rounded bg-surface-300 p-1.5 text-foreground-light shadow-sm",children:(0,a.jsx)(eu.A,{strokeWidth:2,size:16})}),title:"Storage",href:"/project/".concat(t,"/storage/buckets")}),(0,a.jsx)(e_.A,{active:p,children:(0,a.jsx)(ep.A,{title:"Storage Requests",data:j,xAxisKey:"timestamp",yAxisKey:"total_storage_requests",onBarClick:e=>v(e,"storage"),customDateFormat:y,highlightedValue:ei()(j,"total_storage_requests")})})]})}),(0,a.jsx)(C.A,{className:"mb-0 md:mb-0","data-sentry-element":"Panel","data-sentry-source-file":"ProjectUsage.tsx",children:(0,a.jsxs)(C.A.Content,{className:"space-y-4","data-sentry-element":"Panel.Content","data-sentry-source-file":"ProjectUsage.tsx",children:[(0,a.jsx)(ew,{icon:(0,a.jsx)("div",{className:"rounded bg-surface-300 p-1.5 text-foreground-light shadow-sm",children:(0,a.jsx)(em,{strokeWidth:2,size:16})}),title:"Realtime","data-sentry-element":"PanelHeader","data-sentry-source-file":"ProjectUsage.tsx"}),(0,a.jsx)(e_.A,{active:p,"data-sentry-element":"Loading","data-sentry-source-file":"ProjectUsage.tsx",children:(0,a.jsx)(ep.A,{title:"Realtime Requests",data:j,xAxisKey:"timestamp",yAxisKey:"total_realtime_requests",onBarClick:e=>v(e,"realtime"),customDateFormat:y,highlightedValue:ei()(j,"total_realtime_requests"),"data-sentry-element":"BarChart","data-sentry-source-file":"ProjectUsage.tsx"})})]})})]})]})},ew=e=>{let t=(null==e?void 0:e.href)?i():"div";return(0,a.jsx)(t,{href:e.href,"data-sentry-element":"Tag","data-sentry-component":"PanelHeader","data-sentry-source-file":"ProjectUsage.tsx",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3 opacity-80 transition "+(e.href?"cursor-pointer hover:text-gray-1200 hover:opacity-100":""),children:[(0,a.jsx)("div",{children:e.icon}),(0,a.jsx)("span",{className:"flex items-center space-x-1",children:(0,a.jsx)("h4",{className:"mb-0 text-lg",children:e.title})})]})})},ek=()=>{let{data:e}=(0,en.YA)(),{error:t,isLoading:s}=es({projectRef:null==e?void 0:e.ref}),{isLoading:r}=er({projectRef:null==e?void 0:e.ref,interval:"1hr"});return s||r?(0,a.jsx)(X.g,{}):t?(0,a.jsx)(J.A,{hideCollapse:!0,defaultVisibility:!0,icon:(0,a.jsx)(P.A,{size:18,strokeWidth:2}),title:"There was an issue loading the usage details of your project"}):(0,a.jsx)(eA,{"data-sentry-element":"ProjectUsage","data-sentry-component":"ProjectUsageSection","data-sentry-source-file":"ProjectUsageSection.tsx"})};var eS=s(21749),eC=s(92818),eR=s(14216),eE=s(72343),eT=s(51509),eI=s(22205);let eL={serviceStatus:e=>["projects",e,"service-status"],edgeFunctions:e=>["projects",e,"service-status","edge-functions"]};async function eq(e){try{let t=await fetch("https://obuldanrptloktxcffvn.supabase.co/functions/v1/health-check",{method:"GET",signal:e});return await t.json()}catch(e){return{healthy:!1}}}let eP=function(e){let{projectRef:t}=e,{enabled:s=!0,...a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,Q.I)(eL.edgeFunctions(t),e=>{let{signal:t}=e;return eq(t)},{enabled:s&&void 0!==t,...a})};async function eU(e,t){let{projectRef:s}=e;if(!s)throw Error("projectRef is required");let{data:a,error:r}=await (0,Z.Jt)("/v1/projects/{ref}/health",{params:{path:{ref:s},query:{services:["auth","realtime","rest","storage","db"]}},signal:t});return r&&(0,Z.H4)(r),a}let eH=function(e){let{projectRef:t}=e,{enabled:s=!0,...a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,Q.I)(eL.serviceStatus(t),e=>{let{signal:s}=e;return eU({projectRef:t},s)},{enabled:s&&void 0!==t,...a})};var eO=s(68506);let eM=e=>{let{status:t,isLoading:s,isHealthy:a,isProjectNew:r}=e;return a?"Healthy":s?"Checking status":"UNHEALTHY"===t?"Unhealthy":"COMING_UP"===t?"Coming up...":"ACTIVE_HEALTHY"===t?"Healthy":r?"Coming up...":t||"Unable to connect"},eW={size:18,strokeWidth:1.5},ez=()=>(0,a.jsx)(eS.A,{...eW,className:"animate-spin","data-sentry-element":"Loader2","data-sentry-component":"LoaderIcon","data-sentry-source-file":"ServiceStatus.tsx"}),eD=()=>(0,a.jsx)(eC.A,{...eW,"data-sentry-element":"AlertTriangle","data-sentry-component":"AlertIcon","data-sentry-source-file":"ServiceStatus.tsx"}),eB=()=>(0,a.jsx)(eR.A,{...eW,className:"text-brand","data-sentry-element":"CheckCircle2","data-sentry-component":"CheckIcon","data-sentry-source-file":"ServiceStatus.tsx"}),eF=e=>{let{isLoading:t,isHealthy:s,isProjectNew:r,projectStatus:n}=e;return s?(0,a.jsx)(eB,{}):t?(0,a.jsx)(ez,{}):"UNHEALTHY"===n?(0,a.jsx)(eD,{}):"COMING_UP"===n?(0,a.jsx)(ez,{}):"ACTIVE_HEALTHY"===n?(0,a.jsx)(eB,{}):r?(0,a.jsx)(ez,{}):(0,a.jsx)(eD,{"data-sentry-element":"AlertIcon","data-sentry-component":"StatusIcon","data-sentry-source-file":"ServiceStatus.tsx"})},eY=()=>{var e,t,s,r,l;let{ref:d}=(0,c.g)(),{data:u}=(0,en.YA)(),[m,x]=(0,o.useState)(!1),{projectAuthAll:p,projectEdgeFunctionAll:h,realtimeAll:f,projectStorageAll:g}=(0,E.x)(["project_auth:all","project_edge_function:all","realtime:all","project_storage:all"]),j=(null==u?void 0:u.parentRef)!==(null==u?void 0:u.ref),{data:y,isLoading:v}=(0,eI.A)({projectRef:j?null==u?void 0:u.parentRef:void 0},{enabled:j,refetchInterval:e=>{if(!e)return!1;let t=e.find(e=>e.project_ref===d);return!["FUNCTIONS_DEPLOYED","MIGRATIONS_FAILED","FUNCTIONS_FAILED"].includes((null==t?void 0:t.status)||"")&&5e3}}),_=j?null==y?void 0:y.find(e=>e.project_ref===d):void 0,{data:b,isLoading:N,refetch:A}=eH({projectRef:d},{refetchInterval:e=>null!=e&&!!e.some(e=>!e.healthy)&&5e3}),{data:w,refetch:k}=eP({projectRef:d},{refetchInterval:e=>(null==e||!e.healthy)&&5e3}),S=null==b?void 0:b.find(e=>"auth"===e.name),C=null==b?void 0:b.find(e=>"rest"===e.name),R=null==b?void 0:b.find(e=>"realtime"===e.name),T=null==b?void 0:b.find(e=>"storage"===e.name),L=null==b?void 0:b.find(e=>"db"===e.name),q=[{name:"Database",error:void 0,docsUrl:void 0,isLoading:N,isHealthy:!!(null==L?void 0:L.healthy),status:null!=(e=null==L?void 0:L.status)?e:"UNHEALTHY",logsUrl:"/logs/postgres-logs"},{name:"PostgREST",error:null==C?void 0:C.error,docsUrl:void 0,isLoading:N,isHealthy:!!(null==C?void 0:C.healthy),status:null!=(t=null==C?void 0:C.status)?t:"UNHEALTHY",logsUrl:"/logs/postgrest-logs"},...p?[{name:"Auth",error:null==S?void 0:S.error,docsUrl:void 0,isLoading:N,isHealthy:!!(null==S?void 0:S.healthy),status:null!=(s=null==S?void 0:S.status)?s:"UNHEALTHY",logsUrl:"/logs/auth-logs"}]:[],...f?[{name:"Realtime",error:null==R?void 0:R.error,docsUrl:void 0,isLoading:N,isHealthy:!!(null==R?void 0:R.healthy),status:null!=(r=null==R?void 0:R.status)?r:"UNHEALTHY",logsUrl:"/logs/realtime-logs"}]:[],...g?[{name:"Storage",error:null==T?void 0:T.error,docsUrl:void 0,isLoading:N,isHealthy:!!(null==T?void 0:T.healthy),status:null!=(l=null==T?void 0:T.status)?l:"UNHEALTHY",logsUrl:"/logs/storage-logs"}]:[],...h?[{name:"Edge Functions",error:void 0,docsUrl:"https://supabase.com/docs/guides/functions/troubleshooting",isLoading:N,isHealthy:!!(null==w?void 0:w.healthy),status:(null==w?void 0:w.healthy)?"ACTIVE_HEALTHY":N?"COMING_UP":"UNHEALTHY",logsUrl:"/logs/edge-functions-logs"}]:[],...j?[{name:"Migrations",error:void 0,docsUrl:void 0,isLoading:v,isHealthy:(null==_?void 0:_.status)==="FUNCTIONS_DEPLOYED",status:(null==_?void 0:_.status)==="FUNCTIONS_DEPLOYED"?"ACTIVE_HEALTHY":(null==_?void 0:_.status)==="FUNCTIONS_FAILED"||(null==_?void 0:_.status)==="MIGRATIONS_FAILED"?"UNHEALTHY":"COMING_UP",logsUrl:"/branches"}]:[]],P=v||(null==_?void 0:_.status)==="CREATING_PROJECT"||(null==_?void 0:_.status)==="RUNNING_MIGRATIONS",U=q.some(e=>e.isLoading),H=q.every(e=>e.isHealthy),O=5>n().utc().diff(n().utc(null==u?void 0:u.inserted_at),"minute")||(null==u?void 0:u.status)==="COMING_UP";return(0,o.useEffect)(()=>{let e;return O&&(e=setTimeout(()=>{A(),k()},1e3*(300-n().utc().diff(n().utc(null==u?void 0:u.inserted_at),"seconds")))),()=>{clearTimeout(e)}},[O]),(0,a.jsxs)(eT.AM,{modal:!1,open:m,onOpenChange:x,"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"ServiceStatus","data-sentry-source-file":"ServiceStatus.tsx",children:[(0,a.jsx)(eT.Wv,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"ServiceStatus.tsx",children:(0,a.jsxs)(I.$,{type:"default",icon:U||!H&&O&&P?(0,a.jsx)(ez,{}):(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(H?"bg-brand":"bg-warning")}),"data-sentry-element":"Button","data-sentry-source-file":"ServiceStatus.tsx",children:[j?"Branch":"Project"," Status"]})}),(0,a.jsxs)(eT.hl,{portal:!0,className:"p-0 w-56",side:"bottom",align:"center","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"ServiceStatus.tsx",children:[q.map(e=>(0,a.jsxs)(i(),{href:"/project/".concat(d).concat(e.logsUrl),className:"transition px-3 py-2 text-xs flex items-center justify-between border-b last:border-none group relative hover:bg-surface-300",children:[(0,a.jsxs)("div",{className:"flex gap-x-2",children:[(0,a.jsx)(eF,{isLoading:e.isLoading,isHealthy:!!e.isHealthy,isProjectNew:O,projectStatus:e.status}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{children:e.name}),(0,a.jsx)("p",{className:"text-foreground-light flex items-center gap-1",children:(0,a.jsx)(eM,{isLoading:e.isLoading,isHealthy:!!e.isHealthy,isProjectNew:O,status:e.status})})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-x-1 transition opacity-0 group-hover:opacity-100",children:[(0,a.jsx)("span",{className:"text-xs text-foreground",children:"View logs"}),(0,a.jsx)(eE.A,{size:14,className:"text-foreground"})]})]},e.name)),H?null:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eT.zT,{}),(0,a.jsxs)("div",{className:"flex gap-2 text-xs text-foreground-light px-3 py-2",children:[(0,a.jsx)("div",{className:"mt-0.5",children:(0,a.jsx)(eO.mo,{})}),"Recently restored projects can take up to 5 minutes to become fully operational."]})]})]})]})};var eV=s(78311),eG=s(44881),eK=s(33444),e$=s(77690),eX=s(36839),eJ=s(58298),eQ=s(74144),eZ=s(41336);let e0=()=>{var e,t;let{ref:s}=(0,c.g)(),{data:r}=(0,eJ.o)({projectRef:s},{enabled:eQ.pe}),{status:l,initiated_at:d,latest_status_at:u,error:m}=null!=(t=null==r?void 0:r.databaseUpgradeStatus)?t:{},x="supabase-upgrade-".concat(s,"-").concat(d),p=(null==(e=localStorage)?void 0:e.getItem(x))==="true",[h,f]=(0,o.useState)(!p),g=l===q.cS.Failed,j=n().utc(null!=d?d:0).tz(n().tz.guess()).format("DD MMM YYYY HH:mm:ss"),y="Upgrade information:%0A Initiated at: ".concat(d,"%0A Error: ").concat(m),v=encodeURIComponent(n().utc(null!=d?d:0).format("YYYY-MM-DDTHH:mm:ss")),_=encodeURIComponent(n().utc(null!=u?u:0).utcOffset(0).format("YYYY-MM-DDTHH:mm:ss")),b="its=".concat(v,"&ite=").concat(_),N=()=>{f(!1),localStorage.setItem(x,"true")};return g&&h?(0,a.jsx)("div",{className:"max-w-7xl","data-sentry-component":"ProjectUpgradeFailedBanner","data-sentry-source-file":"ProjectUpgradeFailedBanner.tsx",children:(0,a.jsxs)(eZ.F,{withIcon:!0,variant:"warning",title:"Postgres version upgrade was not successful (Initiated at ".concat(j,")"),actions:(0,a.jsxs)("div",{className:"flex items-center h-full space-x-4",children:[(0,a.jsx)(I.$,{asChild:!0,type:"default",children:(0,a.jsx)(i(),{href:"/support/new?category=Database_unresponsive&ref=".concat(s,"&subject=").concat("Upgrade%20failed%20for%20project","&message=").concat(y),target:"_blank",rel:"noreferrer",children:"Contact support"})}),(0,a.jsx)(I.$,{type:"text",className:"px-1",icon:(0,a.jsx)(eX.A,{size:16,strokeWidth:1.5}),onClick:()=>N()})]}),"data-sentry-element":"Alert","data-sentry-source-file":"ProjectUpgradeFailedBanner.tsx",children:[(0,a.jsx)("div",{children:"Your project and its data are not affected. Please reach out to us via our support form for assistance with the upgrade."}),(0,a.jsxs)("div",{children:["You may also view logs related to the failed upgrade in your"," ",(0,a.jsx)(eh.g,{href:"/project/".concat(s,"/logs/pg-upgrade-logs?").concat(b),"data-sentry-element":"InlineLink","data-sentry-source-file":"ProjectUpgradeFailedBanner.tsx",children:"project's logs"}),"."]})]})}):null};var e1=s(86011),e2=s(52280),e5=s(4107),e3=s(64112),e4=s(19335),e8=s(34531);let e6=()=>{var e,t,s,r;let{data:l}=(0,en.YA)(),{data:u}=(0,ej.s)(),{data:m}=(0,en.xd)(null==l?void 0:l.parent_project_ref),x=(0,en.W0)(),p=(0,e4.qM)(),{ref:h,enableBranching:f}=(0,c.g)(),{projectHomepageExampleProjects:g}=(0,e3.g)(["project_homepage:example_projects"]),{projectHomepageShowAllClientLibraries:j,projectHomepageShowInstanceSize:y,projectHomepageShowExamples:v}=(0,E.x)(["project_homepage:show_all_client_libraries","project_homepage:show_instance_size","project_homepage:show_examples"]),_=(0,o.useMemo)(()=>j?S.C:S.C.filter(e=>"JavaScript"===e.language),[j]),N=(0,o.useRef)(!1),C=(null==l?void 0:l.status)===eQ.BU.INACTIVE,R=n()(null==l?void 0:l.inserted_at).isAfter(n()().subtract(2,"day"));(0,o.useEffect)(()=>{f&&!N.current&&(N.current=!0,p.setShowCreateBranchModal(!0))},[f]);let{data:T,isLoading:I}=(0,e5.LW)({projectRef:null==l?void 0:l.ref,connectionString:null==l?void 0:l.connectionString,schema:"public"}),{data:L,isLoading:q}=(0,e1._)({projectRef:null==l?void 0:l.ref}),{data:P,isLoading:U}=(0,e2.Vh)({projectRef:null==l?void 0:l.ref}),{data:H}=(0,eI.A)({projectRef:null!=(e=null==l?void 0:l.parent_project_ref)?e:null==l?void 0:l.ref}),O=null==H?void 0:H.find(e=>e.is_default),M=null==H?void 0:H.find(e=>e.project_ref===(null==l?void 0:l.ref)),W=(null==M?void 0:M.name)===(null==O?void 0:O.name),z="Welcome to your project";M&&!W?z=null==M?void 0:M.name:(null==l?void 0:l.name)&&(z=null==l?void 0:l.name);let D=Math.max(0,null!=(t=null==T?void 0:T.length)?t:0),B=Math.max(0,null!=(s=null==L?void 0:L.length)?s:0),F=Math.max(0,(null!=(r=null==P?void 0:P.length)?r:1)-1);return(0,a.jsxs)("div",{className:"w-full px-4","data-sentry-component":"Home","data-sentry-source-file":"index.tsx",children:[(0,a.jsx)("div",{className:(0,Y.cn)("py-16 ",!C&&"border-b border-muted "),children:(0,a.jsxs)("div",{className:"mx-auto max-w-7xl flex flex-col gap-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center gap-6 justify-between w-full",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-end gap-3 w-full",children:[(0,a.jsxs)("div",{children:[!W&&(0,a.jsx)(i(),{href:"/project/".concat(null==m?void 0:m.ref),className:"text-sm text-foreground-light",children:null==m?void 0:m.name}),(0,a.jsx)("h1",{className:"text-3xl",children:z})]}),(0,a.jsxs)("div",{className:"flex items-center gap-x-2 mb-1",children:[x&&(0,a.jsxs)(ev.m_,{children:[(0,a.jsx)(ev.k$,{asChild:!0,children:(0,a.jsx)(e8.E,{variant:"warning",children:"OrioleDB"})}),(0,a.jsxs)(ev.ZI,{side:"bottom",align:"start",className:"max-w-80 text-center",children:["This project is using Postgres with OrioleDB which is currently in preview and not suitable for production workloads. View our"," ",(0,a.jsx)(eh.g,{href:"https://supabase.com/docs/guides/database/orioledb",children:"documentation"})," ","for all limitations."]})]}),y&&(0,a.jsx)(e$.K,{project:{ref:null==l?void 0:l.ref,organization_slug:null==u?void 0:u.slug,cloud_provider:null==l?void 0:l.cloud_provider,infra_compute_size:null==l?void 0:l.infra_compute_size}})]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(null==l?void 0:l.status)===eQ.BU.ACTIVE_HEALTHY&&(0,a.jsxs)("div",{className:"flex items-center gap-x-6",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,a.jsx)(i(),{href:"/project/".concat(h,"/editor"),className:"transition text-foreground-light hover:text-foreground text-sm",children:"Tables"}),I?(0,a.jsx)(A.A,{className:"w-full h-[32px] w-6 p-0"}):(0,a.jsx)("p",{className:"text-2xl tabular-nums",children:D})]}),eQ.pe&&(0,a.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,a.jsx)(i(),{href:"/project/".concat(h,"/functions"),className:"transition text-foreground-light hover:text-foreground text-sm",children:"Functions"}),q?(0,a.jsx)(A.A,{className:"w-full h-[32px] w-6 p-0"}):(0,a.jsx)("p",{className:"text-2xl tabular-nums",children:B})]}),eQ.pe&&(0,a.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,a.jsx)(i(),{href:"/project/".concat(h,"/settings/infrastructure"),className:"transition text-foreground-light hover:text-foreground text-sm",children:"Replicas"}),U?(0,a.jsx)(A.A,{className:"w-full h-[32px] w-6 p-0"}):(0,a.jsx)("p",{className:"text-2xl tabular-nums",children:F})]})]}),eQ.pe&&(null==l?void 0:l.status)===eQ.BU.ACTIVE_HEALTHY&&(0,a.jsx)("div",{className:"ml-6 border-l flex items-center w-[145px] justify-end",children:(0,a.jsx)(eY,{})})]})]}),(0,a.jsx)(e0,{"data-sentry-element":"ProjectUpgradeFailedBanner","data-sentry-source-file":"index.tsx"}),C&&(0,a.jsx)(eG.F,{})]})}),!C&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"py-16 border-b border-muted",children:(0,a.jsxs)("div",{className:"mx-auto max-w-7xl space-y-16",children:[eQ.pe&&(null==l?void 0:l.status)!==eQ.BU.INACTIVE&&(0,a.jsx)(a.Fragment,{children:R?(0,a.jsx)($,{}):(0,a.jsx)(ek,{})}),!R&&(null==l?void 0:l.status)!==eQ.BU.INACTIVE&&(0,a.jsx)(w,{})]})}),(0,a.jsx)("div",{className:"bg-surface-100/5 py-16",children:(0,a.jsx)("div",{className:"mx-auto max-w-7xl space-y-16",children:(null==l?void 0:l.status)!==eQ.BU.INACTIVE&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)("h2",{className:"text-lg",children:"Client libraries"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-x-8 gap-y-8 md:gap-12 mb-12 md:grid-cols-3",children:_.map(e=>(0,a.jsx)(d.A,{...e},e.language))})]}),v&&(0,a.jsxs)("div",{className:"flex flex-col gap-y-8",children:[(0,a.jsx)("h4",{className:"text-lg",children:"Example projects"}),g?(0,a.jsx)("div",{className:"grid gap-2 md:gap-8 md:grid-cols-2 lg:grid-cols-3",children:g.sort((e,t)=>e.title.localeCompare(t.title)).map(e=>(0,a.jsx)(k.C,{...e},e.url))}):(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsxs)(b.tU,{defaultValue:"app",className:"w-full",children:[(0,a.jsxs)(b.j7,{className:"flex gap-4 mb-8",children:[(0,a.jsx)(b.Xi,{value:"app",children:"App Frameworks"}),(0,a.jsx)(b.Xi,{value:"mobile",children:"Mobile Frameworks"})]}),(0,a.jsx)(b.av,{value:"app",children:(0,a.jsx)("div",{className:"grid gap-2 md:gap-8 md:grid-cols-2 lg:grid-cols-3",children:S.S.filter(e=>"app"===e.type).sort((e,t)=>e.title.localeCompare(t.title)).map(e=>(0,a.jsx)(k.C,{...e},e.url))})}),(0,a.jsx)(b.av,{value:"mobile",children:(0,a.jsx)("div",{className:"grid gap-2 md:gap-8 md:grid-cols-2 lg:grid-cols-3",children:S.S.filter(e=>"mobile"===e.type).sort((e,t)=>e.title.localeCompare(t.title)).map(e=>(0,a.jsx)(k.C,{...e},e.url))})})]})})]})]})})})]})]})};e6.getLayout=e=>(0,a.jsx)(eV.A,{children:(0,a.jsx)(eK.S,{children:e})});let e9=e6}},e=>{var t=t=>e(e.s=t);e.O(0,[89,2313,673,7494,726,5476,4915,7074,4560,2735,8444,6110,3895,1168,7795,9587,5348,5175,4654,3258,3923,3013,9147,3144,1830,4352,304,6416,8311,1041,5983,3444,636,6593,8792],()=>t(27034)),_N_E=e.O()}]);
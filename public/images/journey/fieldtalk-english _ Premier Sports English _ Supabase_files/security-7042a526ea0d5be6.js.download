try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="394c21a4-b74b-4b31-8fb3-423923c389f0",e._sentryDebugIdIdentifier="sentry-dbid-394c21a4-b74b-4b31-8fb3-423923c389f0")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6266,9340],{15987:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/advisors/security",function(){return s(89826)}])},89826:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var n=s(80263),i=s(53239),r=s(46491),l=s(28063),a=s(19722),d=s(63491),c=s(34878),u=s(22207),f=s(88550),o=s(88687),y=s(78311),b=s(21260),g=s(91675),L=s(16703),h=s(37656);let m=()=>{var e;let{preset:t,id:s}=(0,r.g)(),{data:o}=(0,L.YA)(),[y,m]=(0,i.useState)([{level:a.R.ERROR,filters:[]},{level:a.R.WARN,filters:[]},{level:a.R.INFO,filters:[]}]),[v,x]=(0,i.useState)(null!=t?t:a.R.ERROR),[p,_]=(0,i.useState)(null),{data:R,isLoading:j,isRefetching:w,refetch:T}=(0,g.b)({projectRef:null==o?void 0:o.ref}),A=(null!=R?R:[]).filter(e=>e.categories.includes("SECURITY")),E=(null==(e=y.find(e=>e.level===v))?void 0:e.filters)||[],N=A.filter(e=>e.level===v).filter(e=>E.length>0?E.includes(e.name):e),I=d.ah.filter(e=>A.some(t=>t.name===e.name&&t.level===v)).map(e=>({name:e.title,value:e.name}));return(0,i.useEffect)(()=>{var e;s&&_(null!=(e=A.find(e=>e.cache_key===s))?e:null)},[s,A]),(0,n.jsxs)("div",{className:"h-full flex flex-col","data-sentry-component":"ProjectLints","data-sentry-source-file":"security.tsx",children:[(0,n.jsx)(b.M,{className:"py-4 px-6 !mb-0",title:"Security Advisor",docsUrl:"https://supabase.com/docs/guides/database/database-linter","data-sentry-element":"FormHeader","data-sentry-source-file":"security.tsx"}),(0,n.jsx)(l.A,{activeLints:A,isLoading:j,currentTab:v,setCurrentTab:x,setSelectedLint:_,"data-sentry-element":"LintPageTabs","data-sentry-source-file":"security.tsx"}),(0,n.jsx)(u.A,{filterOptions:I,filteredLints:N,activeLints:A,currentTab:v,filters:y,isLoading:j||w,setFilters:m,onClickRefresh:T,"data-sentry-element":"LinterFilters","data-sentry-source-file":"security.tsx"}),(0,n.jsx)(h.$,{loading:w,"data-sentry-element":"LoadingLine","data-sentry-source-file":"security.tsx"}),(0,n.jsx)(c.A,{filteredLints:N,currentTab:v,selectedLint:p,setSelectedLint:_,isLoading:j,"data-sentry-element":"LinterDataGrid","data-sentry-source-file":"security.tsx"}),(0,n.jsx)(f.A,{hideDbInspectCTA:!0,isLoading:j,isRefetching:w,refetch:T,"data-sentry-element":"LinterPageFooter","data-sentry-source-file":"security.tsx"})]})};m.getLayout=e=>(0,n.jsx)(y.A,{children:(0,n.jsx)(o.A,{title:"Linter",children:e})});let v=m}},e=>{var t=t=>e(e.s=t);e.O(0,[89,2313,673,7494,726,5476,4915,7074,4560,2735,8444,6110,3895,1168,7795,9587,5348,5175,4654,3258,3923,3013,9147,3144,1830,4352,304,6416,8311,1041,5983,3444,9111,636,6593,8792],()=>t(15987)),_N_E=e.O()}]);
try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="4a8d69ca-e76c-4434-92b7-404570555f84",e._sentryDebugIdIdentifier="sentry-dbid-4a8d69ca-e76c-4434-92b7-404570555f84")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1562,6266],{107:(e,t,r)=>{var l=r(50117),a=r(94277),n=Object.prototype.hasOwnProperty;e.exports=a(function(e,t,r){n.call(e,r)?e[r].push(t):l(e,r,[t])})},1386:(e,t,r)=>{"use strict";r.d(t,{O:()=>i,h:()=>s});var l=r(80263),a=r(53239),n=r(80127);let s=(0,a.forwardRef)((e,t)=>(0,l.jsx)("nav",{ref:t,dir:"ltr",...e,className:(0,n.cn)("border-b",e.className),children:(0,l.jsx)("ul",{role:"menu",className:"flex gap-5",children:e.children})})),i=(0,a.forwardRef)((e,t)=>{let{children:r,className:a,active:s,...i}=e;return(0,l.jsx)("li",{ref:t,"aria-selected":s?"true":"false","data-state":s?"active":"inactive",className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap text-sm ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:text-foreground text-foreground-lighter hover:text-foreground data-[state=active]:border-foreground border-b-2 border-transparent *:py-1.5",a),...i,children:r})})},8841:(e,t,r)=>{"use strict";r.d(t,{KQ:()=>o});var l=r(56947),a=r(70938),n=r(73591);let s=["Owner","Administrator","Developer","Read-only"];async function i(e,t){let{slug:r}=e;if(!r)throw Error("slug is required");let{data:l,error:n}=await (0,a.Jt)("/platform/organizations/{slug}/roles",{params:{path:{slug:r}},signal:t});return n&&(0,a.H4)(n),l}let o=function(e){let{slug:t}=e,{enabled:r=!0,...a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,l.I)(n.O.rolesV2(t),e=>{let{signal:r}=e;return i({slug:t},r)},{enabled:r&&void 0!==t,select:e=>({...e,org_scoped_roles:e.org_scoped_roles.sort((e,t)=>s.indexOf(e.name)-s.indexOf(t.name))}),...a})}},9267:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/org/[slug]/team",function(){return r(63085)}])},10166:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let l=(0,r(81915).A)("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]])},10540:(e,t,r)=>{"use strict";r.d(t,{A:()=>m});var l=r(80263),a=r(10166),n=r(51968),s=r(63121),i=r(93749),o=r.n(i),d=r(53239),c=r(22554);let u=(0,d.forwardRef)((e,t)=>{let{icon:r,title:i,description:u,url:m,urlLabel:f="Read more",defaultVisibility:x=!1,hideCollapse:p=!1,button:h,className:g="",block:v=!1}=e,[y,j]=(0,d.useState)(x);return(0,l.jsx)("div",{ref:t,role:"alert",className:"".concat(v?"block w-full":"","\n      block w-full rounded-md border bg-surface-300/25 py-3 ").concat(g),children:(0,l.jsxs)("div",{className:"flex flex-col px-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex w-full space-x-3 items-center",children:[r&&(0,l.jsx)("span",{className:"text-foreground-lighter",children:r}),(0,l.jsx)("div",{className:"flex-grow",children:(0,l.jsx)("h5",{className:"text-foreground",children:i})})]}),u&&!p?(0,l.jsx)("div",{className:"cursor-pointer text-foreground-lighter",onClick:()=>j(!y),children:y?(0,l.jsx)(a.A,{size:14,strokeWidth:1.5}):(0,l.jsx)(n.A,{size:14,strokeWidth:1.5})}):null]}),(u||m||h)&&(0,l.jsxs)("div",{className:"flex flex-col space-y-3 overflow-hidden transition-all ".concat(y?"mt-3":""),style:{maxHeight:500*!!y},children:[(0,l.jsx)("div",{className:"text-foreground-light text-sm",children:u}),m&&(0,l.jsx)("div",{children:(0,l.jsx)(c.$,{asChild:!0,type:"default",icon:(0,l.jsx)(s.A,{}),children:(0,l.jsx)(o(),{href:m,target:"_blank",rel:"noreferrer",children:f})})}),h&&(0,l.jsx)("div",{children:h})]})]})})});u.displayName="InformationBox";let m=u},11094:(e,t,r)=>{"use strict";r.d(t,{A0:()=>i,BF:()=>o,Gg:()=>d,Hj:()=>c,XI:()=>s,nA:()=>m,nd:()=>u,r6:()=>f});var l=r(80263),a=r(53239),n=r(80127);let s=a.forwardRef((e,t)=>{let{className:r,containerProps:a,...s}=e;return(0,l.jsx)("div",{className:(0,n.cn)("w-full overflow-auto"),...a,children:(0,l.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",r),...s})})});s.displayName="Table";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b [&>tr]:bg-200",r),...a})});i.displayName="TableHeader";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",r),...a})});o.displayName="TableBody";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("tfoot",{ref:t,className:(0,n.cn)("bg-primary font-medium text-primary-foreground",r),...a})});d.displayName="TableFooter";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("tr",{ref:t,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...a})});c.displayName="TableRow";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("th",{ref:t,className:(0,n.cn)("h-10 px-4 text-left align-middle heading-meta text-foreground-lighter [&:has([role=checkbox])]:pr-0",r),...a})});u.displayName="TableHead";let m=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("td",{ref:t,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...a})});m.displayName="TableCell";let f=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("caption",{ref:t,className:(0,n.cn)("mt-4 text-sm text-foreground-muted",r),...a})});f.displayName="TableCaption"},17085:(e,t,r)=>{"use strict";r.d(t,{H:()=>s,w:()=>n});var l=r(87494),a=function(e,t,r){if(e&&"reportValidity"in e){var a=(0,l.Jt)(r,t);e.setCustomValidity(a&&a.message||""),e.reportValidity()}},n=function(e,t){var r=function(r){var l=t.fields[r];l&&l.ref&&"reportValidity"in l.ref?a(l.ref,r,e):l.refs&&l.refs.forEach(function(t){return a(t,r,e)})};for(var l in t.fields)r(l)},s=function(e,t){t.shouldUseNativeValidation&&n(e,t);var r={};for(var a in e){var s=(0,l.Jt)(t.fields,a),d=Object.assign(e[a]||{},{ref:s&&s.ref});if(o(t.names||Object.keys(e),a)){var c=Object.assign({},i((0,l.Jt)(r,a)));(0,l.hZ)(c,"root",d),(0,l.hZ)(r,a,c)}else(0,l.hZ)(r,a,d)}return r},i=function(e){return Array.isArray(e)?e.filter(Boolean):[]},o=function(e,t){return e.some(function(e){return e.startsWith(t+".")})}},26858:(e,t,r)=>{"use strict";r.d(t,{Q:()=>i});var l=r(56947),a=r(70938),n=r(6042);async function s(e,t){let{slug:r}=e;if(!r)throw Error("slug is required");let[l,n]=await Promise.all([(0,a.Jt)("/platform/organizations/{slug}/members",{params:{path:{slug:r}},signal:t}),(0,a.Jt)("/platform/organizations/{slug}/members/invitations",{params:{path:{slug:r}},signal:t})]),{data:s,error:i}=l,{data:o,error:d}=n;return i&&(0,a.H4)(i),d&&(0,a.H4)(d),[...s,...o.invitations.map(e=>({...{invited_at:e.invited_at,invited_id:e.id,mfa_enabled:!1,username:e.invited_email.slice(0,1),primary_email:e.invited_email},role_ids:[e.role_id]}))]}let i=function(e){let{slug:t}=e,{enabled:r=!0,...a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,l.I)(n.O.members(t),e=>{let{signal:r}=e;return s({slug:t},r)},{enabled:r&&void 0!==t,...a})}},29503:(e,t,r)=>{"use strict";r.d(t,{p:()=>m});var l=r(80263),a=r(50960),n=r(53239),s=r(70979),i=r(80127),o=r(20838),d=r(22554),c=r(92413);function u(e){let{icon:t,className:r}=e;return(0,l.jsx)("div",{className:(0,i.cn)("absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-foreground-light",r),"data-sentry-component":"InputIconContainer","data-sentry-source-file":"InputIconContainer.tsx",children:t})}let m=(0,n.forwardRef)((e,t)=>{let{copy:r,showCopyOnHover:m=!1,icon:f,reveal:x=!1,actions:p,onCopy:h,iconContainerClassName:g,containerClassName:v,...y}=e,[j,b]=(0,n.useState)("Copy"),[w,N]=(0,n.useState)(!0),_=(0,c.A)("input"),S=[];return f&&S.push(_.with_icon),(0,l.jsxs)("div",{className:(0,i.cn)("relative group",v),children:[(0,l.jsx)(o.p,{ref:t,...y,onCopy:h,value:x&&w?"**** **** **** ****":y.value,className:(0,i.cn)(...S,y.className)}),f&&(0,l.jsx)(u,{icon:f,className:g}),r||p?(0,l.jsxs)("div",{className:_.actions_container,children:[r&&!(x&&w)?(0,l.jsx)(d.$,{size:"tiny",type:"default",className:(0,i.cn)(m&&"opacity-0 group-hover:opacity-100 transition"),icon:(0,l.jsx)(a.A,{size:16,className:"text-foreground-muted"}),onClick:()=>{var e;return e=y.value,void(0,s.l)(e,()=>{b("Copied"),setTimeout(function(){b("Copy")},3e3),null==h||h()})},children:j}):null,x&&w?(0,l.jsx)(d.$,{size:"tiny",type:"default",onClick:function(){N(!1)},children:"Reveal"}):null,p&&p]}):null]})})},29562:(e,t,r)=>{"use strict";r.d(t,{H:()=>j});var l=r(80263),a=r(79279),n=r(37055),s=r(53239),i=r(80127),o=r(20704),d=r(77376),c=r(94198);let u=(0,a.F)("relative grid gap-10",{variants:{size:{tiny:"text-xs",small:"text-sm leading-4",medium:"text-sm",large:"text-base",xlarge:"text-base"},align:{left:"",right:""},responsive:{true:"",false:""},layout:{horizontal:"flex flex-col gap-2 md:grid md:grid-cols-12",vertical:"flex flex-col gap-2",flex:"flex flex-row gap-3","flex-row-reverse":"flex flex-row gap-6 flex-row-reverse justify-between"},flex:{true:"",false:""}},compoundVariants:[{layout:"flex",align:"right",className:"justify-between"},{layout:"flex-row-reverse",align:"right",className:"justify-between"}],defaultVariants:{}}),m=(0,a.F)("transition-all duration-500 ease-in-out",{variants:{flex:{true:"",false:""},align:{left:"",right:""},layout:{horizontal:"flex flex-col gap-2 col-span-4",vertical:"flex flex-row gap-2 justify-between",flex:"flex flex-col gap-0","flex-row-reverse":"flex flex-col"},labelLayout:{horizontal:"",vertical:"","":""}},compoundVariants:[{flex:!0,align:"left",className:"order-2"},{flex:!0,align:"right",className:"order-1"},{layout:["vertical","flex"],labelLayout:void 0,flex:!1,className:"flex flex-row gap-2 justify-between"},{layout:"horizontal",className:"flex flex-col gap-2"}],defaultVariants:{}}),f=(0,a.F)("transition-all duration-500 ease-in-out",{variants:{flex:{true:"",false:""},align:{left:"order-1",right:"order-2"},layout:{horizontal:"",vertical:"",flex:"","flex-row-reverse":""}},compoundVariants:[{flex:!0,align:"left",className:"order-1"},{flex:!0,align:"right",className:"order-2"},{layout:["vertical","flex"],className:"col-span-12"},{layout:"horizontal",align:"left",className:"col-span-8"},{layout:"horizontal",align:"right",className:"text-right"}],defaultVariants:{}}),x=(0,a.F)("text-foreground-lighter leading-normal",{variants:{size:{...c.SK.text},layout:{vertical:"mt-2",horizontal:"mt-2",flex:"","flex-row-reverse":""}},defaultVariants:{}}),p=(0,a.F)("text-foreground-muted",{variants:{size:{...c.SK.text}},defaultVariants:{}}),h=(0,a.F)("text-foreground-muted",{variants:{size:{...c.SK.text}},defaultVariants:{}}),g=(0,a.F)("text-foreground-muted",{variants:{size:{...c.SK.text}},defaultVariants:{}}),v=(0,a.F)("",{variants:{flex:{true:"",false:""},align:{left:"",right:""},layout:{horizontal:"",vertical:"",flex:"","flex-row-reverse":""}},compoundVariants:[{flex:!0,align:"left",className:""},{flex:!0,align:"right",className:"order-last"},{layout:"flex-row-reverse",className:"flex flex-col justify-center items-end shrink-0"}]}),y=(0,a.F)("",{variants:{nonBoxInput:{true:"",false:""},label:{true:"",false:""},layout:{vertical:"",horizontal:"","flex-row-reverse":""}},compoundVariants:[{nonBoxInput:!0,label:!0,layout:"vertical",className:"my-3"},{nonBoxInput:!0,label:!0,layout:"horizontal",className:"my-3 md:mt-0 mb-3"}],defaultVariants:{}}),j=s.forwardRef((e,t)=>{let{align:r="left",className:a,description:s,id:c,label:j,labelOptional:b,layout:w="vertical",style:N,labelLayout:_,size:S="medium",beforeLabel:R,afterLabel:C,nonBoxInput:A=!j,hideMessage:I=!1,isReactForm:k,...z}=e,E="flex"===w||"flex-row-reverse"===w,T=!!(j||R||C),M=k&&!I&&(0,l.jsx)(n.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3,ease:"easeInOut"},className:(0,i.cn)("flex-row-reverse"===w?"mt-0":"mt-2"),children:(0,l.jsx)(o.C5,{className:(0,i.cn)("mt-2 transition-opacity duration-300 ease-in-out","flex-row-reverse"===w&&"mt-0"),"data-formlayout-id":"message"})}),L=s&&k?(0,l.jsx)(o.Rr,{className:(0,i.cn)(x({size:S,layout:w})),"data-formlayout-id":"description",id:"".concat(c,"-description"),children:s}):s?(0,l.jsx)("p",{className:(0,i.cn)(x({size:S,layout:w}),"text-sm text-foreground-light"),"data-formlayout-id":"description",children:s}):null,O=()=>(0,l.jsxs)(l.Fragment,{children:[R&&(0,l.jsx)("span",{className:(0,i.cn)(p({size:S})),id:c+"-before","data-formlayout-id":"beforeLabel",children:(0,l.jsx)("span",{children:R})}),(0,l.jsx)("span",{children:j}),C&&(0,l.jsx)("span",{className:(0,i.cn)(h({size:S})),id:c+"-after","data-formlayout-id":"afterLabel",children:C})]});return(0,l.jsxs)("div",{ref:t,...z,className:(0,i.cn)(u({size:S,flex:E,align:r,layout:w}),a),children:[E&&(0,l.jsxs)("div",{className:(0,i.cn)(v({flex:E,align:r,layout:w})),children:[z.children,"flex-row-reverse"===w&&M]}),T||b||"horizontal"===w?(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:(0,i.cn)(m({align:r,labelLayout:_,flex:E,layout:w})),"data-formlayout-id":"labelContainer",children:[T&&k?(0,l.jsx)(o.lR,{className:"text-foreground flex gap-2 items-center break-all","data-formlayout-id":"formLabel",htmlFor:z.name||c,children:(0,l.jsx)(O,{})}):(0,l.jsx)(d.J,{className:"text-foreground flex gap-2 items-center break-all leading-normal","data-formlayout-id":"label",htmlFor:z.name||c,children:(0,l.jsx)(O,{})}),b&&(0,l.jsx)("span",{className:(0,i.cn)(g({size:S})),id:c+"-optional","data-formlayout-id":"labelOptional",children:b}),E&&(0,l.jsxs)(l.Fragment,{children:[L,"flex-row-reverse"!==w&&M]})]})}):null,!E&&(0,l.jsx)("div",{className:(0,i.cn)(f({align:r,layout:w})),style:N,"data-formlayout-id":"dataContainer",children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:(0,i.cn)(y({nonBoxInput:A,label:j,layout:w})),"data-formlayout-id":"nonBoxInputContainer",children:z.children}),M,L]})})]})})},32513:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let l=(0,r(81915).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},32615:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let l=(0,r(81915).A)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},32981:(e,t,r)=>{"use strict";r.d(t,{u:()=>s});var l=r(87494),a=r(17085),n=function(e,t){for(var r={};e.length;){var a=e[0],n=a.code,s=a.message,i=a.path.join(".");if(!r[i])if("unionErrors"in a){var o=a.unionErrors[0].errors[0];r[i]={message:o.message,type:o.code}}else r[i]={message:s,type:n};if("unionErrors"in a&&a.unionErrors.forEach(function(t){return t.errors.forEach(function(t){return e.push(t)})}),t){var d=r[i].types,c=d&&d[a.code];r[i]=(0,l.Gb)(i,t,r,n,c?[].concat(c,a.message):a.message)}e.shift()}return r},s=function(e,t,r){return void 0===r&&(r={}),function(l,s,i){try{return Promise.resolve(function(n,s){try{var o=Promise.resolve(e["sync"===r.mode?"parse":"parseAsync"](l,t)).then(function(e){return i.shouldUseNativeValidation&&(0,a.w)({},i),{errors:{},values:r.raw?l:e}})}catch(e){return s(e)}return o&&o.then?o.then(void 0,s):o}(0,function(e){if(null!=e.errors)return{values:{},errors:(0,a.H)(n(e.errors,!i.shouldUseNativeValidation&&"all"===i.criteriaMode),i)};throw e}))}catch(e){return Promise.reject(e)}}}},36152:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>s,aR:()=>i,wL:()=>u});var l=r(80263),a=r(53239),n=r(80127);let s=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("div",{ref:t,className:(0,n.cn)("overflow-hidden rounded-lg border bg-surface-100 text-card-foreground shadow-sm",r),...a})});s.displayName="Card";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 py-4 px-6 border-b",r),...a})});i.displayName="CardHeader";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("h3",{ref:t,className:(0,n.cn)("text-xs font-mono uppercase",r),...a})});o.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-foreground-muted",r),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("div",{ref:t,className:(0,n.cn)("py-4 px-6 border-b last:border-none",r),...a})});c.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("div",{ref:t,className:(0,n.cn)(" flex items-center py-4 px-6",r),...a})});u.displayName="CardFooter"},40461:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var l=r(80263),a=r(93749),n=r.n(a),s=r(46491),i=r(67908);let o=()=>{let e=(0,i.useRouter)();return e.isReady?e.asPath.split("?")[0]:""};var d=r(1386),c=r(95142);let u=function(e){let{children:t}=e,{slug:r}=(0,s.g)(),[a]=o().split("#");return a==="/org/".concat(r,"/team")||a==="/org/".concat(r,"/integrations")||a==="/org/".concat(r,"/usage")||a==="/org/".concat(r,"/billing")?t:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(c.Vw,{className:"mb-0","data-sentry-element":"ScaffoldContainerLegacy","data-sentry-source-file":"OrganizationSettingsLayout.tsx",children:[(0,l.jsx)(c.Dm,{"data-sentry-element":"ScaffoldTitle","data-sentry-source-file":"OrganizationSettingsLayout.tsx",children:"Organization Settings"}),(0,l.jsx)(d.h,{className:"overflow-x-auto","aria-label":"Organization menu navigation","data-sentry-element":"NavMenu","data-sentry-source-file":"OrganizationSettingsLayout.tsx",children:[{label:"General",href:"/org/".concat(r,"/general")},{label:"Security",href:"/org/".concat(r,"/security")},{label:"OAuth Apps",href:"/org/".concat(r,"/apps")},{label:"SSO",href:"/org/".concat(r,"/sso")},{label:"Audit Logs",href:"/org/".concat(r,"/audit")},{label:"Legal Documents",href:"/org/".concat(r,"/documents")}].filter(Boolean).map(e=>(0,l.jsx)(d.O,{active:a===e.href,children:(0,l.jsx)(n(),{href:e.href,children:e.label})},e.label))})]}),(0,l.jsx)("main",{className:"h-full w-full overflow-y-auto",children:t})]})}},44893:(e,t,r)=>{"use strict";r.d(t,{bL:()=>b,zi:()=>w});var l=r(54993),a=r(53239),n=r(91968),s=r(63774),i=r(68436),o=r(87990),d=r(15630),c=r(67041),u=r(70297);let m="Switch",[f,x]=(0,i.A)(m),[p,h]=f(m),g=(0,a.forwardRef)((e,t)=>{let{__scopeSwitch:r,name:i,checked:d,defaultChecked:c,required:m,disabled:f,value:x="on",onCheckedChange:h,...g}=e,[v,b]=(0,a.useState)(null),w=(0,s.s)(t,e=>b(e)),N=(0,a.useRef)(!1),_=!v||!!v.closest("form"),[S=!1,R]=(0,o.i)({prop:d,defaultProp:c,onChange:h});return(0,a.createElement)(p,{scope:r,checked:S,disabled:f},(0,a.createElement)(u.sG.button,(0,l.A)({type:"button",role:"switch","aria-checked":S,"aria-required":m,"data-state":j(S),"data-disabled":f?"":void 0,disabled:f,value:x},g,{ref:w,onClick:(0,n.m)(e.onClick,e=>{R(e=>!e),_&&(N.current=e.isPropagationStopped(),N.current||e.stopPropagation())})})),_&&(0,a.createElement)(y,{control:v,bubbles:!N.current,name:i,value:x,checked:S,required:m,disabled:f,style:{transform:"translateX(-100%)"}}))}),v=(0,a.forwardRef)((e,t)=>{let{__scopeSwitch:r,...n}=e,s=h("SwitchThumb",r);return(0,a.createElement)(u.sG.span,(0,l.A)({"data-state":j(s.checked),"data-disabled":s.disabled?"":void 0},n,{ref:t}))}),y=e=>{let{control:t,checked:r,bubbles:n=!0,...s}=e,i=(0,a.useRef)(null),o=(0,d.Z)(r),u=(0,c.X)(t);return(0,a.useEffect)(()=>{let e=i.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==r&&t){let l=new Event("click",{bubbles:n});t.call(e,r),e.dispatchEvent(l)}},[o,r,n]),(0,a.createElement)("input",(0,l.A)({type:"checkbox","aria-hidden":!0,defaultChecked:r},s,{tabIndex:-1,ref:i,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function j(e){return e?"checked":"unchecked"}let b=g,w=v},48095:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let l=(0,r(81915).A)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},51502:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let l=(0,r(81915).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},51968:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let l=(0,r(81915).A)("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]])},56885:(e,t,r)=>{"use strict";r.d(t,{cC:()=>c,j5:()=>d});var l=r(60045),a=r(56947),n=r(70938),s=r(75831),i=r(79360);async function o(e,t){let{orgSlug:r}=e;if(!r)throw Error("orgSlug is required");let{error:l,data:a}=await (0,n.Jt)("/platform/organizations/{slug}/billing/subscription",{params:{path:{slug:r}},signal:t});return l&&(0,n.H4)(l),a}let d=function(e){let{orgSlug:t}=e,{enabled:r=!0,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=(0,s.SE)(l.aG.BILLING_READ,"stripe.subscriptions");return(0,a.I)(i.s.orgSubscription(t),e=>{let{signal:r}=e;return o({orgSlug:t},r)},{enabled:r&&d&&void 0!==t,staleTime:36e5,...n})},c=e=>{let{data:t}=d({orgSlug:e});return(null==t?void 0:t.plan.id)==="enterprise"||(null==t?void 0:t.plan.id)==="team"}},57374:(e,t,r)=>{"use strict";r.d(t,{M:()=>i});var l=r(80263),a=r(53239),n=r(20704),s=r(29562);let i=(0,a.forwardRef)((e,t)=>{let{...r}=e;return(0,l.jsx)(n.eI,{children:(0,l.jsx)(s.H,{ref:t,isReactForm:!0,...r,children:r.children})})});i.displayName="FormItemLayout"},60123:(e,t,r)=>{"use strict";r.d(t,{x:()=>o});var l=r(80263),a=r(53239),n=r(35741),s=r(64495),i=r(80127);let o=(0,a.forwardRef)((e,t)=>{let{...r}=e;return(0,l.jsxs)(n.m_,{children:[(0,l.jsx)(n.k$,{asChild:!0,children:(0,l.jsx)(s._2,{ref:t,...r,className:(0,i.cn)(r.className,"!pointer-events-auto"),onClick:e=>{!r.disabled&&r.onClick&&r.onClick(e)},children:r.children})}),r.disabled&&void 0!==r.tooltip.content.text&&(0,l.jsx)(n.ZI,{...r.tooltip.content,children:r.tooltip.content.text})]})});o.displayName="DropdownMenuItemTooltip"},63085:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>e6});var l=r(80263),a=r(27969),n=r(53239),s=r(95142),i=r(86252),o=r(29503),d=r(32981),c=r(60045),u=r(42872),m=r(24699),f=r(93749),x=r.n(f),p=r(87494),h=r(73969),g=r(10663),v=r(46491),y=r(84558),j=r(10540),b=r(32144),w=r(80251),N=r(70938),_=r(6042),S=r(73591);async function R(e){let{slug:t,email:r,roleId:l,projects:a}=e,n={email:r,role_id:l};void 0!==a&&(n.role_scoped_projects=a);let{data:s,error:i}=await (0,N.bE)("/platform/organizations/{slug}/members/invitations",{params:{path:{slug:t}},body:n});return i&&(0,N.H4)(i),s}let C=function(){let{onSuccess:e,onError:t,...r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=(0,b.jE)();return(0,w.n)(e=>R(e),{async onSuccess(t,r,a){let{slug:n}=r;await Promise.all([l.invalidateQueries(S.O.rolesV2(n)),l.invalidateQueries(_.O.members(n))]),await (null==e?void 0:e(t,r,a))},async onError(e,r,l){void 0===t?h.oR.error("Failed to update member role: ".concat(e.message)):t(e,r,l)},...r})};var A=r(8841),I=r(26858),k=r(61789),z=r(56885),E=r(75831),T=r(64084),M=r(52445),L=r(67285),O=r(19506),F=r(20704),B=r(75118),V=r(59130),D=r(51509),P=r(22554),H=r(30569),U=r(50033),q=r(80127),Q=r(20838),G=r(57374);let K=(e,t,r)=>{let{permissions:l,organizationSlug:a}=(0,E.GU)(r,e,void 0!==r&&void 0!==e),n=[],s=[];return t&&e&&t.forEach(e=>{(0,E.IT)(l,c.aG.CREATE,"auth.subject_roles",{resource:{role_id:e.id}},a)&&n.push(e.id),(0,E.IT)(l,c.aG.DELETE,"auth.subject_roles",{resource:{role_id:e.id}},a)&&s.push(e.id)}),{rolesAddable:n,rolesRemovable:s}},$=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.filter(e=>{var r;let[l]=null!=(r=e.role_ids)?r:[],a=t.find(e=>e.id===l);return(null==a?void 0:a.name)==="Owner"&&!e.invited_at}).length>1},J=()=>{var e,t;let{slug:r}=(0,v.g)(),{profile:a}=(0,L.xc)(),{data:s}=(0,M.s)(),{permissions:i}=(0,E.GU)(),{organizationMembersCreate:o}=(0,T.x)(["organization_members:create"]),[f,b]=(0,n.useState)(!1),[w,N]=(0,n.useState)(!1),{data:_}=(0,k.el)(),{data:S}=(0,I.Q)({slug:r}),{data:R,isSuccess:$}=(0,A.KQ)({slug:r}),J=null!=(e=null==R?void 0:R.org_scoped_roles)?e:[],W=(null!=_?_:[]).filter(e=>e.organization_id===(null==s?void 0:s.id)).sort((e,t)=>e.name.localeCompare(t.name)),X=null==s?void 0:s.plan,Z=(0,z.cC)(r),Y=null==S?void 0:S.find(e=>e.gotrue_id===(null==a?void 0:a.gotrue_id)),ee=1===(null!=(t=null==Y?void 0:Y.role_ids)?t:[]).length&&J.some(e=>e.id===(null==Y?void 0:Y.role_ids[0])),{rolesAddable:et}=K(null==s?void 0:s.slug,J,null!=i?i:[]),er=ee&&et.length>0&&J.some(e=>{let{id:t}=e;return(0,E.IT)(i,c.aG.CREATE,"user_invites",{resource:{role_id:t}},null==s?void 0:s.slug)}),{mutate:el,isLoading:ea}=C(),en=g.Ik({email:g.Yj().email("Must be a valid email address").min(1,"Email is required"),role:g.Yj().min(1,"Role is required"),applyToOrg:g.zM(),projectRef:g.Yj()}),es=(0,p.mN)({mode:"onBlur",reValidateMode:"onBlur",resolver:(0,d.u)(en),defaultValues:{email:"",role:"",applyToOrg:!0,projectRef:""}}),{applyToOrg:ei}=es.watch(),eo=async e=>{if(!r)return console.error("Slug is required");if((null==a?void 0:a.id)===void 0)return console.error("Profile ID required");let t=J.find(e=>"Developer"===e.name),l=(null!=S?S:[]).find(t=>t.primary_email===e.email.toLowerCase());if(void 0!==l)if(l.invited_id)return(0,h.oR)("User has already been invited to this organization");else return(0,h.oR)("User is already in this organization");el({slug:r,email:e.email.toLowerCase(),roleId:Number(e.role),...!e.applyToOrg&&e.projectRef?{projects:[e.projectRef]}:{}},{onSuccess:()=>{var e;h.oR.success("Successfully sent invitation to new member"),b(!f),es.reset({email:"",role:null!=(e=null==t?void 0:t.id.toString())?e:"",applyToOrg:!0,projectRef:""})}})};return(0,n.useEffect)(()=>{if($&&f){let e=J.find(e=>"Developer"===e.name);void 0!==e&&es.setValue("role",e.id.toString())}},[$,f]),(0,n.useEffect)(()=>{if(ei)es.setValue("projectRef","");else{let e=null==W?void 0:W[0];void 0!==e&&es.setValue("projectRef",e.ref)}},[ei]),(0,l.jsxs)(O.lG,{open:f,onOpenChange:b,"data-sentry-element":"Dialog","data-sentry-component":"InviteMemberButton","data-sentry-source-file":"InviteMemberButton.tsx",children:[(0,l.jsx)(O.zM,{asChild:!0,"data-sentry-element":"DialogTrigger","data-sentry-source-file":"InviteMemberButton.tsx",children:(0,l.jsx)(y.G,{type:"primary",disabled:!er,className:"pointer-events-auto flex-grow md:flex-grow-0",onClick:()=>b(!0),tooltip:{content:{side:"bottom",text:o?er?void 0:"You need additional permissions to invite a member to this organization":"Inviting members is currently disabled"}},"data-sentry-element":"ButtonTooltip","data-sentry-source-file":"InviteMemberButton.tsx",children:"Invite member"})}),(0,l.jsxs)(O.Cf,{size:"medium","data-sentry-element":"DialogContent","data-sentry-source-file":"InviteMemberButton.tsx",children:[(0,l.jsx)(O.c7,{"data-sentry-element":"DialogHeader","data-sentry-source-file":"InviteMemberButton.tsx",children:(0,l.jsx)(O.L3,{"data-sentry-element":"DialogTitle","data-sentry-source-file":"InviteMemberButton.tsx",children:"Invite a member to this organization"})}),(0,l.jsx)(O.pf,{"data-sentry-element":"DialogSectionSeparator","data-sentry-source-file":"InviteMemberButton.tsx"}),(0,l.jsx)(F.lV,{...es,"data-sentry-element":"Form_Shadcn_","data-sentry-source-file":"InviteMemberButton.tsx",children:(0,l.jsxs)("form",{id:"organization-invitation",className:"flex flex-col gap-y-4",onSubmit:es.handleSubmit(eo),children:[(0,l.jsxs)(O.OO,{className:"flex flex-col gap-y-4 pb-2","data-sentry-element":"DialogSection","data-sentry-source-file":"InviteMemberButton.tsx",children:[Z&&(0,l.jsx)(F.zB,{name:"applyToOrg",control:es.control,render:e=>{let{field:t}=e;return(0,l.jsx)(G.M,{layout:"flex",label:"Apply role to all projects in the organization",children:(0,l.jsx)(F.MJ,{children:(0,l.jsx)(B.d,{checked:t.value,onCheckedChange:e=>es.setValue("applyToOrg",e)})})})}}),(0,l.jsx)(F.zB,{name:"role",control:es.control,render:e=>{var t,r;let{field:a}=e;return(0,l.jsx)(G.M,{label:"Member role",children:(0,l.jsx)(F.MJ,{children:(0,l.jsxs)(V.l6,{value:a.value,onValueChange:e=>es.setValue("role",e),children:[(0,l.jsx)(V.bq,{className:"text-sm capitalize",children:null!=(r=null==(t=J.find(e=>e.id===Number(a.value)))?void 0:t.name)?r:"Unknown"}),(0,l.jsx)(V.gC,{children:(0,l.jsx)(V.s3,{children:J.map(e=>{let t=et.includes(e.id);return(0,l.jsxs)(V.eb,{value:e.id.toString(),className:"text-sm [&>span:nth-child(2)]:w-full [&>span:nth-child(2)]:flex [&>span:nth-child(2)]:items-center [&>span:nth-child(2)]:justify-between",disabled:!t,children:[(0,l.jsx)("span",{children:e.name}),!t&&(0,l.jsx)("span",{children:"Additional permissions required to assign role"})]},e.id)})})})]})})})},"data-sentry-element":"FormField_Shadcn_","data-sentry-source-file":"InviteMemberButton.tsx"}),!ei&&(0,l.jsx)(F.zB,{name:"projectRef",control:es.control,render:e=>{var t,r;let{field:a}=e;return(0,l.jsx)(G.M,{label:"Select a project",description:"You can assign roles to multiple projects once the invite is accepted",children:(0,l.jsx)(F.MJ,{children:(0,l.jsxs)(D.AM,{open:w,onOpenChange:N,children:[(0,l.jsx)(D.Wv,{asChild:!0,children:(0,l.jsx)(P.$,{block:!0,type:"default",role:"combobox",size:"small",className:"justify-between max-w-[470px]",iconRight:(0,l.jsx)(u.A,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"}),children:null!=(r=null==(t=W.find(e=>e.ref===a.value))?void 0:t.name)?r:"Unknown"})}),(0,l.jsx)(D.hl,{sameWidthAsTrigger:!0,className:"p-0",children:(0,l.jsxs)(H.uB,{filter:(e,t)=>{let r=W.find(t=>t.ref===e),l=null==r?void 0:r.name.toLowerCase();return void 0!==l&&l.includes(t.toLowerCase())?1:+!!e.includes(t)},children:[(0,l.jsx)(H.G7,{placeholder:"Search project..."}),(0,l.jsxs)(H.oI,{children:[(0,l.jsx)(H.xL,{children:"No projects found..."}),(0,l.jsx)(H.L$,{children:(0,l.jsx)(U.FK,{className:(0,q.cn)((W||[]).length>7&&"max-h-[210px] overflow-y-auto"),children:W.map(e=>(0,l.jsxs)(H.h_,{value:e.ref,onSelect:e=>{es.setValue("projectRef",e),N(!1)},children:[(0,l.jsx)(m.A,{className:(0,q.cn)("mr-2 h-4 w-4",a.value===e.ref?"opacity-100":"opacity-0")}),e.name]},e.ref))})})]})]})})]})})})}}),(0,l.jsx)(F.zB,{name:"email",control:es.control,render:e=>{let{field:t}=e;return(0,l.jsx)(G.M,{label:"Email address",children:(0,l.jsx)(F.MJ,{children:(0,l.jsx)(Q.p,{autoFocus:!0,...t,autoComplete:"off",disabled:ea,placeholder:"Enter email address"})})})},"data-sentry-element":"FormField_Shadcn_","data-sentry-source-file":"InviteMemberButton.tsx"}),(0,l.jsx)(j.A,{defaultVisibility:!1,title:"Single Sign-on (SSO) login option available",hideCollapse:!1,description:(0,l.jsxs)("div",{className:"space-y-4 mb-1",children:[(0,l.jsx)("p",{children:"Supabase offers single sign-on (SSO) as a login option to provide additional account security for your team. This allows company administrators to enforce the use of an identity provider when logging into Supabase."}),(0,l.jsx)("p",{children:"This is only available for organizations on Team Plan or above."}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(P.$,{asChild:!0,type:"default",children:(0,l.jsx)(x(),{href:"https://supabase.com/docs/guides/platform/sso",target:"_blank",rel:"noreferrer",children:"Learn more"})}),((null==X?void 0:X.id)==="free"||(null==X?void 0:X.id)==="pro")&&(0,l.jsx)(P.$,{asChild:!0,type:"default",children:(0,l.jsx)(x(),{href:"/org/".concat(r,"/billing?panel=subscriptionPlan&source=inviteMemberSSO"),children:"Upgrade to Team"})})]})]}),"data-sentry-element":"InformationBox","data-sentry-source-file":"InviteMemberButton.tsx"})]}),(0,l.jsx)(O.pf,{"data-sentry-element":"DialogSectionSeparator","data-sentry-source-file":"InviteMemberButton.tsx"}),(0,l.jsx)(O.OO,{className:"pt-0","data-sentry-element":"DialogSection","data-sentry-source-file":"InviteMemberButton.tsx",children:(0,l.jsx)(P.$,{block:!0,htmlType:"submit",loading:ea,"data-sentry-element":"Button","data-sentry-source-file":"InviteMemberButton.tsx",children:"Send invitation"})})]})})]})]})};var W=r(70891),X=r(37838),Z=r(92589),Y=r(14132),ee=r(53667),et=r.n(ee),er=r(36152),el=r(98484),ea=r(11094),en=r(35741),es=r(50922),ei=r(51502),eo=r(36839),ed=r(48095),ec=r(32513),eu=r(94766),em=r(96187),ef=r(30805),ex=r(34531),ep=r(58103),eh=r(96827);function eg(e){let t=new Date(e);return!((new Date().valueOf()-t.valueOf())/1e3/60/60<24)}var ev=r(32615),ey=r(80949),ej=r(60123);async function eb(e){let{slug:t,id:r}=e,{error:l}=await (0,N.yH)("/platform/organizations/{slug}/members/invitations/{id}",{params:{path:{slug:t,id:r}}});return l&&(0,N.H4)(l),!0}let ew=function(){let{onSuccess:e,onError:t,...r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=(0,b.jE)();return(0,w.n)(e=>eb(e),{async onSuccess(t,r,a){let{slug:n,skipInvalidation:s}=r;s||await Promise.all([l.invalidateQueries(S.O.rolesV2(n)),l.invalidateQueries(_.O.members(n))]),await (null==e?void 0:e(t,r,a))},async onError(e,r,l){void 0===t?h.oR.error("Failed to delete invitation: ".concat(e.message)):t(e,r,l)},...r})};async function eN(e){let{slug:t,gotrueId:r}=e,{data:l,error:a}=await (0,N.yH)("/platform/organizations/{slug}/members/{gotrue_id}",{params:{path:{slug:t,gotrue_id:r}}});return a&&(0,N.H4)(a),l}let e_=function(){let{onSuccess:e,onError:t,...r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=(0,b.jE)();return(0,w.n)(e=>eN(e),{async onSuccess(t,r,a){let{slug:n}=r;await Promise.all([l.invalidateQueries(_.O.members(n)),l.invalidateQueries(_.O.roles(n))]),await (null==e?void 0:e(t,r,a))},async onError(e,r,l){void 0===t?h.oR.error("Failed to remove member: ".concat(e.message)):t(e,r,l)},...r})};var eS=r(95315),eR=r(64495),eC=r(86336),eA=r(67908),eI=r(87283),ek=r(59347);let ez=()=>{var e,t;let r=(0,eA.useRouter)(),{slug:a}=(0,v.g)(),{profile:s}=(0,L.xc)(),{data:i}=(0,M.s)(),{organizationMembersDelete:o}=(0,T.x)(["organization_members:delete"]),[d,c]=(0,n.useState)(!1),[u,m]=(0,n.useState)(!1),[f,x]=(0,ek.U)(v.rS.LAST_VISITED_ORGANIZATION,""),{refetch:p}=(0,eI.Ad)(),{data:g}=(0,I.Q)({slug:a}),{data:j}=(0,A.KQ)({slug:a}),b=null!=(t=null==j?void 0:j.org_scoped_roles)?t:[],w=null==g?void 0:g.find(e=>e.gotrue_id===(null==s?void 0:s.gotrue_id)),N=null==w||null==(e=w.role_ids)?void 0:e[0],_=b.find(e=>e.id===N),S=(null==_?void 0:_.name)==="Administrator",R=null==i?void 0:i.is_owner,C=!R||R&&$(g,b),{mutate:k}=e_({onSuccess:async()=>{c(!1),m(!1),await p(),h.oR.success("Successfully left ".concat(null==i?void 0:i.name)),x(""),r.push("/organizations")},onError:e=>{c(!1),h.oR.error("Failed to leave organization: ".concat(null==e?void 0:e.message))}}),z=async()=>a?s?void(c(!0),k({slug:a,gotrueId:s.gotrue_id})):console.error("Profile is required"):console.error("Org slug is required");return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(y.G,{type:"default",disabled:!C||!o||d,onClick:()=>m(!0),tooltip:{content:{side:"bottom",text:C?o?void 0:"Unable to leave organization":"An organization requires at least 1 owner"}},"data-sentry-element":"ButtonTooltip","data-sentry-source-file":"LeaveTeamButton.tsx",children:"Leave team"}),(0,l.jsx)(eC.A,{size:"medium",visible:u,title:"Confirm to leave organization",confirmLabel:"Leave",variant:"warning",alert:{title:"All of your user content will be permanently removed.",description:(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{children:"Leaving the organization will delete all of your saved content in the projects of the organization, which includes:"}),(0,l.jsxs)("ul",{className:"list-disc pl-4",children:[(0,l.jsxs)("li",{children:["SQL snippets ",(0,l.jsx)("span",{className:"text-foreground",children:"(both private and shared)"})]}),(0,l.jsx)("li",{children:"Custom reports"}),(0,l.jsx)("li",{children:"Log Explorer queries"})]}),(R||S)&&(0,l.jsxs)("div",{className:"mt-2",children:[(0,l.jsx)("p",{children:(0,l.jsx)("span",{className:"text-foreground",children:"Leaving won't remove your payment method or stop payments."})}),(0,l.jsxs)("ul",{className:"list-disc pl-4",children:[(0,l.jsx)("li",{children:"The current payment method will remain active and may still be charged after you leave."}),(0,l.jsx)("li",{children:"The billing address will remain unchanged."})]})]})]})},onCancel:()=>m(!1),onConfirm:()=>z(),"data-sentry-element":"ConfirmationModal","data-sentry-source-file":"LeaveTeamButton.tsx",children:(0,l.jsx)("p",{className:"text-sm text-foreground-light",children:"Are you sure you want to leave this organization? This is permanent."})})]})};var eE=r(84305),eT=r.n(eE),eM=r(20235),eL=r(38112),eO=r(68506);async function eF(e){let{slug:t,gotrueId:r,roleId:l,projects:a}=e,n={role_id:l};void 0!==a&&(n.role_scoped_projects=a);let{data:s,error:i}=await (0,N.F6)("/platform/organizations/{slug}/members/{gotrue_id}",{params:{path:{slug:t,gotrue_id:r}},body:n,headers:{Version:"2"}});return i&&(0,N.H4)(i),s}let eB=function(){let{onSuccess:e,onError:t,...r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=(0,b.jE)();return(0,w.n)(e=>eF(e),{async onSuccess(t,r,a){let{slug:n,skipInvalidation:s}=r;s||await Promise.all([l.invalidateQueries(S.O.rolesV2(n)),l.invalidateQueries(_.O.members(n))]),await (null==e?void 0:e(t,r,a))},async onError(e,r,l){void 0===t?h.oR.error("Failed to update member role: ".concat(e.message)):t(e,r,l)},...r})};async function eV(e){let{slug:t,gotrueId:r,roleId:l}=e,{data:a,error:n}=await (0,N.yH)("/platform/organizations/{slug}/members/{gotrue_id}/roles/{role_id}",{params:{path:{slug:t,gotrue_id:r,role_id:l}}});return n&&(0,N.H4)(n),a}let eD=function(){let{onSuccess:e,onError:t,...r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=(0,b.jE)();return(0,w.n)(e=>eV(e),{async onSuccess(t,r,a){let{slug:n,skipInvalidation:s}=r;s||await Promise.all([l.invalidateQueries(S.O.rolesV2(n)),l.invalidateQueries(_.O.members(n))]),await (null==e?void 0:e(t,r,a))},async onError(e,r,l){void 0===t?h.oR.error("Failed to unassign member role: ".concat(e.message)):t(e,r,l)},...r})};async function eP(e){let{slug:t,gotrueId:r,roleId:l,roleName:a,projects:n}=e,{data:s,error:i}=await (0,N.yJ)("/platform/organizations/{slug}/members/{gotrue_id}/roles/{role_id}",{params:{path:{slug:t,gotrue_id:r,role_id:l}},body:{name:a,role_scoped_projects:n}});return i&&(0,N.H4)(i),s}let eH=function(){let{onSuccess:e,onError:t,...r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=(0,b.jE)();return(0,w.n)(e=>eP(e),{async onSuccess(t,r,a){let{slug:n,skipInvalidation:s}=r;s||await Promise.all([l.invalidateQueries(S.O.rolesV2(n)),l.invalidateQueries(_.O.members(n))]),await (null==e?void 0:e(t,r,a))},async onError(e,r,l){void 0===t?h.oR.error("Failed to update member role: ".concat(e.message)):t(e,r,l)},...r})};var eU=r(107),eq=r.n(eU);let eQ=(e,t,r)=>{let{org_scoped_roles:l,project_scoped_roles:a}=t;return e.role_ids.map(e=>{let t=l.find(t=>t.id===e);if(void 0!==t)return{ref:void 0,roleId:t.id};let n=a.find(t=>t.id===e);if(void 0!==n){var s;return(null!=(s=null==n?void 0:n.project_ids)?s:[]).map(e=>r.find(t=>t.id===e)).map(e=>({ref:null==e?void 0:e.ref,projectId:null==e?void 0:e.id,roleId:n.id,baseRoleId:n.base_role_id}))}}).filter(Boolean).flat()},eG=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,l=[],a=[],n=[];return e.forEach(e=>{let r=t.find(t=>e.ref===t.ref);void 0===r?l.push(e):r.roleId!==e.roleId&&n.push({ref:r.ref,originalRole:e.roleId,originalBaseRole:e.baseRoleId,updatedRole:r.roleId})}),t.forEach(t=>{void 0===e.find(e=>t.ref===e.ref)&&a.push(t)}),{removed:l.map(e=>{var t;return{...e,projectId:null==(t=r.find(t=>t.ref===e.ref))?void 0:t.id}}),added:a.map(e=>{var t;return{...e,projectId:null==(t=r.find(t=>t.ref===e.ref))?void 0:t.id}}),updated:n.map(e=>{var t;return{...e,projectId:null==(t=r.find(t=>t.ref===e.ref))?void 0:t.id}})}},eK=(e,t)=>{let{removed:r,added:l,updated:a}=t,n=[],s=[],i=[],o=eq()(l,"roleId"),d=eq()(r,"roleId"),c=eq()(a,"originalRole"),u=eq()(a,"updatedRole"),m=e.filter(e=>{var t;return(null!=(t=null==e?void 0:e.project_ids)?t:[]).length>0}).map(e=>e.base_role_id);return e.forEach(e=>{var t,s,m,f,x,p,h,g;let v=e.project_ids;if(null===v)return n.push(e.id);let y=v.every(e=>{let t=r.map(e=>e.projectId).some(t=>t===e),l=a.map(e=>e.projectId).some(t=>t===e);return t||l}),j=l.some(t=>t.roleId===e.base_role_id),b=a.some(t=>t.updatedRole===e.base_role_id);if(y&&!j&&!b)return n.push(e.id);let w=null!=(x=null==(t=o[e.base_role_id])?void 0:t.map(e=>e.projectId))?x:[],N=null!=(p=null==(s=d[e.id])?void 0:s.map(e=>e.projectId))?p:[],_=null!=(h=null==(m=c[e.id])?void 0:m.map(e=>e.projectId))?h:[],S=null!=(g=null==(f=u[e.base_role_id])?void 0:f.map(e=>e.projectId))?g:[],R=v.filter(e=>!N.includes(e)).filter(e=>!_.includes(e)).concat(w).concat(S);eT()(v,R)||i.push({roleId:e.id,projectIds:R.sort((e,t)=>e-t)})}),Object.keys(o).forEach(e=>{m.includes(Number(e))||s.push({roleId:Number(e),projectIds:o[e].map(e=>e.projectId).sort((e,t)=>e-t)})}),Object.keys(u).forEach(e=>{m.includes(Number(e))||s.push({roleId:Number(e),projectIds:u[e].map(e=>e.projectId).sort((e,t)=>e-t)})}),{toRemove:n.sort((e,t)=>e-t),toAssign:s,toUpdate:i}},e$=e=>{var t;let{visible:r,member:a,projectsRoleConfiguration:s,onClose:i}=e,{slug:o}=(0,v.g)(),d=(0,b.jE)(),{data:c}=(0,M.s)(),{data:u}=(0,k.el)(),{data:m}=(0,A.KQ)({slug:null==c?void 0:c.slug}),[f,x]=(0,n.useState)(!1),{mutateAsync:p}=eB(),{mutateAsync:g}=eD({onError:()=>{}}),{mutateAsync:y}=eH(),j=null!=(t=null==m?void 0:m.org_scoped_roles)?t:[],{org_scoped_roles:w,project_scoped_roles:N}=null!=m?m:{org_scoped_roles:[],project_scoped_roles:[]},R=(null!=u?u:[]).filter(e=>e.organization_id===(null==c?void 0:c.id)),C=eG(void 0!==m?eQ(a,m,null!=u?u:[]):[],s,null!=u?u:[]),I=async()=>{if(void 0===o)return console.error("Slug is required");x(!0);let e=a.gotrue_id,t=a.role_ids.map(e=>[...w,...N].find(t=>t.id===e)).filter(Boolean);if(1===s.length&&void 0===s[0].ref)try{await p({slug:o,gotrueId:e,roleId:s[0].roleId}),h.oR.success("Successfully updated role for ".concat(a.username)),i(!0)}catch(e){h.oR.error("Failed to update role: ".concat(e.message))}finally{x(!1);return}let{toRemove:r,toAssign:l,toUpdate:n}=eK(t,C);try{for(let{roleId:t,projectIds:r}of l)await p({slug:o,gotrueId:e,roleId:t,projects:r.map(e=>{var t;return null==u||null==(t=u.find(t=>t.id===e))?void 0:t.ref}),skipInvalidation:!0});for(let t of r)await g({slug:o,gotrueId:e,roleId:t,skipInvalidation:!0});for(let{roleId:t,projectIds:r}of n){var c;await y({slug:o,gotrueId:e,roleId:t,roleName:null==(c=N.find(e=>e.id===t))?void 0:c.name,projects:r.map(e=>{var t;return null==u||null==(t=u.find(t=>t.id===e))?void 0:t.ref}),skipInvalidation:!0})}await Promise.all([d.invalidateQueries(S.O.rolesV2(o)),d.invalidateQueries(_.O.members(o))]),h.oR.success("Successfully updated role for ".concat(a.username)),i(!0)}catch(e){h.oR.error("Failed to update role: ".concat(e.message))}finally{x(!1);return}};return(0,l.jsx)(eC.A,{size:"medium",visible:r,loading:f,title:"Confirm to change roles of member",confirmLabel:"Update roles",confirmLabelLoading:"Updating",onCancel:()=>i(),onConfirm:I,"data-sentry-element":"ConfirmationModal","data-sentry-component":"UpdateRolesConfirmationModal","data-sentry-source-file":"UpdateRolesConfirmationModal.tsx",children:(0,l.jsxs)("div",{className:"flex flex-col gap-y-3",children:[(0,l.jsxs)("p",{className:"text-sm text-foreground-light",children:["You are making the following changes to the role of"," ",(0,l.jsx)("span",{className:"text-foreground",children:a.username})," in the organization"," ",(0,l.jsx)("span",{className:"text-foreground",children:null==c?void 0:c.name}),":"]}),(0,l.jsxs)("div",{className:"flex flex-col gap-y-2",children:[0!==C.removed.length&&(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"text-sm",children:["Removing ",C.removed.length," role",C.removed.length>1?"s":""," for user:"]}),(0,l.jsx)("ul",{className:"list-disc pl-6",children:C.removed.map((e,t)=>{var r,a,n;let s=null!=(r=w.find(t=>t.id===e.roleId))?r:N.find(t=>t.id===e.roleId),i=R.find(t=>t.ref===e.ref),o=(null!=(a=null==s?void 0:s.name)?a:"Unknown").split("_")[0];return(0,l.jsxs)("li",{className:"text-sm text-foreground-light",children:[(0,l.jsx)("span",{className:"text-foreground",children:o})," on"," ",(0,l.jsx)("span",{className:void 0!==i?"text-foreground":"",children:null!=(n=null==i?void 0:i.name)?n:"organization"})]},"update-".concat(t))})})]}),0!==C.added.length&&(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"text-sm",children:["Adding ",C.added.length," role",C.added.length>1?"s":""," for user:"]}),(0,l.jsx)("ul",{className:"list-disc pl-6",children:C.added.map((e,t)=>{var r;let a=j.find(t=>t.id===e.roleId),n=R.find(t=>t.ref===e.ref);return(0,l.jsxs)("li",{className:"text-sm text-foreground-light",children:[(0,l.jsx)("span",{className:"text-foreground",children:null==a?void 0:a.name})," on"," ",(0,l.jsx)("span",{className:void 0!==n?"text-foreground":"",children:null!=(r=null==n?void 0:n.name)?r:"organization"})]},"update-".concat(t))})})]}),0!==C.updated.length&&(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"text-sm",children:["Updating ",C.updated.length," role",C.updated.length>1?"s":""," for user:"]}),(0,l.jsx)("ul",{className:"list-disc pl-6",children:C.updated.map((e,t)=>{var r,a,n,s;let i=null!=(r=w.find(t=>t.id===e.originalRole))?r:N.find(t=>t.id===e.originalRole),o=w.find(t=>t.id===e.updatedRole),d=R.find(t=>t.ref===e.ref),c=(null!=(a=null==i?void 0:i.name)?a:"Unknown").split("_")[0];return(0,l.jsxs)("li",{className:"text-sm text-foreground-light",children:["From ",(0,l.jsx)("span",{className:"text-foreground",children:c})," to"," ",(0,l.jsx)("span",{className:"text-foreground",children:null!=(n=null==o?void 0:o.name)?n:"Unknown"})," on"," ",(0,l.jsx)("span",{className:void 0!==d?"text-foreground":"",children:null!=(s=null==d?void 0:d.name)?s:"organization"})]},"update-".concat(t))})})]})]}),(0,l.jsx)("p",{className:"text-sm text-foreground",children:"By changing the role of this member their permissions will change."})]})})},eJ=e=>{var t,r,a,s;let{visible:o,member:d,onClose:c}=e,{slug:u}=(0,v.g)(),{data:m}=(0,M.s)(),f=(0,z.cC)(u),{data:x}=(0,k.el)(),{data:p}=(0,eS.m)(),{data:h,isSuccess:g}=(0,A.KQ)({slug:u}),j=null!=(a=null==h?void 0:h.org_scoped_roles)?a:[],b=null!=(s=null==h?void 0:h.project_scoped_roles)?s:[],{rolesAddable:w,rolesRemovable:N}=K(null==m?void 0:m.slug,j.concat(b),null!=p?p:[]),_=j.every(e=>!w.includes(e.id)),[S,R]=(0,n.useState)(!1),[C,I]=(0,n.useState)(!1),[E,T]=(0,n.useState)([]),L=void 0!==h?eQ(d,h,null!=x?x:[]):[],O=1===L.length&&j.find(e=>e.id===L[0].roleId)?"org-scope":"project-scope",F=(null!=x?x:[]).filter(e=>e.organization_id===(null==m?void 0:m.id)),Q=1===E.length&&(null==(t=E[0])?void 0:t.ref)===void 0,G=E.length>0,$=null==(r=j.find(e=>"Developer"===e.name))?void 0:r.id,J=F.filter(e=>!E.some(t=>t.ref===e.ref)),W=F.length-J.length,X=L.length!==J.length,Z=eT()(E,L),Y=e=>{T(E.concat({ref:e,roleId:null!=$?$:j[0].id})),I(!1)},ee=e=>{void 0!==e&&T(E.filter(t=>t.ref!==e))},et=(e,t)=>{void 0!==t.ref?T(E.map(r=>r.ref===t.ref?{ref:r.ref,projectId:r.projectId,roleId:Number(e)}:r)):T([{ref:void 0,roleId:Number(e)}])};return(0,n.useEffect)(()=>{o&&g&&T(eQ(d,h,null!=x?x:[]))},[o,g]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eM.cj,{open:o,onOpenChange:()=>c(),"data-sentry-element":"Sheet","data-sentry-source-file":"UpdateRolesPanel.tsx",children:(0,l.jsx)(eM.h,{showClose:!1,size:"default",className:(0,q.cn)("bg-surface-200 p-0 flex flex-row gap-0 !min-w-[400px]"),"data-sentry-element":"SheetContent","data-sentry-source-file":"UpdateRolesPanel.tsx",children:(0,l.jsxs)("div",{className:(0,q.cn)("flex flex-col grow w-full"),children:[(0,l.jsxs)(eM.Fm,{className:(0,q.cn)("py-3 flex flex-row justify-between gap-x-4 items-center border-b"),"data-sentry-element":"SheetHeader","data-sentry-source-file":"UpdateRolesPanel.tsx",children:[(0,l.jsxs)("p",{className:"truncate",title:"Manage access for ".concat(d.username),children:["Manage access for ",d.username]}),(0,l.jsx)(i.A,{href:"https://supabase.com/docs/guides/platform/access-control","data-sentry-element":"DocsButton","data-sentry-source-file":"UpdateRolesPanel.tsx"})]}),(0,l.jsxs)(eM.Xc,{className:"h-full overflow-auto flex flex-col gap-y-4","data-sentry-element":"SheetSection","data-sentry-source-file":"UpdateRolesPanel.tsx",children:[f&&(0,l.jsxs)("div",{className:"flex items-center gap-x-4",children:[(0,l.jsx)(B.d,{disabled:_,checked:Q,onCheckedChange:e=>{let t=null!=$?$:j[0].id;e?"org-scope"===O?T(L):T([{ref:void 0,roleId:t}]):"project-scope"===O?T(L):T(F.map(e=>({ref:e.ref,projectId:e.id,roleId:t})))}}),(0,l.jsx)("p",{className:"text-sm",children:"Apply roles to all projects in the organization"})]}),0===E.length&&(0,l.jsxs)(eL.Fc,{children:[(0,l.jsx)(eO.id,{}),(0,l.jsx)(eL.XL,{children:"Team members need to be assigned at least one role"}),(0,l.jsx)(eL.TN,{children:"You may not remove all roles from a team member"})]}),!Q&&E.length>0&&E.length!==F.length&&(0,l.jsxs)(eL.Fc,{children:[(0,l.jsx)(eL.XL,{children:X?"This member will only have access to ".concat(W," project").concat(W>1?"s":""):"This member only has access to ".concat(W," project").concat(W>1?"s":"")}),(0,l.jsxs)(eL.TN,{children:[d.username," ",X?"will":"does"," not have access to the following ",J.length," project",J.length>1?"s":"",":",(0,l.jsx)("ul",{className:"list-disc pl-6",children:J.map(e=>(0,l.jsx)("li",{children:e.name},e.id))})]})]}),(0,l.jsx)("div",{className:"flex flex-col gap-y-2",children:E.sort((e,t)=>{var r,l;return(null!=(r=null==e?void 0:e.projectId)?r:0)-(null!=(l=null==t?void 0:t.projectId)?l:0)}).map(e=>{var t,r,a,n,s;let i=void 0===e.ref?"All projects":null==x||null==(t=x.find(t=>t.ref===e.ref))?void 0:t.name,o=j.find(t=>void 0!==e.baseRoleId?t.id===e.baseRoleId:t.id===e.roleId),d=N.includes(null!=(r=null==o?void 0:o.id)?r:0);return(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("p",{className:"text-sm",children:i}),(0,l.jsxs)("div",{className:"flex items-center gap-x-2",children:[_?(0,l.jsxs)(en.m_,{children:[(0,l.jsx)(en.k$,{asChild:!0,children:(0,l.jsx)("div",{className:"flex items-center justify-between rounded-md border border-button bg-button px-3 py-2 text-sm h-10 w-56 text-foreground-light",children:null!=(a=null==o?void 0:o.name)?a:"Unknown"})}),(0,l.jsx)(en.ZI,{side:"bottom",children:"Additional permissions required to update role"})]}):(0,l.jsxs)(V.l6,{value:(null!=(n=null==e?void 0:e.baseRoleId)?n:e.roleId).toString(),onValueChange:t=>et(t,e),children:[(0,l.jsx)(V.bq,{className:(0,q.cn)("text-sm h-10 w-56",(null==o?void 0:o.name)===void 0&&"text-foreground-light"),children:null!=(s=null==o?void 0:o.name)?s:"Please select a role"}),(0,l.jsx)(V.gC,{children:(0,l.jsx)(V.s3,{children:(null!=j?j:[]).map(e=>{let t=w.includes(e.id);return(0,l.jsx)(V.eb,{value:e.id.toString(),className:"text-sm hover:bg-selection cursor-pointer",disabled:!t,children:e.name},e.id)})})})]}),!Q&&(0,l.jsx)(y.G,{type:"text",disabled:!d,className:"px-1",icon:(0,l.jsx)(eo.A,{}),onClick:()=>ee(null==e?void 0:e.ref),tooltip:{content:{side:"bottom",text:d?"Remove access to project":"Additional permission required to remove role from member"}}})]})]},"".concat(e.ref,"-").concat(e.roleId))})}),!Q&&(0,l.jsxs)(D.AM,{open:C,onOpenChange:I,modal:!1,children:[(0,l.jsx)(D.Wv,{asChild:!0,children:(0,l.jsx)(P.$,{type:"default",className:"w-min",children:"Add project"})}),(0,l.jsx)(D.hl,{className:"p-0",side:"bottom",align:"start",children:(0,l.jsxs)(H.uB,{children:[(0,l.jsx)(H.G7,{placeholder:"Find project..."}),(0,l.jsxs)(H.oI,{children:[(0,l.jsx)(H.xL,{children:"No projects found"}),(0,l.jsx)(H.L$,{children:(0,l.jsx)(U.FK,{className:(x||[]).length>7?"h-[210px]":"",children:F.map(e=>{let t=E.some(t=>t.ref===e.ref);return(0,l.jsxs)(H.h_,{disabled:t,className:"cursor-pointer w-full justify-between",onSelect:()=>Y(e.ref),onClick:()=>Y(e.ref),children:[(0,l.jsx)("p",{className:"truncate",children:e.name}),t&&(0,l.jsx)("p",{className:"w-[45%] text-right",children:"Already assigned"})]},e.ref)})})})]})]})})]})]}),(0,l.jsxs)(eM.XW,{className:"flex items-center !justify-end px-5 py-4 w-full border-t","data-sentry-element":"SheetFooter","data-sentry-source-file":"UpdateRolesPanel.tsx",children:[(0,l.jsx)(P.$,{type:"default",disabled:!1,onClick:()=>c(),"data-sentry-element":"Button","data-sentry-source-file":"UpdateRolesPanel.tsx",children:"Cancel"}),(0,l.jsx)(P.$,{loading:!1,disabled:!G||Z,onClick:()=>{R(!0)},"data-sentry-element":"Button","data-sentry-source-file":"UpdateRolesPanel.tsx",children:"Save roles"})]})]})})}),(0,l.jsx)(e$,{visible:S,member:d,projectsRoleConfiguration:E,onClose:e=>{R(!1),e&&c()},"data-sentry-element":"UpdateRolesConfirmationModal","data-sentry-source-file":"UpdateRolesPanel.tsx"})]})},eW=e=>{var t,r,a,s,i;let{member:o}=e,{slug:d}=(0,v.g)(),{profile:u}=(0,L.xc)(),[m,f]=(0,n.useState)(!1),[x,p]=(0,n.useState)(!1),g=(0,T.x)("organization_members:delete"),{data:j}=(0,M.s)(),{data:b}=(0,eS.m)(),{data:w}=(0,k.el)(),{data:N}=(0,I.Q)({slug:d}),{data:_}=(0,A.KQ)({slug:d}),S=o.gotrue_id==(null==u?void 0:u.gotrue_id),R=null!=(r=null==_?void 0:_.org_scoped_roles)?r:[],z=null!=(a=null==_?void 0:_.project_scoped_roles)?a:[],O=!!o.invited_id,F=null==N?void 0:N.find(e=>e.gotrue_id===(null==u?void 0:u.gotrue_id)),B=1===(null!=(s=null==F?void 0:F.role_ids)?s:[]).length&&R.some(e=>e.id===(null==F?void 0:F.role_ids[0])),{rolesRemovable:V}=K(null==j?void 0:j.slug,R.concat(z),null!=b?b:[]),D=null!=(i=null==(t=o.role_ids)?void 0:t[0])?i:-1,H=o.role_ids.every(e=>V.includes(e)),U=(0,E.SE)(c.aG.CREATE,"user_invites",{resource:{role_id:D}})&&B,q=(0,E.SE)(c.aG.DELETE,"user_invites",{resource:{role_id:D}})&&B,{mutate:Q,isLoading:G}=e_({onSuccess:()=>{h.oR.success("Successfully removed ".concat(o.primary_email)),p(!1)}}),{mutate:$,isLoading:J}=C({onSuccess:()=>{h.oR.success("Resent the invitation.")},onError:e=>{h.oR.error("Failed to resend invitation: ".concat(e.message))}}),{mutate:W,isLoading:X}=ew(),Z=G||X||J,Y=()=>d?o.gotrue_id?void Q({slug:d,gotrueId:o.gotrue_id}):console.error("gotrue_id is required"):console.error("slug is required"),ee=e=>{var t;let r=(null!=(t=null==e?void 0:e.role_ids)?t:[])[0],l=e.invited_id;return d?l?void W({slug:d,id:l,skipInvalidation:!0},{onSuccess:()=>{if(!e.primary_email)return h.oR.error("Email is required");let t=z.find(e=>e.id===r);if(void 0!==t){var l;let r=(null!=(l=null==t?void 0:t.project_ids)?l:[]).map(e=>{var t;return null==w||null==(t=w.find(t=>t.id===e))?void 0:t.ref}).filter(Boolean);$({slug:d,email:e.primary_email,roleId:t.base_role_id,projects:r})}else $({slug:d,email:e.primary_email,roleId:r})}}):console.error("Member invited ID is required"):console.error("Slug is required")},et=e=>{let t=e.invited_id;return d?t?void W({slug:d,id:t},{onSuccess:()=>h.oR.success("Successfully revoked the invitation.")}):console.error("Member invited ID is required"):console.error("Slug is required")};return S?(0,l.jsx)("div",{className:"flex items-center justify-end",children:(0,l.jsx)(ez,{})}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex items-center justify-end gap-x-2",children:[(0,l.jsx)(y.G,{type:"default",disabled:O||!H,onClick:()=>f(!0),tooltip:{content:{side:"bottom",text:O?"Role can only be changed after the user has accepted the invite":H?void 0:"You need additional permissions to manage this team member"}},"data-sentry-element":"ButtonTooltip","data-sentry-source-file":"MemberActions.tsx",children:"Manage access"}),(0,l.jsxs)(eR.rI,{"data-sentry-element":"DropdownMenu","data-sentry-source-file":"MemberActions.tsx",children:[(0,l.jsx)(eR.ty,{asChild:!0,"data-sentry-element":"DropdownMenuTrigger","data-sentry-source-file":"MemberActions.tsx",children:(0,l.jsx)(P.$,{type:"text",className:"px-1.5",disabled:Z,loading:Z,icon:(0,l.jsx)(ev.A,{}),"data-sentry-element":"Button","data-sentry-source-file":"MemberActions.tsx"})}),(0,l.jsx)(eR.SQ,{side:"bottom",align:"end",className:"w-40","data-sentry-element":"DropdownMenuContent","data-sentry-source-file":"MemberActions.tsx",children:(0,l.jsx)(l.Fragment,{children:O?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ej.x,{className:"gap-x-2",disabled:!q,onClick:()=>et(o),tooltip:{content:{side:"left",text:"Additional permissions required to cancel invitation"}},children:(0,l.jsx)("p",{children:"Cancel invitation"})}),(0,l.jsx)(eR.mB,{}),(0,l.jsx)(ej.x,{className:"gap-x-2",disabled:!U,onClick:()=>ee(o),tooltip:{content:{side:"left",text:"Additional permissions required to resend invitation"}},children:(0,l.jsx)("p",{children:"Resend invitation"})})]}):g&&(0,l.jsxs)(ej.x,{className:"gap-x-2",disabled:!H,onClick:()=>p(!0),tooltip:{content:{side:"left",text:"Additional permissions required to remove member"}},children:[(0,l.jsx)(ey.A,{size:12}),(0,l.jsx)("p",{children:"Remove member"})]})})})]})]}),(0,l.jsx)(eC.A,{size:"large",visible:x,loading:G,title:"Confirm to remove member",confirmLabel:"Remove",variant:"warning",alert:{title:"All user content from this member will be permanently removed.",description:(0,l.jsxs)("div",{children:["Removing a member will delete all of the user's saved content in all projects of this organization, which includes:",(0,l.jsxs)("ul",{className:"list-disc pl-4 my-2",children:[(0,l.jsxs)("li",{children:["SQL snippets"," ",(0,l.jsxs)("span",{className:"text-foreground",children:["(both ",(0,l.jsx)("span",{className:"underline",children:"private"})," and"," ",(0,l.jsx)("span",{className:"underline",children:"shared"})," snippets)"]})]}),(0,l.jsx)("li",{children:"Custom reports"}),(0,l.jsx)("li",{children:"Log Explorer queries"})]}),(0,l.jsx)("p",{className:"mt-4 text-foreground-lighter",children:"If you'd like to retain the member's shared SQL snippets, right click on them and \"Duplicate query\" in the SQL Editor before removing this member."})]})},onCancel:()=>p(!1),onConfirm:()=>{Y()},"data-sentry-element":"ConfirmationModal","data-sentry-source-file":"MemberActions.tsx",children:(0,l.jsxs)("p",{className:"text-sm text-foreground-light",children:["Are you sure you want to remove"," ",(0,l.jsx)("span",{className:"text-foreground",children:o.primary_email})," from"," ",(0,l.jsx)("span",{className:"text-foreground",children:null==j?void 0:j.name}),"?"]})}),(0,l.jsx)(eJ,{visible:m,member:o,onClose:()=>f(!1),"data-sentry-element":"UpdateRolesPanel","data-sentry-source-file":"MemberActions.tsx"})]})},eX={vercel:"vercel-marketplace"},eZ=e=>{var t,r,a,n,s,i;let{member:o}=e,{profile:d}=(0,L.xc)(),{data:c}=(0,M.s)(),{data:u}=(0,k.el)(),{data:f,isLoading:p}=(0,A.KQ)({slug:null==c?void 0:c.slug}),h=null==u?void 0:u.filter(e=>e.organization_id===(null==c?void 0:c.id)),g=(null!=(a=null==f?void 0:f.project_scoped_roles)?a:[]).length>0,v=!!o.invited_id,y=o.username===o.primary_email,j=!!(null==(t=o.primary_email)?void 0:t.endsWith("customer.fly.io")),b=v||y||j?void 0:(0,ef.By)(o.username),w=o.role_ids.filter(e=>{var t,r,l;let a=[...null!=(t=null==f?void 0:f.org_scoped_roles)?t:[],...null!=(r=null==f?void 0:f.project_scoped_roles)?r:[]].find(t=>t.id===e);return(null==a?void 0:a.project_ids)!==null&&0===(null!=(l=null==a?void 0:a.project_ids)?l:[]).map(e=>{var t,r;return null!=(r=null==u||null==(t=u.find(t=>t.id===e))?void 0:t.name)?r:""}).filter(e=>e.length>0).length}).length>0;return(0,l.jsxs)(ea.Hj,{"data-sentry-element":"TableRow","data-sentry-component":"MemberRow","data-sentry-source-file":"MemberRow.tsx",children:[(0,l.jsx)(ea.nA,{"data-sentry-element":"TableCell","data-sentry-source-file":"MemberRow.tsx",children:(0,l.jsxs)("div",{className:"flex items-center gap-x-4",children:[(0,l.jsx)(em.p,{alt:null!=(s=null!=(n=o.primary_email)?n:o.username)?s:"",src:b,className:"border rounded-full w-[32px] h-[32px] md:w-[40px] md:h-[40px]",placeholder:(0,l.jsx)("div",{className:(0,q.cn)("w-[32px] h-[32px] md:w-[40px] md:h-[40px]","bg-surface-100 border border-overlay rounded-full text-foreground-lighter flex items-center justify-center"),children:(0,l.jsx)(ei.A,{size:20,strokeWidth:1.5})}),"data-sentry-element":"ProfileImage","data-sentry-source-file":"MemberRow.tsx"}),(0,l.jsxs)("div",{className:"flex item-center gap-x-2",children:[(0,l.jsx)("p",{className:"text-foreground-light truncate",children:o.primary_email}),o.gotrue_id===(null==d?void 0:d.gotrue_id)&&(0,l.jsx)(ex.E,{color:"scale",children:"You"})]}),(null==(r=o.metadata)?void 0:r.origin)&&(0,l.jsx)(eu.A,{organization:{managed_by:null!=(i=eX[o.metadata.origin])?i:"supabase"},tooltipText:"This user is managed by Vercel Marketplace."})]})}),(0,l.jsxs)(ea.nA,{"data-sentry-element":"TableCell","data-sentry-source-file":"MemberRow.tsx",children:[v&&o.invited_at&&(0,l.jsx)(ex.E,{variant:eg(o.invited_at)?"destructive":"warning",children:eg(o.invited_at)?"Expired":"Invited"}),o.is_sso_user&&(0,l.jsx)(ex.E,{variant:"default",children:"SSO"})]}),(0,l.jsx)(ea.nA,{"data-sentry-element":"TableCell","data-sentry-source-file":"MemberRow.tsx",children:(0,l.jsx)("div",{className:"flex items-center justify-center",children:o.mfa_enabled?(0,l.jsx)(m.A,{className:"text-brand",strokeWidth:2,size:20}):(0,l.jsx)(eo.A,{className:"text-foreground-light",strokeWidth:1.5,size:20})})}),(0,l.jsx)(ea.nA,{className:"max-w-64","data-sentry-element":"TableCell","data-sentry-source-file":"MemberRow.tsx",children:p?(0,l.jsx)(eh.A,{className:"w-32"}):w?(0,l.jsx)(ed.A,{strokeWidth:1.5,size:20}):o.role_ids.map(e=>{var t,r,a,n,s;let i=(null!=(t=null==f?void 0:f.org_scoped_roles)?t:[]).find(t=>t.id===e),o=(null!=(r=null==f?void 0:f.project_scoped_roles)?r:[]).find(t=>t.id===e),d=i||o,c=(null!=(a=null==d?void 0:d.name)?a:"").split("_")[0],u=(null==d?void 0:d.project_ids)===null?null!=(n=null==h?void 0:h.map(e=>e.name))?n:[]:(null!=(s=null==d?void 0:d.project_ids)?s:[]).map(e=>{var t,r;return null!=(r=null==h||null==(t=h.find(t=>t.id===e))?void 0:t.name)?r:""}).filter(e=>e.length>0);return(0,l.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,l.jsx)("p",{children:c}),g&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{children:""}),1===u.length?(0,l.jsx)("span",{className:"text-foreground truncate",title:u[0],children:u[0]}):(0,l.jsxs)(ep.jc,{openDelay:200,children:[(0,l.jsx)(ep.d0,{asChild:!0,children:(0,l.jsx)("span",{className:"text-foreground",children:(null==d?void 0:d.project_ids)===null?"Organization":"".concat(u.length," project").concat(u.length>1?"s":"")})}),(0,l.jsxs)(ep.Et,{className:"p-0",children:[(0,l.jsxs)("p",{className:"p-2 text-xs",children:[c," role applies to ",u.length," project",u.length>1?"s":""]}),(0,l.jsx)("div",{className:"border-t flex flex-col py-1",children:(0,l.jsx)(U.FK,{className:(0,q.cn)(u.length>5?"h-[130px]":""),children:u.map(e=>{var t;let r=null==h||null==(t=h.find(t=>t.name===e))?void 0:t.ref;return(0,l.jsxs)(x(),{href:"/project/".concat(r),className:"px-2 py-1 group hover:bg-surface-300 hover:text-foreground transition flex items-center justify-between",children:[(0,l.jsx)("span",{className:"text-xs truncate max-w-[60%]",children:e}),(0,l.jsxs)("span",{className:"text-xs text-foreground flex items-center gap-x-1 opacity-0 group-hover:opacity-100 transition",children:["Go to project",(0,l.jsx)(ec.A,{size:14})]})]},e)})})})]})]})]})]},"role-".concat(e))})}),(0,l.jsx)(ea.nA,{"data-sentry-element":"TableCell","data-sentry-source-file":"MemberRow.tsx",children:(0,l.jsx)(eW,{member:o,"data-sentry-element":"MemberActions","data-sentry-source-file":"MemberRow.tsx"})})]})},eY=e=>{var t,r,a;let{searchString:s}=e,{slug:i}=(0,v.g)(),{profile:o}=(0,L.xc)(),{data:d=[],error:c,isLoading:u,isError:m,isSuccess:f}=(0,I.Q)({slug:i}),{data:x,error:p,isSuccess:h,isError:g}=(0,A.KQ)({slug:i}),y=(0,n.useMemo)(()=>s?d.filter(e=>{var t,r;return e.invited_at?null==(t=e.primary_email)?void 0:t.includes(s):e.gotrue_id?e.username.includes(s)||(null==(r=e.primary_email)?void 0:r.includes(s)):void 0}):d,[d,s]),[[j],b]=et()(y,e=>e.gotrue_id===(null==o?void 0:o.gotrue_id)),w=b.sort((e,t)=>{var r,l;return(null!=(r=e.primary_email)?r:"").localeCompare(null!=(l=t.primary_email)?l:"")}),N=d.find(e=>e.gotrue_id===(null==o?void 0:o.gotrue_id)),_=(null!=(r=null==x?void 0:x.org_scoped_roles)?r:[]).map(e=>e.id).includes(null!=(a=null==N||null==(t=N.role_ids)?void 0:t[0])?a:-1);return(0,l.jsxs)(l.Fragment,{children:[u&&(0,l.jsx)(Y.y,{}),m&&(0,l.jsx)(Z.A,{error:c,subject:"Failed to retrieve organization members"}),g&&(0,l.jsx)(Z.A,{error:p,subject:"Failed to retrieve organization roles"}),f&&(0,l.jsx)("div",{className:"rounded w-full overflow-hidden overflow-x-scroll",children:(0,l.jsx)(er.Zp,{children:(0,l.jsx)(el.A,{active:!y,children:(0,l.jsxs)(ea.XI,{children:[(0,l.jsx)(ea.A0,{children:(0,l.jsxs)(ea.Hj,{children:[(0,l.jsx)(ea.nd,{children:"User"},"header-user"),(0,l.jsx)(ea.nd,{className:"w-24"},"header-status"),(0,l.jsx)(ea.nd,{className:"text-center w-32",children:"Enabled MFA"},"header-mfa"),(0,l.jsxs)(ea.nd,{className:"flex items-center space-x-1",children:[(0,l.jsx)("span",{children:"Role"}),(0,l.jsxs)(en.m_,{children:[(0,l.jsx)(en.k$,{asChild:!0,children:(0,l.jsx)(P.$,{asChild:!0,type:"text",className:"px-1",children:(0,l.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://supabase.com/docs/guides/platform/access-control",children:(0,l.jsx)(W.A,{size:14,className:"text-foreground-light"})})})}),(0,l.jsx)(en.ZI,{side:"bottom",children:"How to configure access control?"})]})]},"header-role"),(0,l.jsx)(ea.nd,{},"header-action")]})}),(0,l.jsx)(ea.BF,{children:[...h&&f&&!_?[(0,l.jsx)(ea.Hj,{children:(0,l.jsx)(ea.nA,{colSpan:12,className:"!p-0",children:(0,l.jsx)(es.Z,{type:"note",title:"You are currently assigned with project scoped roles in this organization",description:"All the members within the organization will not be visible to you",className:"m-0 bg-alternative border-0 rounded-none"})})},"project-scope-notice")]:[],...j?[(0,l.jsx)(eZ,{member:j},j.gotrue_id)]:[],...w.map(e=>(0,l.jsx)(eZ,{member:e},e.gotrue_id)),...s.length>0&&0===y.length?[(0,l.jsx)(ea.Hj,{className:"bg-panel-secondary-light",children:(0,l.jsx)(ea.nA,{colSpan:12,children:(0,l.jsxs)("div",{className:"flex items-center space-x-3 opacity-75",children:[(0,l.jsx)(X.A,{size:16,strokeWidth:2}),(0,l.jsxs)("p",{className:"text-foreground-light",children:['No users matched the search query "',s,'"']})]})})},"no-results")]:[],(0,l.jsx)(ea.Hj,{className:"bg-panel-secondary-light",children:(0,l.jsx)(ea.nA,{colSpan:12,children:(0,l.jsxs)("p",{className:"text-foreground-light",children:[s?"".concat(y.length," of "):"",d.length||"0"," ",1==d.length?"user":"users"]})})},"footer")]})]})})})})]})},e0=()=>{let[e,t]=(0,n.useState)("");return(0,l.jsxs)(s.Vw,{"data-sentry-element":"ScaffoldContainerLegacy","data-sentry-component":"TeamSettings","data-sentry-source-file":"TeamSettings.tsx",children:[(0,l.jsx)(s.Dm,{"data-sentry-element":"ScaffoldTitle","data-sentry-source-file":"TeamSettings.tsx",children:"Team"}),(0,l.jsxs)(s.tn,{"data-sentry-element":"ScaffoldFilterAndContent","data-sentry-source-file":"TeamSettings.tsx",children:[(0,l.jsxs)(s.HJ,{className:"w-full flex-col md:flex-row gap-2 justify-between","data-sentry-element":"ScaffoldActionsContainer","data-sentry-source-file":"TeamSettings.tsx",children:[(0,l.jsx)(o.p,{size:"tiny",autoComplete:"off",icon:(0,l.jsx)(a.A,{size:12}),value:e,onChange:e=>t(e.target.value),name:"email",id:"email",placeholder:"Filter members","data-sentry-element":"Input","data-sentry-source-file":"TeamSettings.tsx"}),(0,l.jsxs)(s.fh,{className:"w-full md:w-auto","data-sentry-element":"ScaffoldActionsGroup","data-sentry-source-file":"TeamSettings.tsx",children:[(0,l.jsx)(i.A,{href:"https://supabase.com/docs/guides/platform/access-control","data-sentry-element":"DocsButton","data-sentry-source-file":"TeamSettings.tsx"}),(0,l.jsx)(J,{"data-sentry-element":"InviteMemberButton","data-sentry-source-file":"TeamSettings.tsx"})]})]}),(0,l.jsx)(s.Rf,{className:"w-full","data-sentry-element":"ScaffoldSectionContent","data-sentry-source-file":"TeamSettings.tsx",children:(0,l.jsx)(eY,{searchString:e,"data-sentry-element":"MembersView","data-sentry-source-file":"TeamSettings.tsx"})})]})]})};var e1=r(78311),e2=r(96103),e4=r(40461),e3=r(38326);let e5=()=>{let{isLoading:e}=(0,eS.m)(),{data:t}=(0,M.s)();return void 0===t&&e?(0,l.jsx)(e3.A,{"data-sentry-element":"Loading","data-sentry-component":"OrgTeamSettings","data-sentry-source-file":"team.tsx"}):(0,l.jsx)(e0,{"data-sentry-element":"TeamSettings","data-sentry-component":"OrgTeamSettings","data-sentry-source-file":"team.tsx"})};e5.getLayout=e=>(0,l.jsx)(e1.A,{children:(0,l.jsx)(e2.A,{children:(0,l.jsx)(e4.A,{children:e})})});let e6=e5},73591:(e,t,r)=>{"use strict";r.d(t,{O:()=>l});let l={rolesV2:e=>["organization-members",e,"roles-v2"],invitations:e=>["organization-members",e,"invitations"],invitation:(e,t)=>["organization-members",e,"invitations",t],token:(e,t)=>["organization-members",e,"token",t]}},75118:(e,t,r)=>{"use strict";r.d(t,{d:()=>c});var l=r(80263),a=r(44893),n=r(79279),s=r(53239),i=r(80127);let o=(0,n.F)("peer inline-flex shrink-0 cursor-pointer items-center rounded-full border transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-brand data-[state=checked]:hover:bg-brand-600/90 data-[state=unchecked]:bg-control data-[state=unchecked]:hover:bg-border",{variants:{size:{small:"h-[16px] w-[28px]",medium:"h-[20px] w-[34px]",large:"h-[24px] w-[44px]"}},defaultVariants:{size:"medium"}}),d=(0,n.F)("pointer-events-none block rounded-full bg-foreground-lighter data-[state=checked]:bg-white shadow-lg ring-0 transition-transform",{variants:{size:{small:"h-[12px] w-[12px] data-[state=checked]:translate-x-[13px] data-[state=unchecked]:translate-x-[1px]",medium:"h-[16px] w-[16px] data-[state=checked]:translate-x-[15px] data-[state=unchecked]:translate-x-[1px]",large:"h-[18px] w-[18px] data-[state=checked]:translate-x-[22px] data-[state=unchecked]:translate-x-[3px]"}},defaultVariants:{size:"medium"}}),c=s.forwardRef((e,t)=>{let{className:r,size:n,...s}=e;return(0,l.jsx)(a.bL,{className:(0,i.cn)(o({size:n}),r),...s,ref:t,children:(0,l.jsx)(a.zi,{className:(0,i.cn)(d({size:n}))})})});c.displayName=a.bL.displayName},80949:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let l=(0,r(81915).A)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},95142:(e,t,r)=>{"use strict";r.d(t,{BS:()=>i,Dm:()=>c,HJ:()=>y,Rf:()=>g,Uw:()=>d,Vw:()=>w,Xr:()=>b,aw:()=>p,bV:()=>s,cJ:()=>f,dX:()=>u,eh:()=>o,fh:()=>j,gu:()=>m,sZ:()=>x,tn:()=>v,xp:()=>h});var l=r(80263),a=r(53239),n=r(80127);let s="mx-auto w-full max-w-[1200px]",i="px-4 @lg:px-6 @xl:px-12 @2xl:px-20 @3xl:px-24",o=(0,a.forwardRef)((e,t)=>{let{className:r,bottomPadding:a,size:s="default",...o}=e;return(0,l.jsx)("div",{ref:t,...o,className:(0,n.cn)("mx-auto w-full",{small:"max-w-[768px]",default:"max-w-[1200px]",large:"max-w-[1600px]",full:"max-w-none"}[s],i,a&&"pb-16",r)})}),d=(0,a.forwardRef)((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("header",{...a,ref:t,className:(0,n.cn)("w-full","flex-col gap-3 py-6",r)})}),c=(0,a.forwardRef)((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("h1",{ref:t,...a,className:(0,n.cn)(r)})}),u=(0,a.forwardRef)((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("p",{ref:t,...a,className:(0,n.cn)("text-sm text-foreground-light",r)})}),m=(0,a.forwardRef)((e,t)=>{let{className:r,isFullWidth:a,topPadding:s,...i}=e;return(0,l.jsx)("div",{ref:t,...i,className:(0,n.cn)("flex flex-col first:pt-12 py-6",a?"w-full":"gap-3 lg:grid md:grid-cols-12",r)})}),f=(0,a.forwardRef)((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("div",{ref:t,...a,className:(0,n.cn)("w-full h-px bg-border",r)})}),x=(0,a.forwardRef)((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("h3",{ref:t,...a,className:(0,n.cn)("text-foreground text-xl",r)})}),p=(0,a.forwardRef)((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("p",{ref:t,...a,className:(0,n.cn)("text-sm text-foreground-light",r)})}),h=(0,a.forwardRef)((e,t)=>{let{className:r,children:a,title:s,...i}=e;return(0,l.jsxs)("div",{ref:t,...i,className:(0,n.cn)("col-span-4 xl:col-span-5 prose text-sm",r),children:[s&&(0,l.jsx)("h2",{children:s}),a]})}),g=(0,a.forwardRef)((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("div",{ref:t,...a,className:(0,n.cn)("col-span-8 xl:col-span-7","flex flex-col gap-6",r)})}),v=(0,a.forwardRef)((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("div",{ref:t,...a,className:(0,n.cn)("flex flex-col gap-3 items-center",r)})}),y=(0,a.forwardRef)((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("div",{ref:t,...a,className:(0,n.cn)("flex w-full items-center",r)})}),j=(0,a.forwardRef)((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("div",{ref:t,...a,className:(0,n.cn)("flex flex-row gap-3",r)})}),b=(0,a.forwardRef)((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("div",{ref:t,...a,className:(0,n.cn)("flex flex-col gap-3","min-w-[420px]",r)})}),w=(0,a.forwardRef)((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("div",{ref:t,...a,className:(0,n.cn)(s,i,"my-8 flex flex-col gap-8",r)})});d.displayName="ScaffoldHeader",c.displayName="ScaffoldTitle",u.displayName="ScaffoldDescription",o.displayName="ScaffoldContainer",f.displayName="ScaffoldDivider",m.displayName="ScaffoldSection",b.displayName="ScaffoldColumn",h.displayName="ScaffoldSectionDetail",g.displayName="ScaffoldSectionContent",v.displayName="ScaffoldFilterAndContent",y.displayName="ScaffoldActionsContainer",j.displayName="ScaffoldActionsGroup",w.displayName="ScaffoldContainerLegacy",x.displayName="ScaffoldSectionTitle",p.displayName="ScaffoldSectionDescription"},96103:(e,t,r)=>{"use strict";r.d(t,{A:()=>h});var l=r(80263),a=r(63121),n=r(94766),s=r(8572),i=r(40716),o=r(52445),d=r(53405),c=r(80127),u=r(38112),m=r(22554),f=r(30264),x=r(23035);let p=e=>{let{children:t}=e,{data:r}=(0,o.s)(),d=(0,i.X)({installationId:null==r?void 0:r.partner_id},{enabled:(null==r?void 0:r.managed_by)===x.Kf.VERCEL_MARKETPLACE}),p=(0,f.x)({organizationSlug:null==r?void 0:r.slug},{enabled:(null==r?void 0:r.managed_by)===x.Kf.AWS_MARKETPLACE}),{data:h,isSuccess:g}=(null==r?void 0:r.managed_by)===x.Kf.AWS_MARKETPLACE?p:d;return(0,l.jsxs)("div",{className:(0,c.cn)("h-full w-full flex flex-col overflow-hidden"),"data-sentry-component":"OrganizationLayoutContent","data-sentry-source-file":"OrganizationLayout.tsx",children:[r&&(null==r?void 0:r.managed_by)!=="supabase"&&(0,l.jsxs)(u.Fc,{variant:"default",className:"flex items-center gap-4 border-t-0 border-x-0 rounded-none",children:[(0,l.jsx)(n.A,{organization:r,showTooltip:!1,size:"medium"}),(0,l.jsxs)(u.XL,{className:"flex-1",children:["This organization is managed by ",s.N[r.managed_by],"."]}),(0,l.jsx)(m.$,{asChild:!0,type:"default",iconRight:(0,l.jsx)(a.A,{}),disabled:!g,children:(0,l.jsx)("a",{href:null==h?void 0:h.url,target:"_blank",rel:"noopener noreferrer",children:"Manage"})})]}),(0,l.jsx)("main",{className:"h-full w-full overflow-y-auto",children:t})]})},h=(0,d.r)(e=>{let{children:t}=e;return(0,l.jsx)(p,{"data-sentry-element":"OrganizationLayoutContent","data-sentry-component":"OrganizationLayout","data-sentry-source-file":"OrganizationLayout.tsx",children:t})})},96827:(e,t,r)=>{"use strict";r.d(t,{A:()=>i,y:()=>s});var l=r(80263),a=r(80127);let n=e=>{let{className:t,delayIndex:r=0,animationDelay:n=150}=e;return(0,l.jsx)("div",{className:(0,a.cn)("shimmering-loader rounded py-3",t),style:{animationFillMode:"backwards",animationDelay:"".concat(r*n,"ms")},"data-sentry-component":"ShimmeringLoader","data-sentry-source-file":"index.tsx"})},s=e=>{let{className:t}=e;return(0,l.jsxs)("div",{className:(0,a.cn)(t,"space-y-2"),"data-sentry-component":"GenericSkeletonLoader","data-sentry-source-file":"index.tsx",children:[(0,l.jsx)(n,{"data-sentry-element":"ShimmeringLoader","data-sentry-source-file":"index.tsx"}),(0,l.jsx)(n,{className:"w-3/4","data-sentry-element":"ShimmeringLoader","data-sentry-source-file":"index.tsx"}),(0,l.jsx)(n,{className:"w-1/2","data-sentry-element":"ShimmeringLoader","data-sentry-source-file":"index.tsx"})]})},i=n}},e=>{var t=t=>e(e.s=t);e.O(0,[89,673,7494,726,5476,4915,7074,4560,2735,8444,6110,3895,1168,7795,9587,5348,5175,4654,3258,4352,304,6416,8311,636,6593,8792],()=>t(9267)),_N_E=e.O()}]);
try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="33c2cb57-1889-456e-af0e-c66b8fcbedae",e._sentryDebugIdIdentifier="sentry-dbid-33c2cb57-1889-456e-af0e-c66b8fcbedae")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6416],{16443:e=>{e.exports={"popover-trigger-width":"popover_popover-trigger-width__O8y9q"}},18725:(e,t,s)=>{"use strict";s.d(t,{P:()=>o,u:()=>l});var r=s(56947),a=s(97624),n=s(99241);async function o(){let{error:e,data:t}=await a.j2.mfa.getAuthenticatorAssuranceLevel();if(e)throw e;return t}let l=function(){let{enabled:e=!0,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.I)(n.e.aaLevel(),()=>o(),{staleTime:18e5,...t})}},20838:(e,t,s)=>{"use strict";s.d(t,{L:()=>i,p:()=>d});var r=s(80263),a=s(79279),n=s(53239),o=s(94198),l=s(80127);let i=(0,a.F)((0,l.cn)("flex h-10 w-full rounded-md border border-control bg-foreground/[.026] px-3 py-2 text-sm file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-foreground-muted","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-background-control focus-visible:ring-offset-2 focus-visible:ring-offset-foreground-muted disabled:cursor-not-allowed disabled:opacity-50","aria-[] aria-[invalid=true]:bg-destructive-200 aria-[invalid=true]:border-destructive-400 aria-[invalid=true]:focus:border-destructive aria-[invalid=true]:focus-visible:border-destructive"),{variants:{size:{...o.vs}},defaultVariants:{size:o.FE}}),d=n.forwardRef((e,t)=>{let{className:s,type:a,size:n="small",...o}=e;return(0,r.jsx)("input",{type:a,ref:t,...o,className:(0,l.cn)(i({size:n}),s)})});d.displayName="Input"},29107:(e,t,s)=>{"use strict";s.d(t,{f:()=>l});var r=s(80263),a=s(53239),n=s(80127);let o=["bg-control"],l=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("textarea",{className:(0,n.cn)("flex min-h-10 w-full rounded-md border border-control focus:border-control bg-control px-3 py-2 text-base md:text-sm file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-foreground-muted","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-background-control focus-visible:ring-offset-2 focus-visible:ring-offset-foreground-muted disabled:cursor-not-allowed disabled:opacity-50",...o,s),ref:t,...a})});l.displayName="TextArea"},51509:(e,t,s)=>{"use strict";s.d(t,{AM:()=>d,Wv:()=>c,hl:()=>u,zT:()=>p});var r=s(80263),a=s(67074),n=s(53239),o=s(80127),l=s(16443),i=s.n(l);let d=a.bL,c=a.l9;a.Mz;let u=n.forwardRef((e,t)=>{let{className:s,align:l="center",sideOffset:d=4,portal:c=!1,sameWidthAsTrigger:u=!1,...p}=e,f=c?a.ZL:n.Fragment;return(0,r.jsx)(f,{children:(0,r.jsx)(a.UC,{ref:t,align:l,sideOffset:d,className:(0,o.cn)(u?i()["popover-trigger-width"]:"","z-50 w-72 rounded-md border border-overlay bg-overlay p-4 text-popover-foreground shadow-md outline-none animate-in data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...p})})});u.displayName="PopoverContent";let p=n.forwardRef((e,t)=>{let{className:s,children:a,...n}=e;return(0,r.jsx)("div",{ref:t,...n,className:(0,o.cn)("w-full h-px bg-border-overlay",s)})});p.displayName="PopoverSeparator"},52534:(e,t,s)=>{"use strict";s.d(t,{R:()=>O});var r=s(80263),a=s(92818),n=s(64608),o=s(93749),l=s.n(o),i=s(53239),d=s(51509),c=s(22554),u=s(88712),p=s(37055),f=s(4206),m=s(36839),h=s(93558),x=s(2236),g=s(56338),b=s(14216),y=s(67908),v=s(73969),j=s(58676),w=s(46491),k=s(89422),N=s(56947),S=s(70938),I=s(74144);async function C(e,t){let{prompt:s}=e;if(!s)return null;let r=await (0,S.We)({"Content-Type":"application/json"}),a=await (0,S.x8)("".concat(I.o2,"/api/ai/feedback/classify"),{method:"POST",body:JSON.stringify({prompt:s}),headers:r,credentials:"include",signal:t});if(!a.ok){let{error:e}=await a.json();(0,S.H4)("object"==typeof e?e:"string"==typeof e?{message:e}:{message:"Unknown error"})}return(await a.json()).feedback_category}let F=function(e){let{prompt:t}=e,{enabled:s=!0,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,N.I)(["feedback-category",t],e=>{let{signal:s}=e;return C({prompt:t},s)},{enabled:s&&!!t,...r})};var _=s(80251);async function A(e){let{message:t,pathname:s,projectRef:r,organizationSlug:a}=e,{data:n,error:o}=await (0,S.bE)("/platform/feedback/send",{body:{message:t,category:"Feedback",tags:["dashboard-feedback"],projectRef:r,organizationSlug:a,pathname:s}});return o&&(0,S.H4)(o),n}let R=function(){let{onError:e,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,_.n)(e=>A(e),{async onError(t,s,r){void 0===e?v.oR.error("Failed to submit feedback: ".concat(t.message)):e(t,s,r)},...t})};var T=s(86992),D=s(52445),U=s(46895),L=s(29107),z=s(64495),M=s(50922),W=s(82147);let P=e=>{let t="image/png",s=atob(e.substr("data:".concat(t,";base64,").length)),r=[];for(let e=0;e<s.length;e+=1024){let t=s.slice(e,e+1024),a=Array(t.length);for(let e=0;e<t.length;e++)a[e]=t.charCodeAt(e);let n=new Uint8Array(a);r.push(n)}return new Blob(r,{type:t})},E=async(e,t)=>{let s=(0,W.UU)("https://obuldanrptloktxcffvn.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9idWxkYW5ycHRsb2t0eGNmZnZuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTg2MTQ2ODUsImV4cCI6MjAzNDE5MDY4NX0.NFt49g6DFkc1X5khCzN5p01iAVo2TMxlx88cY1V0E2M",{auth:{persistSession:!1,autoRefreshToken:!1,multiTab:!1,detectSessionInUrl:!1,localStorage:{getItem:e=>void 0,setItem:(e,t)=>{},removeItem:e=>{}}}}),r=P(t),a="".concat(e||"no-project","/").concat((0,U.gZ)(),".png"),{data:n,error:o}=await s.storage.from("feedback-attachments").upload(a,r,{cacheControl:"3600"});if(o)return void console.error("Failed to upload:",o);if(n){let{data:e}=await s.storage.from("feedback-attachments").createSignedUrls([n.path],31536e4);return null==e?void 0:e[0].signedUrl}},B=e=>{let{feedback:t,screenshot:s,onClose:a,setFeedback:n,setScreenshot:o}=e,b="feedback_content",N="screenshot",S=(0,y.useRouter)(),{ref:I,slug:C}=(0,w.g)(),{data:_}=(0,D.s)(),A=(0,i.useRef)(null),[W,B]=(0,i.useState)(!1),[O,J]=(0,i.useState)(!1),[Z,$]=(0,i.useState)(!1),[V]=(0,j.A)(t,450),{data:Y}=F({prompt:V}),{mutate:X}=(0,T.h)(),{mutate:q}=R({onSuccess:()=>{$(!0),n(""),o(void 0),localStorage.removeItem(b),localStorage.removeItem(N),B(!1)},onError:e=>{v.oR.error("Failed to submit feedback: ".concat(e.message)),B(!1)}});(0,i.useEffect)(()=>{let e=localStorage.getItem(b);e&&n(e);let t=localStorage.getItem(N);t&&o(t)},[]),(0,i.useEffect)(()=>{localStorage.setItem(b,t)},[t]),(0,i.useEffect)(()=>{s&&localStorage.setItem(N,s)},[s]);let G=async()=>{J(!0),await (0,U.wR)(100),(0,f.$E)(document.body,{filter:function(e){var t;return!((null!=(t=null==e?void 0:e.children)?t:[]).length>0)||"feedback-widget"!==e.children[0].id}}).then(e=>{localStorage.setItem(N,e),o(e)}).catch(()=>v.oR.error("Failed to capture screenshot")).finally(()=>{J(!1)})},Q=async e=>{e.persist();let[t]=e.target.files||e.dataTransfer.items,s=new FileReader;s.onload=function(e){var t;let s=null==(t=e.target)?void 0:t.result;"string"==typeof s&&(o(s),localStorage.setItem(N,s))},s.readAsDataURL(t),e.target.value=""},K=async()=>{let[e]=await navigator.clipboard.read();if(void 0===s&&"image/png"===e.types[0]){let t=await e.getType("image/png"),s=new FileReader;s.onload=function(e){var t;let s=null==(t=e.target)?void 0:t.result;"string"==typeof s&&(o(s),localStorage.setItem(N,s))},s.readAsDataURL(t)}},ee=async()=>{if(0===t.length&&void 0!==s)return v.oR.error("Please include a message in your feedback.");if(t.length>0){B(!0);let e=s?await E(I,s):void 0;q({projectRef:I,organizationSlug:C,message:void 0!==e?"".concat(t,"\n\nAttachments:\n").concat(e):t,pathname:S.asPath})}};return Z?(0,r.jsx)(H,{onClose:a,"data-sentry-element":"ThanksMessage","data-sentry-component":"FeedbackWidget","data-sentry-source-file":"FeedbackWidget.tsx"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"px-5 pb-4",children:(0,r.jsx)(L.f,{placeholder:"It would be great if...",rows:5,value:t,onChange:e=>n(e.target.value),onPaste:K,className:"text-sm mt-4 mb-1","data-sentry-element":"TextArea_Shadcn_","data-sentry-source-file":"FeedbackWidget.tsx"})}),(0,r.jsx)(u.N,{"data-sentry-element":"AnimatePresence","data-sentry-source-file":"FeedbackWidget.tsx",children:"support"===Y&&(0,r.jsx)(p.P.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},exit:{opacity:0,y:16},transition:{duration:.25},children:(0,r.jsx)(M.Z,{type:"caution",title:"This looks like an issue that's better handled by support",className:"rounded-none border-x-0 border-b-0 mb-0 [&>h5]:text-xs [&>h5]:mb-0.5",children:(0,r.jsxs)("p",{className:"text-xs text-foreground-light !leading-tight",children:["Please"," ",(0,r.jsx)(k.g,{className:"text-foreground-light hover:text-foreground",href:"/support/new/?projectRef=".concat(C,"&message=").concat(encodeURIComponent(t)),children:"open a support ticket"})," ","to get help with this issue, as we do not reply to all product feedback."]})})},"support-alert")})]}),(0,r.jsx)(d.zT,{"data-sentry-element":"PopoverSeparator_Shadcn_","data-sentry-source-file":"FeedbackWidget.tsx"}),(0,r.jsxs)("div",{className:"px-5 flex flex-row justify-between items-start mt-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-foreground",children:"Have a technical issue?"}),(0,r.jsxs)("p",{className:"text-xs text-foreground-light",children:["Contact"," ",(0,r.jsx)(l(),{href:"/support/new","data-sentry-element":"Link","data-sentry-source-file":"FeedbackWidget.tsx",children:(0,r.jsx)("span",{className:"cursor-pointer text-brand transition-colors hover:text-brand-600",children:"support"})})," ","or"," ",(0,r.jsx)("a",{href:"https://supabase.com/docs",target:"_blank",rel:"noreferrer",children:(0,r.jsx)("span",{className:"cursor-pointer text-brand transition-colors hover:text-brand-600",children:"see docs"})}),"."]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 flex-row",children:[void 0!==s?(0,r.jsx)("div",{style:{backgroundImage:'url("'.concat(s,'")')},onClick:()=>{let e=P(s),t=URL.createObjectURL(e);window.open(t,"_blank")},className:"cursor-pointer rounded h-[26px] w-[30px] border border-control relative bg-cover bg-center bg-no-repeat",children:(0,r.jsx)("button",{className:"cursor-pointer rounded-full bg-red-900 h-3 w-3 flex items-center justify-center absolute -top-1 -right-1",onClick:e=>{e.stopPropagation(),o(void 0)},children:(0,r.jsx)(m.A,{size:8,strokeWidth:3})})}):(0,r.jsxs)(z.rI,{children:[(0,r.jsx)(z.ty,{asChild:!0,children:(0,r.jsx)(c.$,{type:"default",disabled:O,loading:O,className:"px-2",children:(0,r.jsx)(h.A,{size:14})})}),(0,r.jsxs)(z.SQ,{side:"bottom",align:"end",className:"w-fit",children:[(0,r.jsxs)(z._2,{className:"flex gap-2",onSelect:()=>{A.current&&A.current.click()},children:[(0,r.jsx)(x.A,{size:14}),"Upload screenshot"]},"upload-screenshot"),(0,r.jsx)(z.mB,{}),(0,r.jsxs)(z._2,{className:"flex gap-2",onSelect:()=>G(),children:[(0,r.jsx)(g.A,{size:14}),"Capture screenshot"]},"capture-screenshot")]})]}),(0,r.jsx)("input",{type:"file",ref:A,className:"hidden",accept:"image/png",onChange:Q}),(0,r.jsx)(c.$,{disabled:0===t.length||W,loading:W,onClick:()=>{ee(),X({action:"send_feedback_button_clicked",groups:{project:I,organization:null==_?void 0:_.slug}})},"data-sentry-element":"Button","data-sentry-source-file":"FeedbackWidget.tsx",children:"Send"})]})]})]})},H=e=>{let{onClose:t}=e;return(0,r.jsx)("div",{className:"px-0 pt-3 pb-0","data-sentry-component":"ThanksMessage","data-sentry-source-file":"FeedbackWidget.tsx",children:(0,r.jsxs)("div",{className:"grid gap-3",children:[(0,r.jsxs)("div",{className:"px-6 grid gap-3 py-2 text-center text-foreground-light",children:[(0,r.jsx)(b.A,{className:"mx-auto text-brand-500",size:24,"data-sentry-element":"CircleCheck","data-sentry-source-file":"FeedbackWidget.tsx"}),(0,r.jsx)("p",{className:"text-foreground text-base",children:"Your feedback has been sent. Thanks!"}),(0,r.jsx)("p",{className:"text-sm ",children:"We do not always respond to feedback. If you require assistance, please contact support instead."})]}),(0,r.jsx)(d.zT,{"data-sentry-element":"PopoverSeparator_Shadcn_","data-sentry-source-file":"FeedbackWidget.tsx"}),(0,r.jsxs)("div",{className:"flex items-center justify-between px-4",children:[(0,r.jsx)("p",{className:"text-xs text-foreground-light",children:(0,r.jsx)(l(),{href:"/support/new","data-sentry-element":"Link","data-sentry-source-file":"FeedbackWidget.tsx",children:(0,r.jsx)("span",{className:"cursor-pointer text-brand transition-colors hover:text-brand-600",children:"Create a Support Ticket"})})}),(0,r.jsx)(c.$,{type:"default",onClick:t,"data-sentry-element":"Button","data-sentry-source-file":"FeedbackWidget.tsx",children:"Close"})]})]})})},O=e=>{let{className:t}=e,[s,o]=(0,i.useState)(!1),[u,p]=(0,i.useState)(""),[f,m]=(0,i.useState)(),[h,x]=(0,i.useState)("select");return(0,r.jsxs)(d.AM,{modal:!1,open:s,onOpenChange:e=>{o(e),e||m(void 0),e||x("select")},"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"FeedbackDropdown","data-sentry-source-file":"FeedbackDropdown.tsx",children:[(0,r.jsx)(d.Wv,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"FeedbackDropdown.tsx",children:(0,r.jsx)(c.$,{asChild:!0,onClick:()=>{o(e=>!e),x("select")},type:"outline",className:"rounded-full h-[32px] border-border","data-sentry-element":"Button","data-sentry-source-file":"FeedbackDropdown.tsx",children:(0,r.jsx)("span",{className:t,children:"Feedback"})})}),(0,r.jsxs)(d.hl,{side:"bottom",align:"end",className:"px-0 flex flex-col pt-1 pb-3 w-96",id:"feedback-widget","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"FeedbackDropdown.tsx",children:["select"===h&&(0,r.jsxs)("div",{className:"flex flex-col gap-4 p-4",children:[(0,r.jsx)("div",{className:"font-medium text-sm",children:"What would you like to share?"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsx)(c.$,{type:"default",className:"h-32",onClick:()=>o(!1),asChild:!0,children:(0,r.jsx)(l(),{href:"/support/new",children:(0,r.jsxs)("span",{className:"grid gap-1 text-center",children:[(0,r.jsx)(a.A,{size:"28",className:"mx-auto text-destructive-600"}),(0,r.jsx)("span",{className:"text-base",children:"Issue"}),(0,r.jsx)("span",{className:"text-xm text-foreground-lighter",children:"with my project"})]})})}),(0,r.jsx)(c.$,{type:"default",className:"h-32",onClick:()=>x("widget"),children:(0,r.jsxs)("span",{className:"grid gap-1 text-center",children:[(0,r.jsx)(n.A,{size:"28",className:"mx-auto text-warning"}),(0,r.jsx)("span",{className:"text-base",children:"Idea"}),(0,r.jsx)("span",{className:"text-xm text-foreground-lighter",children:"to improve Supabase"})]})})]})]}),"widget"===h&&(0,r.jsx)(B,{onClose:()=>o(!1),feedback:u,setFeedback:p,screenshot:f,setScreenshot:m})]})]})}},53405:(e,t,s)=>{"use strict";s.d(t,{r:()=>x});var r=s(80263),a=s(67908),n=s(53239),o=s(73969),l=s(95130),i=s(89422),d=s(86336);let c=e=>{let{visible:t,onClose:s,redirectToSignIn:a}=e;return(0,n.useEffect)(()=>{t&&l.Cp(Error("Session error detected"))},[t]),(0,r.jsx)(d.A,{visible:t,title:"Session timed out",confirmLabel:"Sign in again",onCancel:s,onConfirm:a,alert:{base:{variant:"warning"},title:"Your session has timed out",description:"Please try signing in again. If you are not able to sign in again, please contact Support."},"data-sentry-element":"ConfirmationModal","data-sentry-component":"SessionTimeoutModal","data-sentry-source-file":"SessionTimeoutModal.tsx",children:(0,r.jsxs)("p",{className:"text-sm text-foreground-light",children:["Consider"," ",(0,r.jsx)(i.g,{href:"https://github.com/orgs/supabase/discussions/36540","data-sentry-element":"InlineLink","data-sentry-source-file":"SessionTimeoutModal.tsx",children:"generating a HAR file"})," ","from your session to help Support pinpoint the issue."]})})};var u=s(95315),p=s(18725),f=s(91047),m=s(74144),h=s(76154);function x(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{useHighestAAL:!0};if(!m.pe)return e;let s=s=>{let l=(0,a.useRouter)(),i=(0,f.Rt)(),{isLoading:d,session:h}=(0,f.As)(),x=(0,n.useRef)(null),[g,b]=(0,n.useState)(!1),{isLoading:y,data:v}=(0,p.u)({onError(e){o.oR.error("Failed to fetch authenticator assurance level: ".concat(e.message,". Try refreshing your browser, or reach out to us via a support ticket if the issue persists"))}});(0,u.m)({onError(e){o.oR.error("Failed to fetch permissions: ".concat(e.message,". Try refreshing your browser, or reach out to us via a support ticket if the issue persists"))}});let j=!d&&!y,w=(0,n.useCallback)(()=>{let e=location.pathname;if(m.o2&&(e=e.replace(m.o2,"")),"/sign-in"===e)return;let t=new URLSearchParams(location.search);t.set("returnTo",e),i().finally(()=>{l.push("/sign-in?".concat(t.toString()))})},[l,i]);(0,n.useEffect)(()=>(j?x.current&&(clearTimeout(x.current),x.current=null):x.current=setTimeout(()=>{b(!0)},1e4),()=>{x.current&&clearTimeout(x.current)}),[j,l,w]);let k=!t.useHighestAAL||(null==v?void 0:v.currentLevel)===(null==v?void 0:v.nextLevel),N=j&&(!h||!k);return(0,n.useEffect)(()=>{N&&(x.current&&(clearTimeout(x.current),x.current=null),w())},[w,N]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c,{visible:g,onClose:()=>b(!1),redirectToSignIn:w,"data-sentry-element":"SessionTimeoutModal","data-sentry-source-file":"withAuth.tsx"}),(0,r.jsx)(e,{...s,"data-sentry-element":"InnerComponent","data-sentry-source-file":"withAuth.tsx"})]})};return s.displayName="withAuth(".concat(e.displayName,")"),(0,h.H)(e)&&(s.getLayout=e.getLayout),s}},57961:(e,t,s)=>{"use strict";s.d(t,{h:()=>r});let r=[{name:"Dark",value:"dark"},{name:"Light",value:"light"},{name:"Classic Dark",value:"classic-dark"},{name:"System",value:"system"}]},68937:(e,t,s)=>{"use strict";s.d(t,{X:()=>w});var r=s(80263),a=s(9764),n=s(87900),o=s(46910),l=s(796),i=s(93749),d=s.n(i),c=s(67908),u=s(96187),p=s(64084),f=s(91047),m=s(74144),h=s(67285),x=s(19335),g=s(64495),b=s(22554),y=s(57961),v=s(49503),j=s(4487);function w(){let e=(0,c.useRouter)(),t=(0,f.Rt)(),{profile:s}=(0,h.xc)(),{theme:i,setTheme:w}=(0,l.D)(),k=(0,x.qM)(),N=(0,v.sU)(),{openFeaturePreviewModal:S}=(0,j.j_)(),I=(0,p.x)("profile:show_email");return(0,r.jsxs)(g.rI,{"data-sentry-element":"DropdownMenu","data-sentry-component":"UserDropdown","data-sentry-source-file":"UserDropdown.tsx",children:[(0,r.jsx)(g.ty,{className:"border flex-shrink-0 px-3",asChild:!0,"data-sentry-element":"DropdownMenuTrigger","data-sentry-source-file":"UserDropdown.tsx",children:(0,r.jsx)(b.$,{type:"default",className:"[&>span]:flex px-0 py-0 rounded-full overflow-hidden h-8 w-8","data-sentry-element":"Button","data-sentry-source-file":"UserDropdown.tsx",children:(0,r.jsx)(u.p,{alt:null==s?void 0:s.username,src:null==s?void 0:s.profileImageUrl,className:"w-8 h-8 rounded-md","data-sentry-element":"ProfileImage","data-sentry-source-file":"UserDropdown.tsx"})})}),(0,r.jsxs)(g.SQ,{side:"bottom",align:"end","data-sentry-element":"DropdownMenuContent","data-sentry-source-file":"UserDropdown.tsx",children:[m.pe&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"px-2 py-1 flex flex-col gap-0 text-sm",children:s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{title:s.username,className:"w-full text-left text-foreground truncate",children:s.username}),s.primary_email!==s.username&&I&&(0,r.jsx)("span",{title:s.primary_email,className:"w-full text-left text-foreground-light text-xs truncate",children:s.primary_email})]})}),(0,r.jsx)(g.mB,{}),(0,r.jsxs)(g.I,{children:[(0,r.jsx)(g._2,{className:"flex gap-2",asChild:!0,children:(0,r.jsxs)(d(),{href:"/account/me",onClick:()=>{"/account/me"!==e.pathname&&k.setLastRouteBeforeVisitingAccountPage(e.asPath)},children:[(0,r.jsx)(a.A,{size:14,strokeWidth:1.5,className:"text-foreground-lighter"}),"Account preferences"]})}),(0,r.jsxs)(g._2,{className:"flex gap-2",onClick:S,onSelect:S,children:[(0,r.jsx)(n.A,{size:14,strokeWidth:1.5,className:"text-foreground-lighter"}),"Feature previews"]}),(0,r.jsxs)(g._2,{className:"flex gap-2",onClick:()=>N(!0),children:[(0,r.jsx)(o.A,{size:14,strokeWidth:1.5,className:"text-foreground-lighter"}),"Command menu"]}),(0,r.jsx)(g.mB,{})]})]}),(0,r.jsxs)(g.I,{"data-sentry-element":"DropdownMenuGroup","data-sentry-source-file":"UserDropdown.tsx",children:[(0,r.jsx)(g.lp,{"data-sentry-element":"DropdownMenuLabel","data-sentry-source-file":"UserDropdown.tsx",children:"Theme"}),(0,r.jsx)(g.Hr,{value:i,onValueChange:e=>{w(e)},"data-sentry-element":"DropdownMenuRadioGroup","data-sentry-source-file":"UserDropdown.tsx",children:y.h.map(e=>(0,r.jsx)(g.Ht,{value:e.value,children:e.name},e.value))})]}),m.pe&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.mB,{}),(0,r.jsx)(g.I,{children:(0,r.jsx)(g._2,{onSelect:async()=>{await t()},children:"Log out"})})]})]})]})}},76602:(e,t,s)=>{"use strict";s.d(t,{Ke:()=>o,Nt:()=>a,R6:()=>n});var r=s(90709);let a=r.bL,n=r.R6,o=r.Ke},96187:(e,t,s)=>{"use strict";s.d(t,{p:()=>d});var r=s(80263),a=s(64718),n=s.n(a),o=s(53239),l=s(91418),i=s(80127);let d=e=>{let{alt:t,src:s,placeholder:a,className:d}=e,[c,u]=(0,o.useState)(!1);return s&&!c?(0,r.jsx)(n(),{alt:null!=t?t:"",src:s,width:"24",height:"24",className:(0,i.cn)("aspect-square bg-foreground rounded-full object-cover",d),onError:()=>u(!0),"data-sentry-element":"Image","data-sentry-component":"ProfileImage","data-sentry-source-file":"ProfileImage.tsx"}):null!=a?a:(0,r.jsx)("figure",{className:(0,i.cn)("bg-foreground rounded-full flex items-center justify-center",d),children:(0,r.jsx)(l.KJ,{size:18,strokeWidth:1.5,className:"text-background"})})}}}]);